var d9=(a,i)=>()=>(i||a((i={exports:{}}).exports,i),i.exports);var h9=(a,i,c)=>{if(!i.has(a))throw TypeError("Cannot "+c)};var Vh=(a,i,c)=>{if(i.has(a))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(a):i.set(a,c)};var $r=(a,i,c)=>(h9(a,i,"access private method"),c);import{S as m9,$ as un,M as p9,c as g9}from"./bootstrap.esm-9bbc362d.js";var TX=d9((rR,Dl)=>{function H1(a,i){return function(){return a.apply(i,arguments)}}const{toString:j1}=Object.prototype,{getPrototypeOf:$y}=Object,By=(a=>i=>{const c=j1.call(i);return a[c]||(a[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),xo=a=>(a=a.toLowerCase(),i=>By(i)===a),mm=a=>i=>typeof i===a,{isArray:Ol}=Array,_u=mm("undefined");function v9(a){return a!==null&&!_u(a)&&a.constructor!==null&&!_u(a.constructor)&&ha(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const V1=xo("ArrayBuffer");function b9(a){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(a):i=a&&a.buffer&&V1(a.buffer),i}const y9=mm("string"),ha=mm("function"),q1=mm("number"),Fy=a=>a!==null&&typeof a=="object",C9=a=>a===!0||a===!1,Gh=a=>{if(By(a)!=="object")return!1;const i=$y(a);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},w9=xo("Date"),S9=xo("File"),E9=xo("Blob"),_9=xo("FileList"),x9=a=>Fy(a)&&ha(a.pipe),T9=a=>{const i="[object FormData]";return a&&(typeof FormData=="function"&&a instanceof FormData||j1.call(a)===i||ha(a.toString)&&a.toString()===i)},k9=xo("URLSearchParams"),A9=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Au(a,i,{allOwnKeys:c=!1}={}){if(a===null||typeof a>"u")return;let u,h;if(typeof a!="object"&&(a=[a]),Ol(a))for(u=0,h=a.length;u<h;u++)i.call(null,a[u],u,a);else{const m=c?Object.getOwnPropertyNames(a):Object.keys(a),p=m.length;let v;for(u=0;u<p;u++)v=m[u],i.call(null,a[v],v,a)}}function G1(a,i){i=i.toLowerCase();const c=Object.keys(a);let u=c.length,h;for(;u-- >0;)if(h=c[u],i===h.toLowerCase())return h;return null}const K1=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),X1=a=>!_u(a)&&a!==K1;function yy(){const{caseless:a}=X1(this)&&this||{},i={},c=(u,h)=>{const m=a&&G1(i,h)||h;Gh(i[m])&&Gh(u)?i[m]=yy(i[m],u):Gh(u)?i[m]=yy({},u):Ol(u)?i[m]=u.slice():i[m]=u};for(let u=0,h=arguments.length;u<h;u++)arguments[u]&&Au(arguments[u],c);return i}const D9=(a,i,c,{allOwnKeys:u}={})=>(Au(i,(h,m)=>{c&&ha(h)?a[m]=H1(h,c):a[m]=h},{allOwnKeys:u}),a),R9=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),N9=(a,i,c,u)=>{a.prototype=Object.create(i.prototype,u),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:i.prototype}),c&&Object.assign(a.prototype,c)},O9=(a,i,c,u)=>{let h,m,p;const v={};if(i=i||{},a==null)return i;do{for(h=Object.getOwnPropertyNames(a),m=h.length;m-- >0;)p=h[m],(!u||u(p,a,i))&&!v[p]&&(i[p]=a[p],v[p]=!0);a=c!==!1&&$y(a)}while(a&&(!c||c(a,i))&&a!==Object.prototype);return i},P9=(a,i,c)=>{a=String(a),(c===void 0||c>a.length)&&(c=a.length),c-=i.length;const u=a.indexOf(i,c);return u!==-1&&u===c},$9=a=>{if(!a)return null;if(Ol(a))return a;let i=a.length;if(!q1(i))return null;const c=new Array(i);for(;i-- >0;)c[i]=a[i];return c},B9=(a=>i=>a&&i instanceof a)(typeof Uint8Array<"u"&&$y(Uint8Array)),F9=(a,i)=>{const u=(a&&a[Symbol.iterator]).call(a);let h;for(;(h=u.next())&&!h.done;){const m=h.value;i.call(a,m[0],m[1])}},I9=(a,i)=>{let c;const u=[];for(;(c=a.exec(i))!==null;)u.push(c);return u},L9=xo("HTMLFormElement"),M9=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,u,h){return u.toUpperCase()+h}),m1=(({hasOwnProperty:a})=>(i,c)=>a.call(i,c))(Object.prototype),z9=xo("RegExp"),Y1=(a,i)=>{const c=Object.getOwnPropertyDescriptors(a),u={};Au(c,(h,m)=>{i(h,m,a)!==!1&&(u[m]=h)}),Object.defineProperties(a,u)},U9=a=>{Y1(a,(i,c)=>{if(ha(a)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const u=a[c];if(ha(u)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},W9=(a,i)=>{const c={},u=h=>{h.forEach(m=>{c[m]=!0})};return Ol(a)?u(a):u(String(a).split(i)),c},H9=()=>{},j9=(a,i)=>(a=+a,Number.isFinite(a)?a:i),hy="abcdefghijklmnopqrstuvwxyz",p1="0123456789",J1={DIGIT:p1,ALPHA:hy,ALPHA_DIGIT:hy+hy.toUpperCase()+p1},V9=(a=16,i=J1.ALPHA_DIGIT)=>{let c="";const{length:u}=i;for(;a--;)c+=i[Math.random()*u|0];return c};function q9(a){return!!(a&&ha(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const G9=a=>{const i=new Array(10),c=(u,h)=>{if(Fy(u)){if(i.indexOf(u)>=0)return;if(!("toJSON"in u)){i[h]=u;const m=Ol(u)?[]:{};return Au(u,(p,v)=>{const y=c(p,h+1);!_u(y)&&(m[v]=y)}),i[h]=void 0,m}}return u};return c(a,0)},ve={isArray:Ol,isArrayBuffer:V1,isBuffer:v9,isFormData:T9,isArrayBufferView:b9,isString:y9,isNumber:q1,isBoolean:C9,isObject:Fy,isPlainObject:Gh,isUndefined:_u,isDate:w9,isFile:S9,isBlob:E9,isRegExp:z9,isFunction:ha,isStream:x9,isURLSearchParams:k9,isTypedArray:B9,isFileList:_9,forEach:Au,merge:yy,extend:D9,trim:A9,stripBOM:R9,inherits:N9,toFlatObject:O9,kindOf:By,kindOfTest:xo,endsWith:P9,toArray:$9,forEachEntry:F9,matchAll:I9,isHTMLForm:L9,hasOwnProperty:m1,hasOwnProp:m1,reduceDescriptors:Y1,freezeMethods:U9,toObjectSet:W9,toCamelCase:M9,noop:H9,toFiniteNumber:j9,findKey:G1,global:K1,isContextDefined:X1,ALPHABET:J1,generateString:V9,isSpecCompliantForm:q9,toJSONObject:G9};function $t(a,i,c,u,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",i&&(this.code=i),c&&(this.config=c),u&&(this.request=u),h&&(this.response=h)}ve.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Q1=$t.prototype,Z1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Z1[a]={value:a}});Object.defineProperties($t,Z1);Object.defineProperty(Q1,"isAxiosError",{value:!0});$t.from=(a,i,c,u,h,m)=>{const p=Object.create(Q1);return ve.toFlatObject(a,p,function(y){return y!==Error.prototype},v=>v!=="isAxiosError"),$t.call(p,a.message,i,c,u,h),p.cause=a,p.name=a.name,m&&Object.assign(p,m),p};const K9=null;function Cy(a){return ve.isPlainObject(a)||ve.isArray(a)}function eD(a){return ve.endsWith(a,"[]")?a.slice(0,-2):a}function g1(a,i,c){return a?a.concat(i).map(function(h,m){return h=eD(h),!c&&m?"["+h+"]":h}).join(c?".":""):i}function X9(a){return ve.isArray(a)&&!a.some(Cy)}const Y9=ve.toFlatObject(ve,{},null,function(i){return/^is[A-Z]/.test(i)});function pm(a,i,c){if(!ve.isObject(a))throw new TypeError("target must be an object");i=i||new FormData,c=ve.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Q,X){return!ve.isUndefined(X[Q])});const u=c.metaTokens,h=c.visitor||T,m=c.dots,p=c.indexes,y=(c.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(i);if(!ve.isFunction(h))throw new TypeError("visitor must be a function");function S(M){if(M===null)return"";if(ve.isDate(M))return M.toISOString();if(!y&&ve.isBlob(M))throw new $t("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(M)||ve.isTypedArray(M)?y&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function T(M,Q,X){let z=M;if(M&&!X&&typeof M=="object"){if(ve.endsWith(Q,"{}"))Q=u?Q:Q.slice(0,-2),M=JSON.stringify(M);else if(ve.isArray(M)&&X9(M)||(ve.isFileList(M)||ve.endsWith(Q,"[]"))&&(z=ve.toArray(M)))return Q=eD(Q),z.forEach(function(V,be){!(ve.isUndefined(V)||V===null)&&i.append(p===!0?g1([Q],be,m):p===null?Q:Q+"[]",S(V))}),!1}return Cy(M)?!0:(i.append(g1(X,Q,m),S(M)),!1)}const A=[],I=Object.assign(Y9,{defaultVisitor:T,convertValue:S,isVisitable:Cy});function F(M,Q){if(!ve.isUndefined(M)){if(A.indexOf(M)!==-1)throw Error("Circular reference detected in "+Q.join("."));A.push(M),ve.forEach(M,function(z,O){(!(ve.isUndefined(z)||z===null)&&h.call(i,z,ve.isString(O)?O.trim():O,Q,I))===!0&&F(z,Q?Q.concat(O):[O])}),A.pop()}}if(!ve.isObject(a))throw new TypeError("data must be an object");return F(a),i}function v1(a){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(u){return i[u]})}function Iy(a,i){this._pairs=[],a&&pm(a,this,i)}const tD=Iy.prototype;tD.append=function(i,c){this._pairs.push([i,c])};tD.toString=function(i){const c=i?function(u){return i.call(this,u,v1)}:v1;return this._pairs.map(function(h){return c(h[0])+"="+c(h[1])},"").join("&")};function J9(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nD(a,i,c){if(!i)return a;const u=c&&c.encode||J9,h=c&&c.serialize;let m;if(h?m=h(i,c):m=ve.isURLSearchParams(i)?i.toString():new Iy(i,c).toString(u),m){const p=a.indexOf("#");p!==-1&&(a=a.slice(0,p)),a+=(a.indexOf("?")===-1?"?":"&")+m}return a}class Q9{constructor(){this.handlers=[]}use(i,c,u){return this.handlers.push({fulfilled:i,rejected:c,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){ve.forEach(this.handlers,function(u){u!==null&&i(u)})}}const b1=Q9,rD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Z9=typeof URLSearchParams<"u"?URLSearchParams:Iy,eK=typeof FormData<"u"?FormData:null,tK=typeof Blob<"u"?Blob:null,nK=(()=>{let a;return typeof navigator<"u"&&((a=navigator.product)==="ReactNative"||a==="NativeScript"||a==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),rK=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ks={isBrowser:!0,classes:{URLSearchParams:Z9,FormData:eK,Blob:tK},isStandardBrowserEnv:nK,isStandardBrowserWebWorkerEnv:rK,protocols:["http","https","file","blob","url","data"]};function sK(a,i){return pm(a,new Ks.classes.URLSearchParams,Object.assign({visitor:function(c,u,h,m){return Ks.isNode&&ve.isBuffer(c)?(this.append(u,c.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)}},i))}function oK(a){return ve.matchAll(/\w+|\[(\w*)]/g,a).map(i=>i[0]==="[]"?"":i[1]||i[0])}function aK(a){const i={},c=Object.keys(a);let u;const h=c.length;let m;for(u=0;u<h;u++)m=c[u],i[m]=a[m];return i}function sD(a){function i(c,u,h,m){let p=c[m++];const v=Number.isFinite(+p),y=m>=c.length;return p=!p&&ve.isArray(h)?h.length:p,y?(ve.hasOwnProp(h,p)?h[p]=[h[p],u]:h[p]=u,!v):((!h[p]||!ve.isObject(h[p]))&&(h[p]=[]),i(c,u,h[p],m)&&ve.isArray(h[p])&&(h[p]=aK(h[p])),!v)}if(ve.isFormData(a)&&ve.isFunction(a.entries)){const c={};return ve.forEachEntry(a,(u,h)=>{i(oK(u),h,c,0)}),c}return null}const iK={"Content-Type":void 0};function lK(a,i,c){if(ve.isString(a))try{return(i||JSON.parse)(a),ve.trim(a)}catch(u){if(u.name!=="SyntaxError")throw u}return(c||JSON.stringify)(a)}const gm={transitional:rD,adapter:["xhr","http"],transformRequest:[function(i,c){const u=c.getContentType()||"",h=u.indexOf("application/json")>-1,m=ve.isObject(i);if(m&&ve.isHTMLForm(i)&&(i=new FormData(i)),ve.isFormData(i))return h&&h?JSON.stringify(sD(i)):i;if(ve.isArrayBuffer(i)||ve.isBuffer(i)||ve.isStream(i)||ve.isFile(i)||ve.isBlob(i))return i;if(ve.isArrayBufferView(i))return i.buffer;if(ve.isURLSearchParams(i))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let v;if(m){if(u.indexOf("application/x-www-form-urlencoded")>-1)return sK(i,this.formSerializer).toString();if((v=ve.isFileList(i))||u.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return pm(v?{"files[]":i}:i,y&&new y,this.formSerializer)}}return m||h?(c.setContentType("application/json",!1),lK(i)):i}],transformResponse:[function(i){const c=this.transitional||gm.transitional,u=c&&c.forcedJSONParsing,h=this.responseType==="json";if(i&&ve.isString(i)&&(u&&!this.responseType||h)){const p=!(c&&c.silentJSONParsing)&&h;try{return JSON.parse(i)}catch(v){if(p)throw v.name==="SyntaxError"?$t.from(v,$t.ERR_BAD_RESPONSE,this,null,this.response):v}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ks.classes.FormData,Blob:Ks.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ve.forEach(["delete","get","head"],function(i){gm.headers[i]={}});ve.forEach(["post","put","patch"],function(i){gm.headers[i]=ve.merge(iK)});const Ly=gm,cK=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uK=a=>{const i={};let c,u,h;return a&&a.split(`
`).forEach(function(p){h=p.indexOf(":"),c=p.substring(0,h).trim().toLowerCase(),u=p.substring(h+1).trim(),!(!c||i[c]&&cK[c])&&(c==="set-cookie"?i[c]?i[c].push(u):i[c]=[u]:i[c]=i[c]?i[c]+", "+u:u)}),i},y1=Symbol("internals");function yu(a){return a&&String(a).trim().toLowerCase()}function Kh(a){return a===!1||a==null?a:ve.isArray(a)?a.map(Kh):String(a)}function fK(a){const i=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=c.exec(a);)i[u[1]]=u[2];return i}const dK=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function my(a,i,c,u,h){if(ve.isFunction(u))return u.call(this,i,c);if(h&&(i=c),!!ve.isString(i)){if(ve.isString(u))return i.indexOf(u)!==-1;if(ve.isRegExp(u))return u.test(i)}}function hK(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,c,u)=>c.toUpperCase()+u)}function mK(a,i){const c=ve.toCamelCase(" "+i);["get","set","has"].forEach(u=>{Object.defineProperty(a,u+c,{value:function(h,m,p){return this[u].call(this,i,h,m,p)},configurable:!0})})}class vm{constructor(i){i&&this.set(i)}set(i,c,u){const h=this;function m(v,y,S){const T=yu(y);if(!T)throw new Error("header name must be a non-empty string");const A=ve.findKey(h,T);(!A||h[A]===void 0||S===!0||S===void 0&&h[A]!==!1)&&(h[A||y]=Kh(v))}const p=(v,y)=>ve.forEach(v,(S,T)=>m(S,T,y));return ve.isPlainObject(i)||i instanceof this.constructor?p(i,c):ve.isString(i)&&(i=i.trim())&&!dK(i)?p(uK(i),c):i!=null&&m(c,i,u),this}get(i,c){if(i=yu(i),i){const u=ve.findKey(this,i);if(u){const h=this[u];if(!c)return h;if(c===!0)return fK(h);if(ve.isFunction(c))return c.call(this,h,u);if(ve.isRegExp(c))return c.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,c){if(i=yu(i),i){const u=ve.findKey(this,i);return!!(u&&this[u]!==void 0&&(!c||my(this,this[u],u,c)))}return!1}delete(i,c){const u=this;let h=!1;function m(p){if(p=yu(p),p){const v=ve.findKey(u,p);v&&(!c||my(u,u[v],v,c))&&(delete u[v],h=!0)}}return ve.isArray(i)?i.forEach(m):m(i),h}clear(i){const c=Object.keys(this);let u=c.length,h=!1;for(;u--;){const m=c[u];(!i||my(this,this[m],m,i,!0))&&(delete this[m],h=!0)}return h}normalize(i){const c=this,u={};return ve.forEach(this,(h,m)=>{const p=ve.findKey(u,m);if(p){c[p]=Kh(h),delete c[m];return}const v=i?hK(m):String(m).trim();v!==m&&delete c[m],c[v]=Kh(h),u[v]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const c=Object.create(null);return ve.forEach(this,(u,h)=>{u!=null&&u!==!1&&(c[h]=i&&ve.isArray(u)?u.join(", "):u)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,c])=>i+": "+c).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...c){const u=new this(i);return c.forEach(h=>u.set(h)),u}static accessor(i){const u=(this[y1]=this[y1]={accessors:{}}).accessors,h=this.prototype;function m(p){const v=yu(p);u[v]||(mK(h,p),u[v]=!0)}return ve.isArray(i)?i.forEach(m):m(i),this}}vm.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.freezeMethods(vm.prototype);ve.freezeMethods(vm);const _o=vm;function py(a,i){const c=this||Ly,u=i||c,h=_o.from(u.headers);let m=u.data;return ve.forEach(a,function(v){m=v.call(c,m,h.normalize(),i?i.status:void 0)}),h.normalize(),m}function oD(a){return!!(a&&a.__CANCEL__)}function Du(a,i,c){$t.call(this,a??"canceled",$t.ERR_CANCELED,i,c),this.name="CanceledError"}ve.inherits(Du,$t,{__CANCEL__:!0});function pK(a,i,c){const u=c.config.validateStatus;!c.status||!u||u(c.status)?a(c):i(new $t("Request failed with status code "+c.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}const gK=Ks.isStandardBrowserEnv?function(){return{write:function(c,u,h,m,p,v){const y=[];y.push(c+"="+encodeURIComponent(u)),ve.isNumber(h)&&y.push("expires="+new Date(h).toGMTString()),ve.isString(m)&&y.push("path="+m),ve.isString(p)&&y.push("domain="+p),v===!0&&y.push("secure"),document.cookie=y.join("; ")},read:function(c){const u=document.cookie.match(new RegExp("(^|;\\s*)("+c+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(c){this.write(c,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function vK(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function bK(a,i){return i?a.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):a}function aD(a,i){return a&&!vK(i)?bK(a,i):i}const yK=Ks.isStandardBrowserEnv?function(){const i=/(msie|trident)/i.test(navigator.userAgent),c=document.createElement("a");let u;function h(m){let p=m;return i&&(c.setAttribute("href",p),p=c.href),c.setAttribute("href",p),{href:c.href,protocol:c.protocol?c.protocol.replace(/:$/,""):"",host:c.host,search:c.search?c.search.replace(/^\?/,""):"",hash:c.hash?c.hash.replace(/^#/,""):"",hostname:c.hostname,port:c.port,pathname:c.pathname.charAt(0)==="/"?c.pathname:"/"+c.pathname}}return u=h(window.location.href),function(p){const v=ve.isString(p)?h(p):p;return v.protocol===u.protocol&&v.host===u.host}}():function(){return function(){return!0}}();function CK(a){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return i&&i[1]||""}function wK(a,i){a=a||10;const c=new Array(a),u=new Array(a);let h=0,m=0,p;return i=i!==void 0?i:1e3,function(y){const S=Date.now(),T=u[m];p||(p=S),c[h]=y,u[h]=S;let A=m,I=0;for(;A!==h;)I+=c[A++],A=A%a;if(h=(h+1)%a,h===m&&(m=(m+1)%a),S-p<i)return;const F=T&&S-T;return F?Math.round(I*1e3/F):void 0}}function C1(a,i){let c=0;const u=wK(50,250);return h=>{const m=h.loaded,p=h.lengthComputable?h.total:void 0,v=m-c,y=u(v),S=m<=p;c=m;const T={loaded:m,total:p,progress:p?m/p:void 0,bytes:v,rate:y||void 0,estimated:y&&p&&S?(p-m)/y:void 0,event:h};T[i?"download":"upload"]=!0,a(T)}}const SK=typeof XMLHttpRequest<"u",EK=SK&&function(a){return new Promise(function(c,u){let h=a.data;const m=_o.from(a.headers).normalize(),p=a.responseType;let v;function y(){a.cancelToken&&a.cancelToken.unsubscribe(v),a.signal&&a.signal.removeEventListener("abort",v)}ve.isFormData(h)&&(Ks.isStandardBrowserEnv||Ks.isStandardBrowserWebWorkerEnv)&&m.setContentType(!1);let S=new XMLHttpRequest;if(a.auth){const F=a.auth.username||"",M=a.auth.password?unescape(encodeURIComponent(a.auth.password)):"";m.set("Authorization","Basic "+btoa(F+":"+M))}const T=aD(a.baseURL,a.url);S.open(a.method.toUpperCase(),nD(T,a.params,a.paramsSerializer),!0),S.timeout=a.timeout;function A(){if(!S)return;const F=_o.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),Q={data:!p||p==="text"||p==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:F,config:a,request:S};pK(function(z){c(z),y()},function(z){u(z),y()},Q),S=null}if("onloadend"in S?S.onloadend=A:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(A)},S.onabort=function(){S&&(u(new $t("Request aborted",$t.ECONNABORTED,a,S)),S=null)},S.onerror=function(){u(new $t("Network Error",$t.ERR_NETWORK,a,S)),S=null},S.ontimeout=function(){let M=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const Q=a.transitional||rD;a.timeoutErrorMessage&&(M=a.timeoutErrorMessage),u(new $t(M,Q.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,a,S)),S=null},Ks.isStandardBrowserEnv){const F=(a.withCredentials||yK(T))&&a.xsrfCookieName&&gK.read(a.xsrfCookieName);F&&m.set(a.xsrfHeaderName,F)}h===void 0&&m.setContentType(null),"setRequestHeader"in S&&ve.forEach(m.toJSON(),function(M,Q){S.setRequestHeader(Q,M)}),ve.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),p&&p!=="json"&&(S.responseType=a.responseType),typeof a.onDownloadProgress=="function"&&S.addEventListener("progress",C1(a.onDownloadProgress,!0)),typeof a.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",C1(a.onUploadProgress)),(a.cancelToken||a.signal)&&(v=F=>{S&&(u(!F||F.type?new Du(null,a,S):F),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(v),a.signal&&(a.signal.aborted?v():a.signal.addEventListener("abort",v)));const I=CK(T);if(I&&Ks.protocols.indexOf(I)===-1){u(new $t("Unsupported protocol "+I+":",$t.ERR_BAD_REQUEST,a));return}S.send(h||null)})},Xh={http:K9,xhr:EK};ve.forEach(Xh,(a,i)=>{if(a){try{Object.defineProperty(a,"name",{value:i})}catch{}Object.defineProperty(a,"adapterName",{value:i})}});const _K={getAdapter:a=>{a=ve.isArray(a)?a:[a];const{length:i}=a;let c,u;for(let h=0;h<i&&(c=a[h],!(u=ve.isString(c)?Xh[c.toLowerCase()]:c));h++);if(!u)throw u===!1?new $t(`Adapter ${c} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ve.hasOwnProp(Xh,c)?`Adapter '${c}' is not available in the build`:`Unknown adapter '${c}'`);if(!ve.isFunction(u))throw new TypeError("adapter is not a function");return u},adapters:Xh};function gy(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new Du(null,a)}function w1(a){return gy(a),a.headers=_o.from(a.headers),a.data=py.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),_K.getAdapter(a.adapter||Ly.adapter)(a).then(function(u){return gy(a),u.data=py.call(a,a.transformResponse,u),u.headers=_o.from(u.headers),u},function(u){return oD(u)||(gy(a),u&&u.response&&(u.response.data=py.call(a,a.transformResponse,u.response),u.response.headers=_o.from(u.response.headers))),Promise.reject(u)})}const S1=a=>a instanceof _o?a.toJSON():a;function Rl(a,i){i=i||{};const c={};function u(S,T,A){return ve.isPlainObject(S)&&ve.isPlainObject(T)?ve.merge.call({caseless:A},S,T):ve.isPlainObject(T)?ve.merge({},T):ve.isArray(T)?T.slice():T}function h(S,T,A){if(ve.isUndefined(T)){if(!ve.isUndefined(S))return u(void 0,S,A)}else return u(S,T,A)}function m(S,T){if(!ve.isUndefined(T))return u(void 0,T)}function p(S,T){if(ve.isUndefined(T)){if(!ve.isUndefined(S))return u(void 0,S)}else return u(void 0,T)}function v(S,T,A){if(A in i)return u(S,T);if(A in a)return u(void 0,S)}const y={url:m,method:m,data:m,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:v,headers:(S,T)=>h(S1(S),S1(T),!0)};return ve.forEach(Object.keys(a).concat(Object.keys(i)),function(T){const A=y[T]||h,I=A(a[T],i[T],T);ve.isUndefined(I)&&A!==v||(c[T]=I)}),c}const iD="1.3.5",My={};["object","boolean","number","function","string","symbol"].forEach((a,i)=>{My[a]=function(u){return typeof u===a||"a"+(i<1?"n ":" ")+a}});const E1={};My.transitional=function(i,c,u){function h(m,p){return"[Axios v"+iD+"] Transitional option '"+m+"'"+p+(u?". "+u:"")}return(m,p,v)=>{if(i===!1)throw new $t(h(p," has been removed"+(c?" in "+c:"")),$t.ERR_DEPRECATED);return c&&!E1[p]&&(E1[p]=!0,console.warn(h(p," has been deprecated since v"+c+" and will be removed in the near future"))),i?i(m,p,v):!0}};function xK(a,i,c){if(typeof a!="object")throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const u=Object.keys(a);let h=u.length;for(;h-- >0;){const m=u[h],p=i[m];if(p){const v=a[m],y=v===void 0||p(v,m,a);if(y!==!0)throw new $t("option "+m+" must be "+y,$t.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new $t("Unknown option "+m,$t.ERR_BAD_OPTION)}}const wy={assertOptions:xK,validators:My},fa=wy.validators;class em{constructor(i){this.defaults=i,this.interceptors={request:new b1,response:new b1}}request(i,c){typeof i=="string"?(c=c||{},c.url=i):c=i||{},c=Rl(this.defaults,c);const{transitional:u,paramsSerializer:h,headers:m}=c;u!==void 0&&wy.assertOptions(u,{silentJSONParsing:fa.transitional(fa.boolean),forcedJSONParsing:fa.transitional(fa.boolean),clarifyTimeoutError:fa.transitional(fa.boolean)},!1),h!=null&&(ve.isFunction(h)?c.paramsSerializer={serialize:h}:wy.assertOptions(h,{encode:fa.function,serialize:fa.function},!0)),c.method=(c.method||this.defaults.method||"get").toLowerCase();let p;p=m&&ve.merge(m.common,m[c.method]),p&&ve.forEach(["delete","get","head","post","put","patch","common"],M=>{delete m[M]}),c.headers=_o.concat(p,m);const v=[];let y=!0;this.interceptors.request.forEach(function(Q){typeof Q.runWhen=="function"&&Q.runWhen(c)===!1||(y=y&&Q.synchronous,v.unshift(Q.fulfilled,Q.rejected))});const S=[];this.interceptors.response.forEach(function(Q){S.push(Q.fulfilled,Q.rejected)});let T,A=0,I;if(!y){const M=[w1.bind(this),void 0];for(M.unshift.apply(M,v),M.push.apply(M,S),I=M.length,T=Promise.resolve(c);A<I;)T=T.then(M[A++],M[A++]);return T}I=v.length;let F=c;for(A=0;A<I;){const M=v[A++],Q=v[A++];try{F=M(F)}catch(X){Q.call(this,X);break}}try{T=w1.call(this,F)}catch(M){return Promise.reject(M)}for(A=0,I=S.length;A<I;)T=T.then(S[A++],S[A++]);return T}getUri(i){i=Rl(this.defaults,i);const c=aD(i.baseURL,i.url);return nD(c,i.params,i.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(i){em.prototype[i]=function(c,u){return this.request(Rl(u||{},{method:i,url:c,data:(u||{}).data}))}});ve.forEach(["post","put","patch"],function(i){function c(u){return function(m,p,v){return this.request(Rl(v||{},{method:i,headers:u?{"Content-Type":"multipart/form-data"}:{},url:m,data:p}))}}em.prototype[i]=c(),em.prototype[i+"Form"]=c(!0)});const Yh=em;class zy{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(m){c=m});const u=this;this.promise.then(h=>{if(!u._listeners)return;let m=u._listeners.length;for(;m-- >0;)u._listeners[m](h);u._listeners=null}),this.promise.then=h=>{let m;const p=new Promise(v=>{u.subscribe(v),m=v}).then(h);return p.cancel=function(){u.unsubscribe(m)},p},i(function(m,p,v){u.reason||(u.reason=new Du(m,p,v),c(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const c=this._listeners.indexOf(i);c!==-1&&this._listeners.splice(c,1)}static source(){let i;return{token:new zy(function(h){i=h}),cancel:i}}}const TK=zy;function kK(a){return function(c){return a.apply(null,c)}}function AK(a){return ve.isObject(a)&&a.isAxiosError===!0}const Sy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sy).forEach(([a,i])=>{Sy[i]=a});const DK=Sy;function lD(a){const i=new Yh(a),c=H1(Yh.prototype.request,i);return ve.extend(c,Yh.prototype,i,{allOwnKeys:!0}),ve.extend(c,i,null,{allOwnKeys:!0}),c.create=function(h){return lD(Rl(a,h))},c}const Dn=lD(Ly);Dn.Axios=Yh;Dn.CanceledError=Du;Dn.CancelToken=TK;Dn.isCancel=oD;Dn.VERSION=iD;Dn.toFormData=pm;Dn.AxiosError=$t;Dn.Cancel=Dn.CanceledError;Dn.all=function(i){return Promise.all(i)};Dn.spread=kK;Dn.isAxiosError=AK;Dn.mergeConfig=Rl;Dn.AxiosHeaders=_o;Dn.formToJSON=a=>sD(ve.isHTMLForm(a)?new FormData(a):a);Dn.HttpStatusCode=DK;Dn.default=Dn;const RK=Dn;window.axios=RK;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.Swal=m9;(function(a,i){typeof rR=="object"&&typeof Dl<"u"?Dl.exports=i():typeof define=="function"&&define.amd?define(i):(a=a||self,a.SimpleBar=i())})(globalThis,function(){var a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i(b,_){return _={exports:{}},b(_,_.exports),_.exports}var c="object",u=function(b){return b&&b.Math==Math&&b},h=u(typeof globalThis==c&&globalThis)||u(typeof window==c&&window)||u(typeof self==c&&self)||u(typeof a==c&&a)||Function("return this")(),m=function(b){try{return!!b()}catch{return!0}},p=!m(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),v={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,S=y&&!v.call({1:2},1),T=S?function(_){var D=y(this,_);return!!D&&D.enumerable}:v,A={f:T},I=function(b,_){return{enumerable:!(b&1),configurable:!(b&2),writable:!(b&4),value:_}},F={}.toString,M=function(b){return F.call(b).slice(8,-1)},Q="".split,X=m(function(){return!Object("z").propertyIsEnumerable(0)})?function(b){return M(b)=="String"?Q.call(b,""):Object(b)}:Object,z=function(b){if(b==null)throw TypeError("Can't call method on "+b);return b},O=function(b){return X(z(b))},V=function(b){return typeof b=="object"?b!==null:typeof b=="function"},be=function(b,_){if(!V(b))return b;var D,N;if(_&&typeof(D=b.toString)=="function"&&!V(N=D.call(b))||typeof(D=b.valueOf)=="function"&&!V(N=D.call(b))||!_&&typeof(D=b.toString)=="function"&&!V(N=D.call(b)))return N;throw TypeError("Can't convert object to primitive value")},Me={}.hasOwnProperty,$e=function(b,_){return Me.call(b,_)},tt=h.document,ut=V(tt)&&V(tt.createElement),yt=function(b){return ut?tt.createElement(b):{}},at=!p&&!m(function(){return Object.defineProperty(yt("div"),"a",{get:function(){return 7}}).a!=7}),fe=Object.getOwnPropertyDescriptor,Ke=p?fe:function(_,D){if(_=O(_),D=be(D,!0),at)try{return fe(_,D)}catch{}if($e(_,D))return I(!A.f.call(_,D),_[D])},Mt={f:Ke},ft=function(b){if(!V(b))throw TypeError(String(b)+" is not an object");return b},ze=Object.defineProperty,Jt=p?ze:function(_,D,N){if(ft(_),D=be(D,!0),ft(N),at)try{return ze(_,D,N)}catch{}if("get"in N||"set"in N)throw TypeError("Accessors not supported");return"value"in N&&(_[D]=N.value),_},qt={f:Jt},ie=p?function(b,_,D){return qt.f(b,_,I(1,D))}:function(b,_,D){return b[_]=D,b},zt=function(b,_){try{ie(h,b,_)}catch{h[b]=_}return _},zn=i(function(b){var _="__core-js_shared__",D=h[_]||zt(_,{});(b.exports=function(N,R){return D[N]||(D[N]=R!==void 0?R:{})})("versions",[]).push({version:"3.2.1",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),xe=zn("native-function-to-string",Function.toString),ir=h.WeakMap,bs=typeof ir=="function"&&/native code/.test(xe.call(ir)),To=0,ys=Math.random(),Ye=function(b){return"Symbol("+String(b===void 0?"":b)+")_"+(++To+ys).toString(36)},ht=zn("keys"),x=function(b){return ht[b]||(ht[b]=Ye(b))},ko={},Am=h.WeakMap,Ci,Ao,wi,kt=function(b){return wi(b)?Ao(b):Ci(b,{})},Xt=function(b){return function(_){var D;if(!V(_)||(D=Ao(_)).type!==b)throw TypeError("Incompatible receiver, "+b+" required");return D}};if(bs){var mt=new Am,ue=mt.get,zu=mt.has,ga=mt.set;Ci=function(b,_){return ga.call(mt,b,_),_},Ao=function(b){return ue.call(mt,b)||{}},wi=function(b){return zu.call(mt,b)}}else{var He=x("state");ko[He]=!0,Ci=function(b,_){return ie(b,He,_),_},Ao=function(b){return $e(b,He)?b[He]:{}},wi=function(b){return $e(b,He)}}var Jn={set:Ci,get:Ao,has:wi,enforce:kt,getterFor:Xt},fn=i(function(b){var _=Jn.get,D=Jn.enforce,N=String(xe).split("toString");zn("inspectSource",function(R){return xe.call(R)}),(b.exports=function(R,q,te,se){var ae=se?!!se.unsafe:!1,Te=se?!!se.enumerable:!1,ge=se?!!se.noTargetGet:!1;if(typeof te=="function"&&(typeof q=="string"&&!$e(te,"name")&&ie(te,"name",q),D(te).source=N.join(typeof q=="string"?q:"")),R===h){Te?R[q]=te:zt(q,te);return}else ae?!ge&&R[q]&&(Te=!0):delete R[q];Te?R[q]=te:ie(R,q,te)})(Function.prototype,"toString",function(){return typeof this=="function"&&_(this).source||xe.call(this)})}),Si=h,Qt=function(b){return typeof b=="function"?b:void 0},Do=function(b,_){return arguments.length<2?Qt(Si[b])||Qt(h[b]):Si[b]&&Si[b][_]||h[b]&&h[b][_]},Uu=Math.ceil,Ir=Math.floor,vr=function(b){return isNaN(b=+b)?0:(b>0?Ir:Uu)(b)},va=Math.min,Xr=function(b){return b>0?va(vr(b),9007199254740991):0},Bl=Math.max,Ys=Math.min,Ei=function(b,_){var D=vr(b);return D<0?Bl(D+_,0):Ys(D,_)},Rn=function(b){return function(_,D,N){var R=O(_),q=Xr(R.length),te=Ei(N,q),se;if(b&&D!=D){for(;q>te;)if(se=R[te++],se!=se)return!0}else for(;q>te;te++)if((b||te in R)&&R[te]===D)return b||te||0;return!b&&-1}},Js={includes:Rn(!0),indexOf:Rn(!1)},Un=Js.indexOf,Qs=function(b,_){var D=O(b),N=0,R=[],q;for(q in D)!$e(ko,q)&&$e(D,q)&&R.push(q);for(;_.length>N;)$e(D,q=_[N++])&&(~Un(R,q)||R.push(q));return R},_i=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Wn=_i.concat("length","prototype"),Dm=Object.getOwnPropertyNames||function(_){return Qs(_,Wn)},Nt={f:Dm},xi=Object.getOwnPropertySymbols,Wu={f:xi},Fl=Do("Reflect","ownKeys")||function(_){var D=Nt.f(ft(_)),N=Wu.f;return N?D.concat(N(_)):D},Hu=function(b,_){for(var D=Fl(_),N=qt.f,R=Mt.f,q=0;q<D.length;q++){var te=D[q];$e(b,te)||N(b,te,R(_,te))}},Rm=/#|\.prototype\./,Yr=function(b,_){var D=Ll[Il(b)];return D==Je?!0:D==Bt?!1:typeof _=="function"?m(_):!!_},Il=Yr.normalize=function(b){return String(b).replace(Rm,".").toLowerCase()},Ll=Yr.data={},Bt=Yr.NATIVE="N",Je=Yr.POLYFILL="P",Cs=Yr,Nm=Mt.f,Jr=function(b,_){var D=b.target,N=b.global,R=b.stat,q,te,se,ae,Te,ge;if(N?te=h:R?te=h[D]||zt(D,{}):te=(h[D]||{}).prototype,te)for(se in _){if(Te=_[se],b.noTargetGet?(ge=Nm(te,se),ae=ge&&ge.value):ae=te[se],q=Cs(N?se:D+(R?".":"#")+se,b.forced),!q&&ae!==void 0){if(typeof Te==typeof ae)continue;Hu(Te,ae)}(b.sham||ae&&ae.sham)&&ie(Te,"sham",!0),fn(te,se,Te,b)}},Ml=function(b){if(typeof b!="function")throw TypeError(String(b)+" is not a function");return b},Ti=function(b,_,D){if(Ml(b),_===void 0)return b;switch(D){case 0:return function(){return b.call(_)};case 1:return function(N){return b.call(_,N)};case 2:return function(N,R){return b.call(_,N,R)};case 3:return function(N,R,q){return b.call(_,N,R,q)}}return function(){return b.apply(_,arguments)}},ba=function(b){return Object(z(b))},ya=Array.isArray||function(_){return M(_)=="Array"},ki=!!Object.getOwnPropertySymbols&&!m(function(){return!String(Symbol())}),Ro=h.Symbol,ju=zn("wks"),wn=function(b){return ju[b]||(ju[b]=ki&&Ro[b]||(ki?Ro:Ye)("Symbol."+b))},Vu=wn("species"),Zs=function(b,_){var D;return ya(b)&&(D=b.constructor,typeof D=="function"&&(D===Array||ya(D.prototype))?D=void 0:V(D)&&(D=D[Vu],D===null&&(D=void 0))),new(D===void 0?Array:D)(_===0?0:_)},eo=[].push,to=function(b){var _=b==1,D=b==2,N=b==3,R=b==4,q=b==6,te=b==5||q;return function(se,ae,Te,ge){for(var We=ba(se),Ue=X(We),Be=Ti(ae,Te,3),Ve=Xr(Ue.length),rt=0,pt=ge||Zs,ot=_?pt(se,Ve):D?pt(se,0):void 0,Ot,It;Ve>rt;rt++)if((te||rt in Ue)&&(Ot=Ue[rt],It=Be(Ot,rt,We),b)){if(_)ot[rt]=It;else if(It)switch(b){case 3:return!0;case 5:return Ot;case 6:return rt;case 2:eo.call(ot,Ot)}else if(R)return!1}return q?-1:N||R?R:ot}},Ai={forEach:to(0),map:to(1),filter:to(2),some:to(3),every:to(4),find:to(5),findIndex:to(6)},qu=function(b,_){var D=[][b];return!D||!m(function(){D.call(null,_||function(){throw 1},1)})},Om=Ai.forEach,No=qu("forEach")?function(_){return Om(this,_,arguments.length>1?arguments[1]:void 0)}:[].forEach;Jr({target:"Array",proto:!0,forced:[].forEach!=No},{forEach:No});var Ca={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var wa in Ca){var Gu=h[wa],Sa=Gu&&Gu.prototype;if(Sa&&Sa.forEach!==No)try{ie(Sa,"forEach",No)}catch{Sa.forEach=No}}var Pm=!!(typeof window<"u"&&window.document&&window.document.createElement),zl=Pm,$m=wn("species"),Ku=function(b){return!m(function(){var _=[],D=_.constructor={};return D[$m]=function(){return{foo:1}},_[b](Boolean).foo!==1})},Xu=Ai.filter;Jr({target:"Array",proto:!0,forced:!Ku("filter")},{filter:function(_){return Xu(this,_,arguments.length>1?arguments[1]:void 0)}});var ln=Object.keys||function(_){return Qs(_,_i)},gn=p?Object.defineProperties:function(_,D){ft(_);for(var N=ln(D),R=N.length,q=0,te;R>q;)qt.f(_,te=N[q++],D[te]);return _},Yu=Do("document","documentElement"),Di=x("IE_PROTO"),ws="prototype",Ul=function(){},Ea=function(){var b=yt("iframe"),_=_i.length,D="<",N="script",R=">",q="java"+N+":",te;for(b.style.display="none",Yu.appendChild(b),b.src=String(q),te=b.contentWindow.document,te.open(),te.write(D+N+R+"document.F=Object"+D+"/"+N+R),te.close(),Ea=te.F;_--;)delete Ea[ws][_i[_]];return Ea()},br=Object.create||function(_,D){var N;return _!==null?(Ul[ws]=ft(_),N=new Ul,Ul[ws]=null,N[Di]=_):N=Ea(),D===void 0?N:gn(N,D)};ko[Di]=!0;var no=wn("unscopables"),Wl=Array.prototype;Wl[no]==null&&ie(Wl,no,br(null));var Oo=function(b){Wl[no][b]=!0},Ss={},Qr=!m(function(){function b(){}return b.prototype.constructor=null,Object.getPrototypeOf(new b)!==b.prototype}),Ju=x("IE_PROTO"),Bm=Object.prototype,_a=Qr?Object.getPrototypeOf:function(b){return b=ba(b),$e(b,Ju)?b[Ju]:typeof b.constructor=="function"&&b instanceof b.constructor?b.constructor.prototype:b instanceof Object?Bm:null},Hl=wn("iterator"),jl=!1,Qu=function(){return this},ro,Ri,Ni;[].keys&&(Ni=[].keys(),"next"in Ni?(Ri=_a(_a(Ni)),Ri!==Object.prototype&&(ro=Ri)):jl=!0),ro==null&&(ro={}),$e(ro,Hl)||ie(ro,Hl,Qu);var Vl={IteratorPrototype:ro,BUGGY_SAFARI_ITERATORS:jl},Zu=qt.f,ql=wn("toStringTag"),Oi=function(b,_,D){b&&!$e(b=D?b:b.prototype,ql)&&Zu(b,ql,{configurable:!0,value:_})},ef=Vl.IteratorPrototype,tf=function(){return this},nf=function(b,_,D){var N=_+" Iterator";return b.prototype=br(ef,{next:I(1,D)}),Oi(b,N,!1),Ss[N]=tf,b},rf=function(b){if(!V(b)&&b!==null)throw TypeError("Can't set "+String(b)+" as a prototype");return b},xa=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,_={},D;try{D=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,D.call(_,[]),b=_ instanceof Array}catch{}return function(R,q){return ft(R),rf(q),b?D.call(R,q):R.__proto__=q,R}}():void 0),Pi=Vl.IteratorPrototype,Ta=Vl.BUGGY_SAFARI_ITERATORS,ka=wn("iterator"),Gl="keys",Aa="values",Fm="entries",Im=function(){return this},sf=function(b,_,D,N,R,q,te){nf(D,_,N);var se=function(ot){if(ot===R&&Ue)return Ue;if(!Ta&&ot in ge)return ge[ot];switch(ot){case Gl:return function(){return new D(this,ot)};case Aa:return function(){return new D(this,ot)};case Fm:return function(){return new D(this,ot)}}return function(){return new D(this)}},ae=_+" Iterator",Te=!1,ge=b.prototype,We=ge[ka]||ge["@@iterator"]||R&&ge[R],Ue=!Ta&&We||se(R),Be=_=="Array"&&ge.entries||We,Ve,rt,pt;if(Be&&(Ve=_a(Be.call(new b)),Pi!==Object.prototype&&Ve.next&&(_a(Ve)!==Pi&&(xa?xa(Ve,Pi):typeof Ve[ka]!="function"&&ie(Ve,ka,Im)),Oi(Ve,ae,!0))),R==Aa&&We&&We.name!==Aa&&(Te=!0,Ue=function(){return We.call(this)}),ge[ka]!==Ue&&ie(ge,ka,Ue),Ss[_]=Ue,R)if(rt={values:se(Aa),keys:q?Ue:se(Gl),entries:se(Fm)},te)for(pt in rt)(Ta||Te||!(pt in ge))&&fn(ge,pt,rt[pt]);else Jr({target:_,proto:!0,forced:Ta||Te},rt);return rt},of="Array Iterator",Es=Jn.set,Lm=Jn.getterFor(of),so=sf(Array,"Array",function(b,_){Es(this,{type:of,target:O(b),index:0,kind:_})},function(){var b=Lm(this),_=b.target,D=b.kind,N=b.index++;return!_||N>=_.length?(b.target=void 0,{value:void 0,done:!0}):D=="keys"?{value:N,done:!1}:D=="values"?{value:_[N],done:!1}:{value:[N,_[N]],done:!1}},"values");Ss.Arguments=Ss.Array,Oo("keys"),Oo("values"),Oo("entries");var Qn=Object.assign,yr=!Qn||m(function(){var b={},_={},D=Symbol(),N="abcdefghijklmnopqrst";return b[D]=7,N.split("").forEach(function(R){_[R]=R}),Qn({},b)[D]!=7||ln(Qn({},_)).join("")!=N})?function(_,D){for(var N=ba(_),R=arguments.length,q=1,te=Wu.f,se=A.f;R>q;)for(var ae=X(arguments[q++]),Te=te?ln(ae).concat(te(ae)):ln(ae),ge=Te.length,We=0,Ue;ge>We;)Ue=Te[We++],(!p||se.call(ae,Ue))&&(N[Ue]=ae[Ue]);return N}:Qn;Jr({target:"Object",stat:!0,forced:Object.assign!==yr},{assign:yr});var oo=wn("toStringTag"),Mm=M(function(){return arguments}())=="Arguments",vt=function(b,_){try{return b[_]}catch{}},af=function(b){var _,D,N;return b===void 0?"Undefined":b===null?"Null":typeof(D=vt(_=Object(b),oo))=="string"?D:Mm?M(_):(N=M(_))=="Object"&&typeof _.callee=="function"?"Arguments":N},lf=wn("toStringTag"),Kl={};Kl[lf]="z";var cf=String(Kl)!=="[object z]"?function(){return"[object "+af(this)+"]"}:Kl.toString,uf=Object.prototype;cf!==uf.toString&&fn(uf,"toString",cf,{unsafe:!0});var Xl=`	
\v\f\r                　\u2028\u2029\uFEFF`,Da="["+Xl+"]",aC=RegExp("^"+Da+Da+"*"),iC=RegExp(Da+Da+"*$"),ff=function(b){return function(_){var D=String(z(_));return b&1&&(D=D.replace(aC,"")),b&2&&(D=D.replace(iC,"")),D}},pe={start:ff(1),end:ff(2),trim:ff(3)},Po=pe.trim,$i=h.parseInt,Nn=/^[+-]?0[Xx]/,zm=$i(Xl+"08")!==8||$i(Xl+"0x16")!==22,$o=zm?function(_,D){var N=Po(String(_));return $i(N,D>>>0||(Nn.test(N)?16:10))}:$i;Jr({global:!0,forced:parseInt!=$o},{parseInt:$o});var df=function(b){return function(_,D){var N=String(z(_)),R=vr(D),q=N.length,te,se;return R<0||R>=q?b?"":void 0:(te=N.charCodeAt(R),te<55296||te>56319||R+1===q||(se=N.charCodeAt(R+1))<56320||se>57343?b?N.charAt(R):te:b?N.slice(R,R+2):(te-55296<<10)+(se-56320)+65536)}},hf={codeAt:df(!1),charAt:df(!0)},mf=hf.charAt,pf="String Iterator",Um=Jn.set,Wm=Jn.getterFor(pf);sf(String,"String",function(b){Um(this,{type:pf,string:String(b),index:0})},function(){var _=Wm(this),D=_.string,N=_.index,R;return N>=D.length?{value:void 0,done:!0}:(R=mf(D,N),_.index+=R.length,{value:R,done:!1})});var Yl=function(b,_,D){for(var N in _)fn(b,N,_[N],D);return b},Hm=!m(function(){return Object.isExtensible(Object.preventExtensions({}))}),_s=i(function(b){var _=qt.f,D=Ye("meta"),N=0,R=Object.isExtensible||function(){return!0},q=function(ge){_(ge,D,{value:{objectID:"O"+ ++N,weakData:{}}})},te=function(ge,We){if(!V(ge))return typeof ge=="symbol"?ge:(typeof ge=="string"?"S":"P")+ge;if(!$e(ge,D)){if(!R(ge))return"F";if(!We)return"E";q(ge)}return ge[D].objectID},se=function(ge,We){if(!$e(ge,D)){if(!R(ge))return!0;if(!We)return!1;q(ge)}return ge[D].weakData},ae=function(ge){return Hm&&Te.REQUIRED&&R(ge)&&!$e(ge,D)&&q(ge),ge},Te=b.exports={REQUIRED:!1,fastKey:te,getWeakData:se,onFreeze:ae};ko[D]=!0});_s.REQUIRED,_s.fastKey,_s.getWeakData,_s.onFreeze;var gf=wn("iterator"),vf=Array.prototype,Ra=function(b){return b!==void 0&&(Ss.Array===b||vf[gf]===b)},bf=wn("iterator"),Ft=function(b){if(b!=null)return b[bf]||b["@@iterator"]||Ss[af(b)]},yf=function(b,_,D,N){try{return N?_(ft(D)[0],D[1]):_(D)}catch(q){var R=b.return;throw R!==void 0&&ft(R.call(b)),q}},Na=i(function(b){var _=function(N,R){this.stopped=N,this.result=R},D=b.exports=function(N,R,q,te,se){var ae=Ti(R,q,te?2:1),Te,ge,We,Ue,Be,Ve;if(se)Te=N;else{if(ge=Ft(N),typeof ge!="function")throw TypeError("Target is not iterable");if(Ra(ge)){for(We=0,Ue=Xr(N.length);Ue>We;We++)if(Be=te?ae(ft(Ve=N[We])[0],Ve[1]):ae(N[We]),Be&&Be instanceof _)return Be;return new _(!1)}Te=ge.call(N)}for(;!(Ve=Te.next()).done;)if(Be=yf(Te,ae,Ve.value,te),Be&&Be instanceof _)return Be;return new _(!1)};D.stop=function(N){return new _(!0,N)}}),Cf=function(b,_,D){if(!(b instanceof _))throw TypeError("Incorrect "+(D?D+" ":"")+"invocation");return b},wf=wn("iterator"),On=!1;try{var Zn=0,Sf={next:function(){return{done:!!Zn++}},return:function(){On=!0}};Sf[wf]=function(){return this},Array.from(Sf,function(){throw 2})}catch{}var jm=function(b,_){if(!_&&!On)return!1;var D=!1;try{var N={};N[wf]=function(){return{next:function(){return{done:D=!0}}}},b(N)}catch{}return D},Jl=function(b,_,D){var N,R;return xa&&typeof(N=_.constructor)=="function"&&N!==D&&V(R=N.prototype)&&R!==D.prototype&&xa(b,R),b},Ef=function(b,_,D,N,R){var q=h[b],te=q&&q.prototype,se=q,ae=N?"set":"add",Te={},ge=function(pt){var ot=te[pt];fn(te,pt,pt=="add"?function(It){return ot.call(this,It===0?0:It),this}:pt=="delete"?function(Ot){return R&&!V(Ot)?!1:ot.call(this,Ot===0?0:Ot)}:pt=="get"?function(It){return R&&!V(It)?void 0:ot.call(this,It===0?0:It)}:pt=="has"?function(It){return R&&!V(It)?!1:ot.call(this,It===0?0:It)}:function(It,os){return ot.call(this,It===0?0:It,os),this})};if(Cs(b,typeof q!="function"||!(R||te.forEach&&!m(function(){new q().entries().next()}))))se=D.getConstructor(_,b,N,ae),_s.REQUIRED=!0;else if(Cs(b,!0)){var We=new se,Ue=We[ae](R?{}:-0,1)!=We,Be=m(function(){We.has(1)}),Ve=jm(function(pt){new q(pt)}),rt=!R&&m(function(){for(var pt=new q,ot=5;ot--;)pt[ae](ot,ot);return!pt.has(-0)});Ve||(se=_(function(pt,ot){Cf(pt,se,b);var Ot=Jl(new q,pt,se);return ot!=null&&Na(ot,Ot[ae],Ot,N),Ot}),se.prototype=te,te.constructor=se),(Be||rt)&&(ge("delete"),ge("has"),N&&ge("get")),(rt||Ue)&&ge(ae),R&&te.clear&&delete te.clear}return Te[b]=se,Jr({global:!0,forced:se!=q},Te),Oi(se,b),R||D.setStrong(se,b,N),se},Zt=_s.getWeakData,xs=Jn.set,er=Jn.getterFor,Zr=Ai.find,Bi=Ai.findIndex,vn=0,Fi=function(b){return b.frozen||(b.frozen=new Ql)},Ql=function(){this.entries=[]},Oa=function(b,_){return Zr(b.entries,function(D){return D[0]===_})};Ql.prototype={get:function(b){var _=Oa(this,b);if(_)return _[1]},has:function(b){return!!Oa(this,b)},set:function(b,_){var D=Oa(this,b);D?D[1]=_:this.entries.push([b,_])},delete:function(b){var _=Bi(this.entries,function(D){return D[0]===b});return~_&&this.entries.splice(_,1),!!~_}};var _f={getConstructor:function(b,_,D,N){var R=b(function(se,ae){Cf(se,R,_),xs(se,{type:_,id:vn++,frozen:void 0}),ae!=null&&Na(ae,se[N],se,D)}),q=er(_),te=function(se,ae,Te){var ge=q(se),We=Zt(ft(ae),!0);return We===!0?Fi(ge).set(ae,Te):We[ge.id]=Te,se};return Yl(R.prototype,{delete:function(se){var ae=q(this);if(!V(se))return!1;var Te=Zt(se);return Te===!0?Fi(ae).delete(se):Te&&$e(Te,ae.id)&&delete Te[ae.id]},has:function(ae){var Te=q(this);if(!V(ae))return!1;var ge=Zt(ae);return ge===!0?Fi(Te).has(ae):ge&&$e(ge,Te.id)}}),Yl(R.prototype,D?{get:function(ae){var Te=q(this);if(V(ae)){var ge=Zt(ae);return ge===!0?Fi(Te).get(ae):ge?ge[Te.id]:void 0}},set:function(ae,Te){return te(this,ae,Te)}}:{add:function(ae){return te(this,ae,!0)}}),R}};i(function(b){var _=Jn.enforce,D=!h.ActiveXObject&&"ActiveXObject"in h,N=Object.isExtensible,R,q=function(Ue){return function(){return Ue(this,arguments.length?arguments[0]:void 0)}},te=b.exports=Ef("WeakMap",q,_f,!0,!0);if(bs&&D){R=_f.getConstructor(q,"WeakMap",!0),_s.REQUIRED=!0;var se=te.prototype,ae=se.delete,Te=se.has,ge=se.get,We=se.set;Yl(se,{delete:function(Ue){if(V(Ue)&&!N(Ue)){var Be=_(this);return Be.frozen||(Be.frozen=new R),ae.call(this,Ue)||Be.frozen.delete(Ue)}return ae.call(this,Ue)},has:function(Be){if(V(Be)&&!N(Be)){var Ve=_(this);return Ve.frozen||(Ve.frozen=new R),Te.call(this,Be)||Ve.frozen.has(Be)}return Te.call(this,Be)},get:function(Be){if(V(Be)&&!N(Be)){var Ve=_(this);return Ve.frozen||(Ve.frozen=new R),Te.call(this,Be)?ge.call(this,Be):Ve.frozen.get(Be)}return ge.call(this,Be)},set:function(Be,Ve){if(V(Be)&&!N(Be)){var rt=_(this);rt.frozen||(rt.frozen=new R),Te.call(this,Be)?We.call(this,Be,Ve):rt.frozen.set(Be,Ve)}else We.call(this,Be,Ve);return this}})}});var Zl=wn("iterator"),Bo=wn("toStringTag"),Ii=so.values;for(var Li in Ca){var ec=h[Li],es=ec&&ec.prototype;if(es){if(es[Zl]!==Ii)try{ie(es,Zl,Ii)}catch{es[Zl]=Ii}if(es[Bo]||ie(es,Bo,Li),Ca[Li]){for(var Cr in so)if(es[Cr]!==so[Cr])try{ie(es,Cr,so[Cr])}catch{es[Cr]=so[Cr]}}}}var tc="Expected a function",Fo=0/0,Vm="[object Symbol]",nc=/^\s+|\s+$/g,qm=/^[-+]0x[0-9a-f]+$/i,Gm=/^0b[01]+$/i,Km=/^0o[0-7]+$/i,Pa=parseInt,lC=typeof a=="object"&&a&&a.Object===Object&&a,U=typeof self=="object"&&self&&self.Object===Object&&self,xf=lC||U||Function("return this")(),wr=Object.prototype,Tf=wr.toString,Xm=Math.max,Ym=Math.min,bt=function(){return xf.Date.now()};function ts(b,_,D){var N,R,q,te,se,ae,Te=0,ge=!1,We=!1,Ue=!0;if(typeof b!="function")throw new TypeError(tc);_=cr(_)||0,lr(D)&&(ge=!!D.leading,We="maxWait"in D,q=We?Xm(cr(D.maxWait)||0,_):q,Ue="trailing"in D?!!D.trailing:Ue);function Be(it){var hn=N,Pn=R;return N=R=void 0,Te=it,te=b.apply(Pn,hn),te}function Ve(it){return Te=it,se=setTimeout(ot,_),ge?Be(it):te}function rt(it){var hn=it-ae,Pn=it-Te,Ko=_-hn;return We?Ym(Ko,q-Pn):Ko}function pt(it){var hn=it-ae,Pn=it-Te;return ae===void 0||hn>=_||hn<0||We&&Pn>=q}function ot(){var it=bt();if(pt(it))return Ot(it);se=setTimeout(ot,rt(it))}function Ot(it){return se=void 0,Ue&&N?Be(it):(N=R=void 0,te)}function It(){se!==void 0&&clearTimeout(se),Te=0,N=ae=R=se=void 0}function os(){return se===void 0?te:Ot(bt())}function jn(){var it=bt(),hn=pt(it);if(N=arguments,R=this,ae=it,hn){if(se===void 0)return Ve(ae);if(We)return se=setTimeout(ot,_),Be(ae)}return se===void 0&&(se=setTimeout(ot,_)),te}return jn.cancel=It,jn.flush=os,jn}function kf(b,_,D){var N=!0,R=!0;if(typeof b!="function")throw new TypeError(tc);return lr(D)&&(N="leading"in D?!!D.leading:N,R="trailing"in D?!!D.trailing:R),ts(b,_,{leading:N,maxWait:_,trailing:R})}function lr(b){var _=typeof b;return!!b&&(_=="object"||_=="function")}function Jm(b){return!!b&&typeof b=="object"}function $a(b){return typeof b=="symbol"||Jm(b)&&Tf.call(b)==Vm}function cr(b){if(typeof b=="number")return b;if($a(b))return Fo;if(lr(b)){var _=typeof b.valueOf=="function"?b.valueOf():b;b=lr(_)?_+"":_}if(typeof b!="string")return b===0?b:+b;b=b.replace(nc,"");var D=Gm.test(b);return D||Km.test(b)?Pa(b.slice(2),D?2:8):qm.test(b)?Fo:+b}var Mi=kf,Af="Expected a function",Df=0/0,ao="[object Symbol]",Ba=/^\s+|\s+$/g,Rf=/^[-+]0x[0-9a-f]+$/i,Nf=/^0b[01]+$/i,bn=/^0o[0-7]+$/i,zi=parseInt,rc=typeof a=="object"&&a&&a.Object===Object&&a,sc=typeof self=="object"&&self&&self.Object===Object&&self,Of=rc||sc||Function("return this")(),Qm=Object.prototype,oc=Qm.toString,Pf=Math.max,Zm=Math.min,Lr=function(){return Of.Date.now()};function ac(b,_,D){var N,R,q,te,se,ae,Te=0,ge=!1,We=!1,Ue=!0;if(typeof b!="function")throw new TypeError(Af);_=lc(_)||0,ic(D)&&(ge=!!D.leading,We="maxWait"in D,q=We?Pf(lc(D.maxWait)||0,_):q,Ue="trailing"in D?!!D.trailing:Ue);function Be(it){var hn=N,Pn=R;return N=R=void 0,Te=it,te=b.apply(Pn,hn),te}function Ve(it){return Te=it,se=setTimeout(ot,_),ge?Be(it):te}function rt(it){var hn=it-ae,Pn=it-Te,Ko=_-hn;return We?Zm(Ko,q-Pn):Ko}function pt(it){var hn=it-ae,Pn=it-Te;return ae===void 0||hn>=_||hn<0||We&&Pn>=q}function ot(){var it=Lr();if(pt(it))return Ot(it);se=setTimeout(ot,rt(it))}function Ot(it){return se=void 0,Ue&&N?Be(it):(N=R=void 0,te)}function It(){se!==void 0&&clearTimeout(se),Te=0,N=ae=R=se=void 0}function os(){return se===void 0?te:Ot(Lr())}function jn(){var it=Lr(),hn=pt(it);if(N=arguments,R=this,ae=it,hn){if(se===void 0)return Ve(ae);if(We)return se=setTimeout(ot,_),Be(ae)}return se===void 0&&(se=setTimeout(ot,_)),te}return jn.cancel=It,jn.flush=os,jn}function ic(b){var _=typeof b;return!!b&&(_=="object"||_=="function")}function ep(b){return!!b&&typeof b=="object"}function tp(b){return typeof b=="symbol"||ep(b)&&oc.call(b)==ao}function lc(b){if(typeof b=="number")return b;if(tp(b))return Df;if(ic(b)){var _=typeof b.valueOf=="function"?b.valueOf():b;b=ic(_)?_+"":_}if(typeof b!="string")return b===0?b:+b;b=b.replace(Ba,"");var D=Nf.test(b);return D||bn.test(b)?zi(b.slice(2),D?2:8):Rf.test(b)?Df:+b}var $f=ac,Io="Expected a function",cc="__lodash_hash_undefined__",ns="[object Function]",io="[object GeneratorFunction]",np=/[\\^$.*+?()[\]{}|]/g,rp=/^\[object .+?Constructor\]$/,sp=typeof a=="object"&&a&&a.Object===Object&&a,Fa=typeof self=="object"&&self&&self.Object===Object&&self,Lo=sp||Fa||Function("return this")();function lo(b,_){return b==null?void 0:b[_]}function op(b){var _=!1;if(b!=null&&typeof b.toString!="function")try{_=!!(b+"")}catch{}return _}var Ui=Array.prototype,ap=Function.prototype,Mo=Object.prototype,Wi=Lo["__core-js_shared__"],Bf=function(){var b=/[^.]+$/.exec(Wi&&Wi.keys&&Wi.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}(),uc=ap.toString,zo=Mo.hasOwnProperty,Mr=Mo.toString,Ff=RegExp("^"+uc.call(zo).replace(np,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hi=Ui.splice,If=Uf(Lo,"Map"),Uo=Uf(Object,"create");function co(b){var _=-1,D=b?b.length:0;for(this.clear();++_<D;){var N=b[_];this.set(N[0],N[1])}}function tr(){this.__data__=Uo?Uo(null):{}}function Ts(b){return this.has(b)&&delete this.__data__[b]}function Lf(b){var _=this.__data__;if(Uo){var D=_[b];return D===cc?void 0:D}return zo.call(_,b)?_[b]:void 0}function rn(b){var _=this.__data__;return Uo?_[b]!==void 0:zo.call(_,b)}function Mf(b,_){var D=this.__data__;return D[b]=Uo&&_===void 0?cc:_,this}co.prototype.clear=tr,co.prototype.delete=Ts,co.prototype.get=Lf,co.prototype.has=rn,co.prototype.set=Mf;function Wo(b){var _=-1,D=b?b.length:0;for(this.clear();++_<D;){var N=b[_];this.set(N[0],N[1])}}function uo(){this.__data__=[]}function Ho(b){var _=this.__data__,D=Vi(_,b);if(D<0)return!1;var N=_.length-1;return D==N?_.pop():Hi.call(_,D,1),!0}function Ut(b){var _=this.__data__,D=Vi(_,b);return D<0?void 0:_[D][1]}function rs(b){return Vi(this.__data__,b)>-1}function ip(b,_){var D=this.__data__,N=Vi(D,b);return N<0?D.push([b,_]):D[N][1]=_,this}Wo.prototype.clear=uo,Wo.prototype.delete=Ho,Wo.prototype.get=Ut,Wo.prototype.has=rs,Wo.prototype.set=ip;function ks(b){var _=-1,D=b?b.length:0;for(this.clear();++_<D;){var N=b[_];this.set(N[0],N[1])}}function zf(){this.__data__={hash:new co,map:new(If||Wo),string:new co}}function ji(b){return qi(this,b).delete(b)}function lp(b){return qi(this,b).get(b)}function cp(b){return qi(this,b).has(b)}function up(b,_){return qi(this,b).set(b,_),this}ks.prototype.clear=zf,ks.prototype.delete=ji,ks.prototype.get=lp,ks.prototype.has=cp,ks.prototype.set=up;function Vi(b,_){for(var D=b.length;D--;)if(hp(b[D][0],_))return D;return-1}function fp(b){if(!Gi(b)||jo(b))return!1;var _=fc(b)||op(b)?Ff:rp;return _.test(dp(b))}function qi(b,_){var D=b.__data__;return Wf(_)?D[typeof _=="string"?"string":"hash"]:D.map}function Uf(b,_){var D=lo(b,_);return fp(D)?D:void 0}function Wf(b){var _=typeof b;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?b!=="__proto__":b===null}function jo(b){return!!Bf&&Bf in b}function dp(b){if(b!=null){try{return uc.call(b)}catch{}try{return b+""}catch{}}return""}function Vo(b,_){if(typeof b!="function"||_&&typeof _!="function")throw new TypeError(Io);var D=function(){var N=arguments,R=_?_.apply(this,N):N[0],q=D.cache;if(q.has(R))return q.get(R);var te=b.apply(this,N);return D.cache=q.set(R,te),te};return D.cache=new(Vo.Cache||ks),D}Vo.Cache=ks;function hp(b,_){return b===_||b!==b&&_!==_}function fc(b){var _=Gi(b)?Mr.call(b):"";return _==ns||_==io}function Gi(b){var _=typeof b;return!!b&&(_=="object"||_=="function")}var Hf=Vo,dc=function(){if(typeof Map<"u")return Map;function b(_,D){var N=-1;return _.some(function(R,q){return R[0]===D?(N=q,!0):!1}),N}return function(){function _(){this.__entries__=[]}return Object.defineProperty(_.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),_.prototype.get=function(D){var N=b(this.__entries__,D),R=this.__entries__[N];return R&&R[1]},_.prototype.set=function(D,N){var R=b(this.__entries__,D);~R?this.__entries__[R][1]=N:this.__entries__.push([D,N])},_.prototype.delete=function(D){var N=this.__entries__,R=b(N,D);~R&&N.splice(R,1)},_.prototype.has=function(D){return!!~b(this.__entries__,D)},_.prototype.clear=function(){this.__entries__.splice(0)},_.prototype.forEach=function(D,N){N===void 0&&(N=null);for(var R=0,q=this.__entries__;R<q.length;R++){var te=q[R];D.call(N,te[1],te[0])}},_}()}(),hc=typeof window<"u"&&typeof document<"u"&&window.document===document,Ia=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),jf=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ia):function(b){return setTimeout(function(){return b(Date.now())},1e3/60)}}(),mp=2;function Vf(b,_){var D=!1,N=!1,R=0;function q(){D&&(D=!1,b()),N&&se()}function te(){jf(q)}function se(){var ae=Date.now();if(D){if(ae-R<mp)return;N=!0}else D=!0,N=!1,setTimeout(te,_);R=ae}return se}var Sn=20,qf=["top","right","bottom","left","width","height","size","weight"],sn=typeof MutationObserver<"u",fo=function(){function b(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Vf(this.refresh.bind(this),Sn)}return b.prototype.addObserver=function(_){~this.observers_.indexOf(_)||this.observers_.push(_),this.connected_||this.connect_()},b.prototype.removeObserver=function(_){var D=this.observers_,N=D.indexOf(_);~N&&D.splice(N,1),!D.length&&this.connected_&&this.disconnect_()},b.prototype.refresh=function(){var _=this.updateObservers_();_&&this.refresh()},b.prototype.updateObservers_=function(){var _=this.observers_.filter(function(D){return D.gatherActive(),D.hasActive()});return _.forEach(function(D){return D.broadcastActive()}),_.length>0},b.prototype.connect_=function(){!hc||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),sn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},b.prototype.disconnect_=function(){!hc||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},b.prototype.onTransitionEnd_=function(_){var D=_.propertyName,N=D===void 0?"":D,R=qf.some(function(q){return!!~N.indexOf(q)});R&&this.refresh()},b.getInstance=function(){return this.instance_||(this.instance_=new b),this.instance_},b.instance_=null,b}(),La=function(b,_){for(var D=0,N=Object.keys(_);D<N.length;D++){var R=N[D];Object.defineProperty(b,R,{value:_[R],enumerable:!1,writable:!1,configurable:!0})}return b},Ee=function(b){var _=b&&b.ownerDocument&&b.ownerDocument.defaultView;return _||Ia},Ki=ce(0,0,0,0);function Hn(b){return parseFloat(b)||0}function Ma(b){for(var _=[],D=1;D<arguments.length;D++)_[D-1]=arguments[D];return _.reduce(function(N,R){var q=b["border-"+R+"-width"];return N+Hn(q)},0)}function Gf(b){for(var _=["top","right","bottom","left"],D={},N=0,R=_;N<R.length;N++){var q=R[N],te=b["padding-"+q];D[q]=Hn(te)}return D}function pp(b){var _=b.getBBox();return ce(0,0,_.width,_.height)}function ho(b){var _=b.clientWidth,D=b.clientHeight;if(!_&&!D)return Ki;var N=Ee(b).getComputedStyle(b),R=Gf(N),q=R.left+R.right,te=R.top+R.bottom,se=Hn(N.width),ae=Hn(N.height);if(N.boxSizing==="border-box"&&(Math.round(se+q)!==_&&(se-=Ma(N,"left","right")+q),Math.round(ae+te)!==D&&(ae-=Ma(N,"top","bottom")+te)),!ss(b)){var Te=Math.round(se+q)-_,ge=Math.round(ae+te)-D;Math.abs(Te)!==1&&(se-=Te),Math.abs(ge)!==1&&(ae-=ge)}return ce(R.left,R.top,se,ae)}var gp=function(){return typeof SVGGraphicsElement<"u"?function(b){return b instanceof Ee(b).SVGGraphicsElement}:function(b){return b instanceof Ee(b).SVGElement&&typeof b.getBBox=="function"}}();function ss(b){return b===Ee(b).document.documentElement}function Kf(b){return hc?gp(b)?pp(b):ho(b):Ki}function mc(b){var _=b.x,D=b.y,N=b.width,R=b.height,q=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,te=Object.create(q.prototype);return La(te,{x:_,y:D,width:N,height:R,top:D,right:_+N,bottom:R+D,left:_}),te}function ce(b,_,D,N){return{x:b,y:_,width:D,height:N}}var vp=function(){function b(_){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ce(0,0,0,0),this.target=_}return b.prototype.isActive=function(){var _=Kf(this.target);return this.contentRect_=_,_.width!==this.broadcastWidth||_.height!==this.broadcastHeight},b.prototype.broadcastRect=function(){var _=this.contentRect_;return this.broadcastWidth=_.width,this.broadcastHeight=_.height,_},b}(),bp=function(){function b(_,D){var N=mc(D);La(this,{target:_,contentRect:N})}return b}(),As=function(){function b(_,D,N){if(this.activeObservations_=[],this.observations_=new dc,typeof _!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=_,this.controller_=D,this.callbackCtx_=N}return b.prototype.observe=function(_){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(_ instanceof Ee(_).Element))throw new TypeError('parameter 1 is not of type "Element".');var D=this.observations_;D.has(_)||(D.set(_,new vp(_)),this.controller_.addObserver(this),this.controller_.refresh())}},b.prototype.unobserve=function(_){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(_ instanceof Ee(_).Element))throw new TypeError('parameter 1 is not of type "Element".');var D=this.observations_;D.has(_)&&(D.delete(_),D.size||this.controller_.removeObserver(this))}},b.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},b.prototype.gatherActive=function(){var _=this;this.clearActive(),this.observations_.forEach(function(D){D.isActive()&&_.activeObservations_.push(D)})},b.prototype.broadcastActive=function(){if(this.hasActive()){var _=this.callbackCtx_,D=this.activeObservations_.map(function(N){return new bp(N.target,N.broadcastRect())});this.callback_.call(_,D,_),this.clearActive()}},b.prototype.clearActive=function(){this.activeObservations_.splice(0)},b.prototype.hasActive=function(){return this.activeObservations_.length>0},b}(),qo=typeof WeakMap<"u"?new WeakMap:new dc,Xi=function(){function b(_){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var D=fo.getInstance(),N=new As(_,D,this);qo.set(this,N)}return b}();["observe","unobserve","disconnect"].forEach(function(b){Xi.prototype[b]=function(){var _;return(_=qo.get(this))[b].apply(_,arguments)}});var Gt=function(){return typeof Ia.ResizeObserver<"u"?Ia.ResizeObserver:Xi}(),mo=null,ur=null;zl&&window.addEventListener("resize",function(){ur!==window.devicePixelRatio&&(ur=window.devicePixelRatio,mo=null)});function At(){if(mo===null){if(typeof document>"u")return mo=0,mo;var b=document.body,_=document.createElement("div");_.classList.add("simplebar-hide-scrollbar"),b.appendChild(_);var D=_.getBoundingClientRect().right;b.removeChild(_),mo=D}return mo}var za=function(b){return function(_,D,N,R){Ml(D);var q=ba(_),te=X(q),se=Xr(q.length),ae=b?se-1:0,Te=b?-1:1;if(N<2)for(;;){if(ae in te){R=te[ae],ae+=Te;break}if(ae+=Te,b?ae<0:se<=ae)throw TypeError("Reduce of empty array with no initial value")}for(;b?ae>=0:se>ae;ae+=Te)ae in te&&(R=D(R,te[ae],ae,q));return R}},yp={left:za(!1),right:za(!0)},zr=yp.left;Jr({target:"Array",proto:!0,forced:qu("reduce")},{reduce:function(_){return zr(this,_,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Cp=qt.f,Ds=Function.prototype,dn=Ds.toString,Xf=/^\s*function ([^ (]*)/,Yf="name";p&&!(Yf in Ds)&&Cp(Ds,Yf,{configurable:!0,get:function(){try{return dn.call(this).match(Xf)[1]}catch{return""}}});var cC=function(){var b=ft(this),_="";return b.global&&(_+="g"),b.ignoreCase&&(_+="i"),b.multiline&&(_+="m"),b.dotAll&&(_+="s"),b.unicode&&(_+="u"),b.sticky&&(_+="y"),_},Go=RegExp.prototype.exec,Yi=String.prototype.replace,pc=Go,gc=function(){var b=/a/,_=/b*/g;return Go.call(b,"a"),Go.call(_,"a"),b.lastIndex!==0||_.lastIndex!==0}(),vc=/()??/.exec("")[1]!==void 0,wp=gc||vc;wp&&(pc=function(_){var D=this,N,R,q,te;return vc&&(R=new RegExp("^"+D.source+"$(?!\\s)",cC.call(D))),gc&&(N=D.lastIndex),q=Go.call(D,_),gc&&q&&(D.lastIndex=D.global?q.index+q[0].length:N),vc&&q&&q.length>1&&Yi.call(q[0],R,function(){for(te=1;te<arguments.length-2;te++)arguments[te]===void 0&&(q[te]=void 0)}),q});var Ji=pc;Jr({target:"RegExp",proto:!0,forced:/./.exec!==Ji},{exec:Ji});var Sp=wn("species"),Ep=!m(function(){var b=/./;return b.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(b,"$<a>")!=="7"}),_p=!m(function(){var b=/(?:)/,_=b.exec;b.exec=function(){return _.apply(this,arguments)};var D="ab".split(b);return D.length!==2||D[0]!=="a"||D[1]!=="b"}),Jf=function(b,_,D,N){var R=wn(b),q=!m(function(){var We={};return We[R]=function(){return 7},""[b](We)!=7}),te=q&&!m(function(){var We=!1,Ue=/a/;return Ue.exec=function(){return We=!0,null},b==="split"&&(Ue.constructor={},Ue.constructor[Sp]=function(){return Ue}),Ue[R](""),!We});if(!q||!te||b==="replace"&&!Ep||b==="split"&&!_p){var se=/./[R],ae=D(R,""[b],function(We,Ue,Be,Ve,rt){return Ue.exec===Ji?q&&!rt?{done:!0,value:se.call(Ue,Be,Ve)}:{done:!0,value:We.call(Be,Ue,Ve)}:{done:!1}}),Te=ae[0],ge=ae[1];fn(String.prototype,b,Te),fn(RegExp.prototype,R,_==2?function(We,Ue){return ge.call(We,this,Ue)}:function(We){return ge.call(We,this)}),N&&ie(RegExp.prototype[R],"sham",!0)}},xp=hf.charAt,Qf=function(b,_,D){return _+(D?xp(b,_).length:1)},Ur=function(b,_){var D=b.exec;if(typeof D=="function"){var N=D.call(b,_);if(typeof N!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return N}if(M(b)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return Ji.call(b,_)};Jf("match",1,function(b,_,D){return[function(R){var q=z(this),te=R==null?void 0:R[b];return te!==void 0?te.call(R,q):new RegExp(R)[b](String(q))},function(N){var R=D(_,N,this);if(R.done)return R.value;var q=ft(N),te=String(this);if(!q.global)return Ur(q,te);var se=q.unicode;q.lastIndex=0;for(var ae=[],Te=0,ge;(ge=Ur(q,te))!==null;){var We=String(ge[0]);ae[Te]=We,We===""&&(q.lastIndex=Qf(te,Xr(q.lastIndex),se)),Te++}return Te===0?null:ae}]});var nr=Math.max,Tp=Math.min,Qi=Math.floor,po=/\$([$&'`]|\d\d?|<[^>]*>)/g,Zf=/\$([$&'`]|\d\d?)/g,bc=function(b){return b===void 0?b:String(b)};Jf("replace",2,function(b,_,D){return[function(q,te){var se=z(this),ae=q==null?void 0:q[b];return ae!==void 0?ae.call(q,se,te):_.call(String(se),q,te)},function(R,q){var te=D(_,R,this,q);if(te.done)return te.value;var se=ft(R),ae=String(this),Te=typeof q=="function";Te||(q=String(q));var ge=se.global;if(ge){var We=se.unicode;se.lastIndex=0}for(var Ue=[];;){var Be=Ur(se,ae);if(Be===null||(Ue.push(Be),!ge))break;var Ve=String(Be[0]);Ve===""&&(se.lastIndex=Qf(ae,Xr(se.lastIndex),We))}for(var rt="",pt=0,ot=0;ot<Ue.length;ot++){Be=Ue[ot];for(var Ot=String(Be[0]),It=nr(Tp(vr(Be.index),ae.length),0),os=[],jn=1;jn<Be.length;jn++)os.push(bc(Be[jn]));var it=Be.groups;if(Te){var hn=[Ot].concat(os,It,ae);it!==void 0&&hn.push(it);var Pn=String(q.apply(void 0,hn))}else Pn=N(Ot,ae,It,os,it,q);It>=pt&&(rt+=ae.slice(pt,It)+Pn,pt=It+Ot.length)}return rt+ae.slice(pt)}];function N(R,q,te,se,ae,Te){var ge=te+R.length,We=se.length,Ue=Zf;return ae!==void 0&&(ae=ba(ae),Ue=po),_.call(Te,Ue,function(Be,Ve){var rt;switch(Ve.charAt(0)){case"$":return"$";case"&":return R;case"`":return q.slice(0,te);case"'":return q.slice(ge);case"<":rt=ae[Ve.slice(1,-1)];break;default:var pt=+Ve;if(pt===0)return Be;if(pt>We){var ot=Qi(pt/10);return ot===0?Be:ot<=We?se[ot-1]===void 0?Ve.charAt(1):se[ot-1]+Ve.charAt(1):Be}rt=se[pt-1]}return rt===void 0?"":rt})}});var Rs=function(_){var D=Array.prototype.reduce.call(_,function(N,R){var q=R.name.match(/data-simplebar-(.+)/);if(q){var te=q[1].replace(/\W+(.)/g,function(se,ae){return ae.toUpperCase()});switch(R.value){case"true":N[te]=!0;break;case"false":N[te]=!1;break;case void 0:N[te]=!0;break;default:N[te]=R.value}}return N},{});return D};function Ns(b){return!b||!b.ownerDocument||!b.ownerDocument.defaultView?window:b.ownerDocument.defaultView}function go(b){return!b||!b.ownerDocument?document:b.ownerDocument}return window.SimpleBar=function(){function b(D,N){var R=this;this.onScroll=function(){var q=Ns(R.el);R.scrollXTicking||(q.requestAnimationFrame(R.scrollX),R.scrollXTicking=!0),R.scrollYTicking||(q.requestAnimationFrame(R.scrollY),R.scrollYTicking=!0)},this.scrollX=function(){R.axis.x.isOverflowing&&(R.showScrollbar("x"),R.positionScrollbar("x")),R.scrollXTicking=!1},this.scrollY=function(){R.axis.y.isOverflowing&&(R.showScrollbar("y"),R.positionScrollbar("y")),R.scrollYTicking=!1},this.onMouseEnter=function(){R.showScrollbar("x"),R.showScrollbar("y")},this.onMouseMove=function(q){R.mouseX=q.clientX,R.mouseY=q.clientY,(R.axis.x.isOverflowing||R.axis.x.forceVisible)&&R.onMouseMoveForAxis("x"),(R.axis.y.isOverflowing||R.axis.y.forceVisible)&&R.onMouseMoveForAxis("y")},this.onMouseLeave=function(){R.onMouseMove.cancel(),(R.axis.x.isOverflowing||R.axis.x.forceVisible)&&R.onMouseLeaveForAxis("x"),(R.axis.y.isOverflowing||R.axis.y.forceVisible)&&R.onMouseLeaveForAxis("y"),R.mouseX=-1,R.mouseY=-1},this.onWindowResize=function(){R.scrollbarWidth=R.getScrollbarWidth(),R.hideNativeScrollbar()},this.hideScrollbars=function(){R.axis.x.track.rect=R.axis.x.track.el.getBoundingClientRect(),R.axis.y.track.rect=R.axis.y.track.el.getBoundingClientRect(),R.isWithinBounds(R.axis.y.track.rect)||(R.axis.y.scrollbar.el.classList.remove(R.classNames.visible),R.axis.y.isVisible=!1),R.isWithinBounds(R.axis.x.track.rect)||(R.axis.x.scrollbar.el.classList.remove(R.classNames.visible),R.axis.x.isVisible=!1)},this.onPointerEvent=function(q){var te,se;R.axis.x.track.rect=R.axis.x.track.el.getBoundingClientRect(),R.axis.y.track.rect=R.axis.y.track.el.getBoundingClientRect(),(R.axis.x.isOverflowing||R.axis.x.forceVisible)&&(te=R.isWithinBounds(R.axis.x.track.rect)),(R.axis.y.isOverflowing||R.axis.y.forceVisible)&&(se=R.isWithinBounds(R.axis.y.track.rect)),(te||se)&&(q.preventDefault(),q.stopPropagation(),q.type==="mousedown"&&(te&&(R.axis.x.scrollbar.rect=R.axis.x.scrollbar.el.getBoundingClientRect(),R.isWithinBounds(R.axis.x.scrollbar.rect)?R.onDragStart(q,"x"):R.onTrackClick(q,"x")),se&&(R.axis.y.scrollbar.rect=R.axis.y.scrollbar.el.getBoundingClientRect(),R.isWithinBounds(R.axis.y.scrollbar.rect)?R.onDragStart(q,"y"):R.onTrackClick(q,"y"))))},this.drag=function(q){var te,se=R.axis[R.draggedAxis].track,ae=se.rect[R.axis[R.draggedAxis].sizeAttr],Te=R.axis[R.draggedAxis].scrollbar,ge=R.contentWrapperEl[R.axis[R.draggedAxis].scrollSizeAttr],We=parseInt(R.elStyles[R.axis[R.draggedAxis].sizeAttr],10);q.preventDefault(),q.stopPropagation(),R.draggedAxis==="y"?te=q.pageY:te=q.pageX;var Ue=te-se.rect[R.axis[R.draggedAxis].offsetAttr]-R.axis[R.draggedAxis].dragOffset,Be=Ue/(ae-Te.size),Ve=Be*(ge-We);R.draggedAxis==="x"&&(Ve=R.isRtl&&b.getRtlHelpers().isRtlScrollbarInverted?Ve-(ae+Te.size):Ve,Ve=R.isRtl&&b.getRtlHelpers().isRtlScrollingInverted?-Ve:Ve),R.contentWrapperEl[R.axis[R.draggedAxis].scrollOffsetAttr]=Ve},this.onEndDrag=function(q){var te=go(R.el),se=Ns(R.el);q.preventDefault(),q.stopPropagation(),R.el.classList.remove(R.classNames.dragging),te.removeEventListener("mousemove",R.drag,!0),te.removeEventListener("mouseup",R.onEndDrag,!0),R.removePreventClickId=se.setTimeout(function(){te.removeEventListener("click",R.preventClick,!0),te.removeEventListener("dblclick",R.preventClick,!0),R.removePreventClickId=null})},this.preventClick=function(q){q.preventDefault(),q.stopPropagation()},this.el=D,this.minScrollbarWidth=20,this.options=Object.assign({},b.defaultOptions,{},N),this.classNames=Object.assign({},b.defaultOptions.classNames,{},this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,!b.instances.has(this.el)&&(this.recalculate=Mi(this.recalculate.bind(this),64),this.onMouseMove=Mi(this.onMouseMove.bind(this),64),this.hideScrollbars=$f(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=$f(this.onWindowResize.bind(this),64,{leading:!0}),b.getRtlHelpers=Hf(b.getRtlHelpers),this.init())}b.getRtlHelpers=function(){var N=document.createElement("div");N.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var R=N.firstElementChild;document.body.appendChild(R);var q=R.firstElementChild;R.scrollLeft=0;var te=b.getOffset(R),se=b.getOffset(q);R.scrollLeft=999;var ae=b.getOffset(q);return{isRtlScrollingInverted:te.left!==se.left&&se.left-ae.left!==0,isRtlScrollbarInverted:te.left!==se.left}},b.getOffset=function(N){var R=N.getBoundingClientRect(),q=go(N),te=Ns(N);return{top:R.top+(te.pageYOffset||q.documentElement.scrollTop),left:R.left+(te.pageXOffset||q.documentElement.scrollLeft)}};var _=b.prototype;return _.init=function(){b.instances.set(this.el,this),zl&&(this.initDOM(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},_.initDOM=function(){var N=this;if(Array.prototype.filter.call(this.el.children,function(te){return te.classList.contains(N.classNames.wrapper)}).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var R=document.createElement("div"),q=document.createElement("div");R.classList.add(this.classNames.track),q.classList.add(this.classNames.scrollbar),R.appendChild(q),this.axis.x.track.el=R.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=R.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},_.initListeners=function(){var N=this,R=Ns(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(se){N.el.addEventListener(se,N.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(se){N.el.addEventListener(se,N.onPointerEvent,{capture:!0,passive:!0})}),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),R.addEventListener("resize",this.onWindowResize);var q=!1,te=R.ResizeObserver||Gt;this.resizeObserver=new te(function(){q&&N.recalculate()}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),R.requestAnimationFrame(function(){q=!0}),this.mutationObserver=new R.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},_.recalculate=function(){var N=Ns(this.el);this.elStyles=N.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var R=this.heightAutoObserverEl.offsetHeight<=1,q=this.heightAutoObserverEl.offsetWidth<=1,te=this.contentEl.offsetWidth,se=this.contentWrapperEl.offsetWidth,ae=this.elStyles.overflowX,Te=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var ge=this.contentEl.scrollHeight,We=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=R?"auto":"100%",this.placeholderEl.style.width=q?te+"px":"auto",this.placeholderEl.style.height=ge+"px";var Ue=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=We>te,this.axis.y.isOverflowing=ge>Ue,this.axis.x.isOverflowing=ae==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=Te==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var Be=this.axis.x.isOverflowing?this.scrollbarWidth:0,Ve=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&We>se-Ve,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&ge>Ue-Be,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},_.getScrollbarSize=function(N){if(N===void 0&&(N="y"),!this.axis[N].isOverflowing)return 0;var R=this.contentEl[this.axis[N].scrollSizeAttr],q=this.axis[N].track.el[this.axis[N].offsetSizeAttr],te,se=q/R;return te=Math.max(~~(se*q),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(te=Math.min(te,this.options.scrollbarMaxSize)),te},_.positionScrollbar=function(N){if(N===void 0&&(N="y"),!!this.axis[N].isOverflowing){var R=this.contentWrapperEl[this.axis[N].scrollSizeAttr],q=this.axis[N].track.el[this.axis[N].offsetSizeAttr],te=parseInt(this.elStyles[this.axis[N].sizeAttr],10),se=this.axis[N].scrollbar,ae=this.contentWrapperEl[this.axis[N].scrollOffsetAttr];ae=N==="x"&&this.isRtl&&b.getRtlHelpers().isRtlScrollingInverted?-ae:ae;var Te=ae/(R-te),ge=~~((q-se.size)*Te);ge=N==="x"&&this.isRtl&&b.getRtlHelpers().isRtlScrollbarInverted?ge+(q-se.size):ge,se.el.style.transform=N==="x"?"translate3d("+ge+"px, 0, 0)":"translate3d(0, "+ge+"px, 0)"}},_.toggleTrackVisibility=function(N){N===void 0&&(N="y");var R=this.axis[N].track.el,q=this.axis[N].scrollbar.el;this.axis[N].isOverflowing||this.axis[N].forceVisible?(R.style.visibility="visible",this.contentWrapperEl.style[this.axis[N].overflowAttr]="scroll"):(R.style.visibility="hidden",this.contentWrapperEl.style[this.axis[N].overflowAttr]="hidden"),this.axis[N].isOverflowing?q.style.display="block":q.style.display="none"},_.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},_.onMouseMoveForAxis=function(N){N===void 0&&(N="y"),this.axis[N].track.rect=this.axis[N].track.el.getBoundingClientRect(),this.axis[N].scrollbar.rect=this.axis[N].scrollbar.el.getBoundingClientRect();var R=this.isWithinBounds(this.axis[N].scrollbar.rect);R?this.axis[N].scrollbar.el.classList.add(this.classNames.hover):this.axis[N].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[N].track.rect)?(this.showScrollbar(N),this.axis[N].track.el.classList.add(this.classNames.hover)):this.axis[N].track.el.classList.remove(this.classNames.hover)},_.onMouseLeaveForAxis=function(N){N===void 0&&(N="y"),this.axis[N].track.el.classList.remove(this.classNames.hover),this.axis[N].scrollbar.el.classList.remove(this.classNames.hover)},_.showScrollbar=function(N){N===void 0&&(N="y");var R=this.axis[N].scrollbar.el;this.axis[N].isVisible||(R.classList.add(this.classNames.visible),this.axis[N].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},_.onDragStart=function(N,R){R===void 0&&(R="y");var q=go(this.el),te=Ns(this.el),se=this.axis[R].scrollbar,ae=R==="y"?N.pageY:N.pageX;this.axis[R].dragOffset=ae-se.rect[this.axis[R].offsetAttr],this.draggedAxis=R,this.el.classList.add(this.classNames.dragging),q.addEventListener("mousemove",this.drag,!0),q.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(q.addEventListener("click",this.preventClick,!0),q.addEventListener("dblclick",this.preventClick,!0)):(te.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},_.onTrackClick=function(N,R){var q=this;if(R===void 0&&(R="y"),!!this.options.clickOnTrack){var te=Ns(this.el);this.axis[R].scrollbar.rect=this.axis[R].scrollbar.el.getBoundingClientRect();var se=this.axis[R].scrollbar,ae=se.rect[this.axis[R].offsetAttr],Te=parseInt(this.elStyles[this.axis[R].sizeAttr],10),ge=this.contentWrapperEl[this.axis[R].scrollOffsetAttr],We=R==="y"?this.mouseY-ae:this.mouseX-ae,Ue=We<0?-1:1,Be=Ue===-1?ge-Te:ge+Te,Ve=function rt(){if(Ue===-1){if(ge>Be){var pt;ge-=q.options.clickOnTrackSpeed,q.contentWrapperEl.scrollTo((pt={},pt[q.axis[R].offsetAttr]=ge,pt)),te.requestAnimationFrame(rt)}}else if(ge<Be){var ot;ge+=q.options.clickOnTrackSpeed,q.contentWrapperEl.scrollTo((ot={},ot[q.axis[R].offsetAttr]=ge,ot)),te.requestAnimationFrame(rt)}};Ve()}},_.getContentElement=function(){return this.contentEl},_.getScrollElement=function(){return this.contentWrapperEl},_.getScrollbarWidth=function(){try{return getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:At()}catch{return At()}},_.removeListeners=function(){var N=this,R=Ns(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(q){N.el.removeEventListener(q,N.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(q){N.el.removeEventListener(q,N.onPointerEvent,{capture:!0,passive:!0})}),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),R.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},_.unMount=function(){this.removeListeners(),b.instances.delete(this.el)},_.isWithinBounds=function(N){return this.mouseX>=N.left&&this.mouseX<=N.left+N.width&&this.mouseY>=N.top&&this.mouseY<=N.top+N.height},_.findChild=function(N,R){var q=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.msMatchesSelector;return Array.prototype.filter.call(N.children,function(te){return q.call(te,R)})[0]},b}(),SimpleBar.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3},SimpleBar.instances=new WeakMap,SimpleBar.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(b){b.getAttribute("data-simplebar")!=="init"&&!SimpleBar.instances.has(b)&&new SimpleBar(b,Rs(b.attributes))})},SimpleBar.removeObserver=function(){this.globalObserver.disconnect()},SimpleBar.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),typeof MutationObserver<"u"&&(this.globalObserver=new MutationObserver(SimpleBar.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},SimpleBar.handleMutations=function(b){b.forEach(function(_){Array.prototype.forEach.call(_.addedNodes,function(D){D.nodeType===1&&(D.hasAttribute("data-simplebar")?!SimpleBar.instances.has(D)&&new SimpleBar(D,Rs(D.attributes)):Array.prototype.forEach.call(D.querySelectorAll("[data-simplebar]"),function(N){N.getAttribute("data-simplebar")!=="init"&&!SimpleBar.instances.has(N)&&new SimpleBar(N,Rs(N.attributes))}))}),Array.prototype.forEach.call(_.removedNodes,function(D){D.nodeType===1&&(D.hasAttribute('[data-simplebar="init"]')?SimpleBar.instances.has(D)&&SimpleBar.instances.get(D).unMount():Array.prototype.forEach.call(D.querySelectorAll('[data-simplebar="init"]'),function(N){SimpleBar.instances.has(N)&&SimpleBar.instances.get(N).unMount()}))})})},SimpleBar.getOptions=Rs,zl&&SimpleBar.initHtmlApi(),SimpleBar});var _1=document.getElementById("simple-bar");_1&&new window.SimpleBar(_1,{autoHide:!0});var NK=localStorage.getItem("primary")||"#534686",OK=localStorage.getItem("secondary")||"#FFA47A",PK=localStorage.getItem("success")||"#67C100",$K=localStorage.getItem("info")||"#3EBCB9",BK=localStorage.getItem("warning")||"#E56809",FK=localStorage.getItem("danger")||"#DC0808";window.KohoAdminConfig={primary:NK,secondary:OK,success:PK,info:$K,warning:BK,danger:FK};var Vs=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},Tt=function(){var a=/\blang(?:uage)?-(\w+)\b/i,i=0,c=Vs.Prism={util:{encode:function(m){return m instanceof u?new u(m.type,c.util.encode(m.content),m.alias):c.util.type(m)==="Array"?m.map(c.util.encode):m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(m){return Object.prototype.toString.call(m).match(/\[object (\w+)\]/)[1]},objId:function(m){return m.__id||Object.defineProperty(m,"__id",{value:++i}),m.__id},clone:function(m){var p=c.util.type(m);switch(p){case"Object":var v={};for(var y in m)m.hasOwnProperty(y)&&(v[y]=c.util.clone(m[y]));return v;case"Array":return m.map&&m.map(function(S){return c.util.clone(S)})}return m}},languages:{extend:function(m,p){var v=c.util.clone(c.languages[m]);for(var y in p)v[y]=p[y];return v},insertBefore:function(m,p,v,y){y=y||c.languages;var S=y[m];if(arguments.length==2){v=arguments[1];for(var T in v)v.hasOwnProperty(T)&&(S[T]=v[T]);return S}var A={};for(var I in S)if(S.hasOwnProperty(I)){if(I==p)for(var T in v)v.hasOwnProperty(T)&&(A[T]=v[T]);A[I]=S[I]}return c.languages.DFS(c.languages,function(F,M){M===y[m]&&F!=m&&(this[F]=A)}),y[m]=A},DFS:function(m,p,v,y){y=y||{};for(var S in m)m.hasOwnProperty(S)&&(p.call(m,S,m[S],v||S),c.util.type(m[S])!=="Object"||y[c.util.objId(m[S])]?c.util.type(m[S])!=="Array"||y[c.util.objId(m[S])]||(y[c.util.objId(m[S])]=!0,c.languages.DFS(m[S],p,S,y)):(y[c.util.objId(m[S])]=!0,c.languages.DFS(m[S],p,null,y)))}},plugins:{},highlightAll:function(m,p){var v={callback:p,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};c.hooks.run("before-highlightall",v);for(var y,S=v.elements||document.querySelectorAll(v.selector),T=0;y=S[T++];)c.highlightElement(y,m===!0,v.callback)},highlightElement:function(m,p,v){for(var y,S,T=m;T&&!a.test(T.className);)T=T.parentNode;T&&(y=(T.className.match(a)||[,""])[1].toLowerCase(),S=c.languages[y]),m.className=m.className.replace(a,"").replace(/\s+/g," ")+" language-"+y,T=m.parentNode,/pre/i.test(T.nodeName)&&(T.className=T.className.replace(a,"").replace(/\s+/g," ")+" language-"+y);var A=m.textContent,I={element:m,language:y,grammar:S,code:A};if(c.hooks.run("before-sanity-check",I),!I.code||!I.grammar)return I.code&&(I.element.textContent=I.code),void c.hooks.run("complete",I);if(c.hooks.run("before-highlight",I),p&&Vs.Worker){var F=new Worker(c.filename);F.onmessage=function(M){I.highlightedCode=M.data,c.hooks.run("before-insert",I),I.element.innerHTML=I.highlightedCode,v&&v.call(I.element),c.hooks.run("after-highlight",I),c.hooks.run("complete",I)},F.postMessage(JSON.stringify({language:I.language,code:I.code,immediateClose:!0}))}else I.highlightedCode=c.highlight(I.code,I.grammar,I.language),c.hooks.run("before-insert",I),I.element.innerHTML=I.highlightedCode,v&&v.call(m),c.hooks.run("after-highlight",I),c.hooks.run("complete",I)},highlight:function(m,p,v){var y=c.tokenize(m,p);return u.stringify(c.util.encode(y),v)},tokenize:function(m,p,v){var y=c.Token,S=[m],T=p.rest;if(T){for(var A in T)p[A]=T[A];delete p.rest}e:for(var A in p)if(p.hasOwnProperty(A)&&p[A]){var I=p[A];I=c.util.type(I)==="Array"?I:[I];for(var F=0;F<I.length;++F){var M=I[F],Q=M.inside,X=!!M.lookbehind,z=!!M.greedy,O=0,V=M.alias;if(z&&!M.pattern.global){var be=M.pattern.toString().match(/[imuy]*$/)[0];M.pattern=RegExp(M.pattern.source,be+"g")}M=M.pattern||M;for(var Me=0,$e=0;Me<S.length;$e+=S[Me].length,++Me){var tt=S[Me];if(S.length>m.length)break e;if(!(tt instanceof y)){M.lastIndex=0;var ut=M.exec(tt),yt=1;if(!ut&&z&&Me!=S.length-1){if(M.lastIndex=$e,ut=M.exec(m),!ut)break;for(var at=ut.index+(X?ut[1].length:0),fe=ut.index+ut[0].length,Ke=Me,Mt=$e,ft=S.length;Ke<ft&&Mt<fe;++Ke)Mt+=S[Ke].length,at>=Mt&&(++Me,$e=Mt);if(S[Me]instanceof y||S[Ke-1].greedy)continue;yt=Ke-Me,tt=m.slice($e,Mt),ut.index-=$e}if(ut){X&&(O=ut[1].length);var at=ut.index+O,ut=ut[0].slice(O),fe=at+ut.length,ze=tt.slice(0,at),Jt=tt.slice(fe),qt=[Me,yt];ze&&qt.push(ze);var ie=new y(A,Q?c.tokenize(ut,Q):ut,V,ut,z);qt.push(ie),Jt&&qt.push(Jt),Array.prototype.splice.apply(S,qt)}}}}}return S},hooks:{all:{},add:function(m,p){var v=c.hooks.all;v[m]=v[m]||[],v[m].push(p)},run:function(m,p){var v=c.hooks.all[m];if(v&&v.length)for(var y,S=0;y=v[S++];)y(p)}}},u=c.Token=function(m,p,v,y,S){this.type=m,this.content=p,this.alias=v,this.length=0|(y||"").length,this.greedy=!!S};if(u.stringify=function(m,p,v){if(typeof m=="string")return m;if(c.util.type(m)==="Array")return m.map(function(A){return u.stringify(A,p,m)}).join("");var y={type:m.type,content:u.stringify(m.content,p,v),tag:"span",classes:["token",m.type],attributes:{},language:p,parent:v};if(y.type=="comment"&&(y.attributes.spellcheck="true"),m.alias){var S=c.util.type(m.alias)==="Array"?m.alias:[m.alias];Array.prototype.push.apply(y.classes,S)}c.hooks.run("wrap",y);var T=Object.keys(y.attributes).map(function(A){return A+'="'+(y.attributes[A]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+y.tag+' class="'+y.classes.join(" ")+'"'+(T?" "+T:"")+">"+y.content+"</"+y.tag+">"},!Vs.document)return Vs.addEventListener&&Vs.addEventListener("message",function(m){var p=JSON.parse(m.data),v=p.language,y=p.code,S=p.immediateClose;Vs.postMessage(c.highlight(y,c.languages[v],v)),S&&Vs.close()},!1),Vs.Prism;var h=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return h&&(c.filename=h.src,document.addEventListener&&!h.hasAttribute("data-manual")&&(document.readyState!=="loading"?window.requestAnimationFrame?window.requestAnimationFrame(c.highlightAll):window.setTimeout(c.highlightAll,16):document.addEventListener("DOMContentLoaded",c.highlightAll))),Vs.Prism}();typeof Dl<"u"&&Dl.exports&&(Dl.exports=Tt),typeof global<"u"&&(global.Prism=Tt),Tt.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/i,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Tt.hooks.add("wrap",function(a){a.type==="entity"&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),Tt.languages.xml=Tt.languages.markup,Tt.languages.html=Tt.languages.markup,Tt.languages.mathml=Tt.languages.markup,Tt.languages.svg=Tt.languages.markup,Tt.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:{pattern:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},Tt.languages.css.atrule.inside.rest=Tt.util.clone(Tt.languages.css),Tt.languages.markup&&(Tt.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\w\W]*?>)[\w\W]*?(?=<\/style>)/i,lookbehind:!0,inside:Tt.languages.css,alias:"language-css"}}),Tt.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Tt.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Tt.languages.css}},alias:"language-css"}},Tt.languages.markup.tag)),Tt.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Tt.languages.javascript=Tt.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*\*?|\/|~|\^|%|\.{3}/}),Tt.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}}),Tt.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\\\|\\?[^\\])*?`/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Tt.languages.javascript}},string:/[\s\S]+/}}}),Tt.languages.markup&&Tt.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\w\W]*?>)[\w\W]*?(?=<\/script>)/i,lookbehind:!0,inside:Tt.languages.javascript,alias:"language-javascript"}}),Tt.languages.js=Tt.languages.javascript,function(){typeof self<"u"&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.forEach&&Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(i){for(var c,u=i.getAttribute("data-src"),h=i,m=/\blang(?:uage)?-(?!\*)(\w+)\b/i;h&&!m.test(h.className);)h=h.parentNode;if(h&&(c=(i.className.match(m)||[,""])[1]),!c){var p=(u.match(/\.(\w+)$/)||[,""])[1];c=a[p]||p}var v=document.createElement("code");v.className="language-"+c,i.textContent="",v.textContent="Loading…",i.appendChild(v);var y=new XMLHttpRequest;y.open("GET",u,!0),y.onreadystatechange=function(){y.readyState==4&&(y.status<400&&y.responseText?(v.textContent=y.responseText,Tt.highlightElement(v)):y.status>=400?v.textContent="✖ Error "+y.status+" while fetching file: "+y.statusText:v.textContent="✖ Error: File does not exist or is empty")},y.send(null)})},document.addEventListener("DOMContentLoaded",self.Prism.fileHighlight))}();$(document).on("submit","form.ajax-form",function(a){a.preventDefault();let i=this;disableAllButtons(i),$.ajax({method:$(i).attr("method"),url:$(i).attr("action"),data:$(i).serializeArray(),success:function(c){handleOKResponse(c),window.modalElement&&window.modalElement.hide(),enableAllButtons(i)},error:function(c){handleBadResponse(c),enableAllButtons(i)}})});$(document).on("submit","form.ajax-component-form",function(a){a.preventDefault();let i=this;disableAllButtons(i),$.ajax({method:$(i).attr("method"),url:$(i).attr("action"),data:new FormData(this),cache:!1,contentType:!1,processData:!1,success:function(c){handleOKResponse(c),enableAllButtons(i),window.modalElement&&window.modalElement.hide()},error:function(c){handleBadResponse(c),enableAllButtons(i)}})});window.disableAllButtons=function(a=null){if(!a){$(document).find("button").prop("disabled",!0);return}$(a).find("button").prop("disabled",!0)};window.enableAllButtons=function(a=null){if(!a){$(document).find("button").prop("disabled",!1);return}$(a).find("button").prop("disabled",!1)};var x1=cD;function cD(){var a=[].slice.call(arguments),i=!1;typeof a[0]=="boolean"&&(i=a.shift());var c=a[0];if(T1(c))throw new Error("extendee must be an object");for(var u=a.slice(1),h=u.length,m=0;m<h;m++){var p=u[m];for(var v in p)if(Object.prototype.hasOwnProperty.call(p,v)){var y=p[v];if(i&&IK(y)){var S=Array.isArray(y)?[]:{};c[v]=cD(!0,Object.prototype.hasOwnProperty.call(c,v)&&!T1(c[v])?c[v]:S,y)}else c[v]=y}}return c}function IK(a){return Array.isArray(a)||{}.toString.call(a)=="[object Object]"}function T1(a){return!a||typeof a!="object"&&typeof a!="function"}function LK(a){return a&&a.__esModule?a.default:a}class k1{on(i,c){return this._callbacks=this._callbacks||{},this._callbacks[i]||(this._callbacks[i]=[]),this._callbacks[i].push(c),this}emit(i,...c){this._callbacks=this._callbacks||{};let u=this._callbacks[i];if(u)for(let h of u)h.apply(this,c);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+i,{args:c})),this}makeEvent(i,c){let u={bubbles:!0,cancelable:!0,detail:c};if(typeof window.CustomEvent=="function")return new CustomEvent(i,u);var h=document.createEvent("CustomEvent");return h.initCustomEvent(i,u.bubbles,u.cancelable,u.detail),h}off(i,c){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let u=this._callbacks[i];if(!u)return this;if(arguments.length===1)return delete this._callbacks[i],this;for(let h=0;h<u.length;h++)if(u[h]===c){u.splice(h,1);break}return this}}var uD={};uD=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let MK={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(a,i,c){if(c)return{dzuuid:c.file.upload.uuid,dzchunkindex:c.index,dztotalfilesize:c.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:c.file.upload.totalChunkCount,dzchunkbyteoffset:c.index*this.options.chunkSize}},accept(a,i){return i()},chunksUploaded:function(a,i){i()},binaryBody:!1,fallback(){let a;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let c of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(c.className)){a=c,c.className="dz-message";break}a||(a=Pe.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(a));let i=a.getElementsByTagName("span")[0];return i&&(i.textContent!=null?i.textContent=this.options.dictFallbackMessage:i.innerText!=null&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(a,i,c,u){let h={srcX:0,srcY:0,srcWidth:a.width,srcHeight:a.height},m=a.width/a.height;i==null&&c==null?(i=h.srcWidth,c=h.srcHeight):i==null?i=c*m:c==null&&(c=i/m),i=Math.min(i,h.srcWidth),c=Math.min(c,h.srcHeight);let p=i/c;if(h.srcWidth>i||h.srcHeight>c)if(u==="crop")m>p?(h.srcHeight=a.height,h.srcWidth=h.srcHeight*p):(h.srcWidth=a.width,h.srcHeight=h.srcWidth/p);else if(u==="contain")m>p?c=i/m:i=c*m;else throw new Error(`Unknown resizeMethod '${u}'`);return h.srcX=(a.width-h.srcWidth)/2,h.srcY=(a.height-h.srcHeight)/2,h.trgWidth=i,h.trgHeight=c,h},transformFile(a,i){return(this.options.resizeWidth||this.options.resizeHeight)&&a.type.match(/image.*/)?this.resizeImage(a,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,i):i(a)},previewTemplate:LK(uD),drop(a){return this.element.classList.remove("dz-drag-hover")},dragstart(a){},dragend(a){return this.element.classList.remove("dz-drag-hover")},dragenter(a){return this.element.classList.add("dz-drag-hover")},dragover(a){return this.element.classList.add("dz-drag-hover")},dragleave(a){return this.element.classList.remove("dz-drag-hover")},paste(a){},reset(){return this.element.classList.remove("dz-started")},addedfile(a){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){a.previewElement=Pe.createElement(this.options.previewTemplate.trim()),a.previewTemplate=a.previewElement,this.previewsContainer.appendChild(a.previewElement);for(var i of a.previewElement.querySelectorAll("[data-dz-name]"))i.textContent=a.name;for(i of a.previewElement.querySelectorAll("[data-dz-size]"))i.innerHTML=this.filesize(a.size);this.options.addRemoveLinks&&(a._removeLink=Pe.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),a.previewElement.appendChild(a._removeLink));let c=u=>(u.preventDefault(),u.stopPropagation(),a.status===Pe.UPLOADING?Pe.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(a)):this.options.dictRemoveFileConfirmation?Pe.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(a)):this.removeFile(a));for(let u of a.previewElement.querySelectorAll("[data-dz-remove]"))u.addEventListener("click",c)}},removedfile(a){return a.previewElement!=null&&a.previewElement.parentNode!=null&&a.previewElement.parentNode.removeChild(a.previewElement),this._updateMaxFilesReachedClass()},thumbnail(a,i){if(a.previewElement){a.previewElement.classList.remove("dz-file-preview");for(let c of a.previewElement.querySelectorAll("[data-dz-thumbnail]"))c.alt=a.name,c.src=i;return setTimeout(()=>a.previewElement.classList.add("dz-image-preview"),1)}},error(a,i){if(a.previewElement){a.previewElement.classList.add("dz-error"),typeof i!="string"&&i.error&&(i=i.error);for(let c of a.previewElement.querySelectorAll("[data-dz-errormessage]"))c.textContent=i}},errormultiple(){},processing(a){if(a.previewElement&&(a.previewElement.classList.add("dz-processing"),a._removeLink))return a._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(a,i,c){if(a.previewElement)for(let u of a.previewElement.querySelectorAll("[data-dz-uploadprogress]"))u.nodeName==="PROGRESS"?u.value=i:u.style.width=`${i}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(a){if(a.previewElement)return a.previewElement.classList.add("dz-success")},successmultiple(){},canceled(a){return this.emit("error",a,this.options.dictUploadCanceled)},canceledmultiple(){},complete(a){if(a._removeLink&&(a._removeLink.innerHTML=this.options.dictRemoveFile),a.previewElement)return a.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var zK=MK;class Pe extends k1{static initClass(){this.prototype.Emitter=k1,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(i=>i.accepted).map(i=>i)}getRejectedFiles(){return this.files.filter(i=>!i.accepted).map(i=>i)}getFilesWithStatus(i){return this.files.filter(c=>c.status===i).map(c=>c)}getQueuedFiles(){return this.getFilesWithStatus(Pe.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(Pe.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(Pe.ADDED)}getActiveFiles(){return this.files.filter(i=>i.status===Pe.UPLOADING||i.status===Pe.QUEUED).map(i=>i)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(Pe.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let u=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",Pe.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:h}=this.hiddenFileInput;if(h.length)for(let m of h)this.addFile(m);this.emit("addedfiles",h),u()})};u()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let u of this.events)this.on(u,this.options[u]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",u=>this.emit("complete",u)),this.on("complete",u=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const i=function(u){if(u.dataTransfer.types){for(var h=0;h<u.dataTransfer.types.length;h++)if(u.dataTransfer.types[h]==="Files")return!0}return!1};let c=function(u){if(i(u))return u.stopPropagation(),u.preventDefault?u.preventDefault():u.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:u=>this.emit("dragstart",u),dragenter:u=>(c(u),this.emit("dragenter",u)),dragover:u=>{let h;try{h=u.dataTransfer.effectAllowed}catch{}return u.dataTransfer.dropEffect=h==="move"||h==="linkMove"?"move":"copy",c(u),this.emit("dragover",u)},dragleave:u=>this.emit("dragleave",u),drop:u=>(c(u),this.drop(u)),dragend:u=>this.emit("dragend",u)}}],this.clickableElements.forEach(u=>this.listeners.push({element:u,events:{click:h=>((u!==this.element||h.target===this.element||Pe.elementInside(h.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,Pe.instances.splice(Pe.instances.indexOf(this),1)}updateTotalUploadProgress(){let i,c=0,u=0;if(this.getActiveFiles().length){for(let m of this.getActiveFiles())c+=m.upload.bytesSent,u+=m.upload.total;i=100*c/u}else i=100;return this.emit("totaluploadprogress",i,u,c)}_getParamName(i){return typeof this.options.paramName=="function"?this.options.paramName(i):`${this.options.paramName}${this.options.uploadMultiple?`[${i}]`:""}`}_renameFile(i){return typeof this.options.renameFile!="function"?i.name:this.options.renameFile(i)}getFallbackForm(){let i,c;if(i=this.getExistingFallback())return i;let u='<div class="dz-fallback">';this.options.dictFallbackText&&(u+=`<p>${this.options.dictFallbackText}</p>`),u+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let h=Pe.createElement(u);return this.element.tagName!=="FORM"?(c=Pe.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),c.appendChild(h)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),c??h}getExistingFallback(){let i=function(u){for(let h of u)if(/(^| )fallback($| )/.test(h.className))return h};for(let u of["div","form"]){var c;if(c=i(this.element.getElementsByTagName(u)))return c}}setupEventListeners(){return this.listeners.map(i=>(()=>{let c=[];for(let u in i.events){let h=i.events[u];c.push(i.element.addEventListener(u,h,!1))}return c})())}removeEventListeners(){return this.listeners.map(i=>(()=>{let c=[];for(let u in i.events){let h=i.events[u];c.push(i.element.removeEventListener(u,h,!1))}return c})())}disable(){return this.clickableElements.forEach(i=>i.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(i=>this.cancelUpload(i))}enable(){return delete this.disabled,this.clickableElements.forEach(i=>i.classList.add("dz-clickable")),this.setupEventListeners()}filesize(i){let c=0,u="b";if(i>0){let h=["tb","gb","mb","kb","b"];for(let m=0;m<h.length;m++){let p=h[m],v=Math.pow(this.options.filesizeBase,4-m)/10;if(i>=v){c=i/Math.pow(this.options.filesizeBase,4-m),u=p;break}}c=Math.round(10*c)/10}return`<strong>${c}</strong> ${this.options.dictFileSizeUnits[u]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(i){if(!i.dataTransfer)return;this.emit("drop",i);let c=[];for(let u=0;u<i.dataTransfer.files.length;u++)c[u]=i.dataTransfer.files[u];if(c.length){let{items:u}=i.dataTransfer;u&&u.length&&u[0].webkitGetAsEntry!=null?this._addFilesFromItems(u):this.handleFiles(c)}this.emit("addedfiles",c)}paste(i){if(VK(i!=null?i.clipboardData:void 0,u=>u.items)==null)return;this.emit("paste",i);let{items:c}=i.clipboardData;if(c.length)return this._addFilesFromItems(c)}handleFiles(i){for(let c of i)this.addFile(c)}_addFilesFromItems(i){return(()=>{let c=[];for(let h of i){var u;h.webkitGetAsEntry!=null&&(u=h.webkitGetAsEntry())?u.isFile?c.push(this.addFile(h.getAsFile())):u.isDirectory?c.push(this._addFilesFromDirectory(u,u.name)):c.push(void 0):h.getAsFile!=null&&(h.kind==null||h.kind==="file")?c.push(this.addFile(h.getAsFile())):c.push(void 0)}return c})()}_addFilesFromDirectory(i,c){let u=i.createReader(),h=p=>qK(console,"log",v=>v.log(p));var m=()=>u.readEntries(p=>{if(p.length>0){for(let v of p)v.isFile?v.file(y=>{if(!(this.options.ignoreHiddenFiles&&y.name.substring(0,1)==="."))return y.fullPath=`${c}/${y.name}`,this.addFile(y)}):v.isDirectory&&this._addFilesFromDirectory(v,`${c}/${v.name}`);m()}return null},h);return m()}accept(i,c){this.options.maxFilesize&&i.size>this.options.maxFilesize*1048576?c(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(i.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):Pe.isValidFile(i,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(c(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",i)):this.options.accept.call(this,i,c):c(this.options.dictInvalidFileType)}addFile(i){i.upload={uuid:Pe.uuidv4(),progress:0,total:i.size,bytesSent:0,filename:this._renameFile(i)},this.files.push(i),i.status=Pe.ADDED,this.emit("addedfile",i),this._enqueueThumbnail(i),this.accept(i,c=>{c?(i.accepted=!1,this._errorProcessing([i],c)):(i.accepted=!0,this.options.autoQueue&&this.enqueueFile(i)),this._updateMaxFilesReachedClass()})}enqueueFiles(i){for(let c of i)this.enqueueFile(c);return null}enqueueFile(i){if(i.status===Pe.ADDED&&i.accepted===!0){if(i.status=Pe.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(i){if(this.options.createImageThumbnails&&i.type.match(/image.*/)&&i.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(i),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let i=this._thumbnailQueue.shift();return this.createThumbnail(i,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,c=>(this.emit("thumbnail",i,c),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(i){if(i.status===Pe.UPLOADING&&this.cancelUpload(i),this.files=UK(this.files,i),this.emit("removedfile",i),this.files.length===0)return this.emit("reset")}removeAllFiles(i){i==null&&(i=!1);for(let c of this.files.slice())(c.status!==Pe.UPLOADING||i)&&this.removeFile(c);return null}resizeImage(i,c,u,h,m){return this.createThumbnail(i,c,u,h,!0,(p,v)=>{if(v==null)return m(i);{let{resizeMimeType:y}=this.options;y==null&&(y=i.type);let S=v.toDataURL(y,this.options.resizeQuality);return(y==="image/jpeg"||y==="image/jpg")&&(S=fD.restore(i.dataURL,S)),m(Pe.dataURItoBlob(S))}})}createThumbnail(i,c,u,h,m,p){let v=new FileReader;v.onload=()=>{if(i.dataURL=v.result,i.type==="image/svg+xml"){p!=null&&p(v.result);return}this.createThumbnailFromUrl(i,c,u,h,m,p)},v.readAsDataURL(i)}displayExistingFile(i,c,u,h,m=!0){if(this.emit("addedfile",i),this.emit("complete",i),!m)this.emit("thumbnail",i,c),u&&u();else{let p=v=>{this.emit("thumbnail",i,v),u&&u()};i.dataURL=c,this.createThumbnailFromUrl(i,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,p,h)}}createThumbnailFromUrl(i,c,u,h,m,p,v){let y=document.createElement("img");return v&&(y.crossOrigin=v),m=getComputedStyle(document.body).imageOrientation=="from-image"?!1:m,y.onload=()=>{let S=T=>T(1);return typeof EXIF<"u"&&EXIF!==null&&m&&(S=T=>EXIF.getData(y,function(){return T(EXIF.getTag(this,"Orientation"))})),S(T=>{i.width=y.width,i.height=y.height;let A=this.options.resize.call(this,i,c,u,h),I=document.createElement("canvas"),F=I.getContext("2d");switch(I.width=A.trgWidth,I.height=A.trgHeight,T>4&&(I.width=A.trgHeight,I.height=A.trgWidth),T){case 2:F.translate(I.width,0),F.scale(-1,1);break;case 3:F.translate(I.width,I.height),F.rotate(Math.PI);break;case 4:F.translate(0,I.height),F.scale(1,-1);break;case 5:F.rotate(.5*Math.PI),F.scale(1,-1);break;case 6:F.rotate(.5*Math.PI),F.translate(0,-I.width);break;case 7:F.rotate(.5*Math.PI),F.translate(I.height,-I.width),F.scale(-1,1);break;case 8:F.rotate(-.5*Math.PI),F.translate(-I.height,0);break}jK(F,y,A.srcX!=null?A.srcX:0,A.srcY!=null?A.srcY:0,A.srcWidth,A.srcHeight,A.trgX!=null?A.trgX:0,A.trgY!=null?A.trgY:0,A.trgWidth,A.trgHeight);let M=I.toDataURL("image/png");if(p!=null)return p(M,I)})},p!=null&&(y.onerror=p),y.src=i.dataURL}processQueue(){let{parallelUploads:i}=this.options,c=this.getUploadingFiles().length,u=c;if(c>=i)return;let h=this.getQueuedFiles();if(h.length>0){if(this.options.uploadMultiple)return this.processFiles(h.slice(0,i-c));for(;u<i;){if(!h.length)return;this.processFile(h.shift()),u++}}}processFile(i){return this.processFiles([i])}processFiles(i){for(let c of i)c.processing=!0,c.status=Pe.UPLOADING,this.emit("processing",c);return this.options.uploadMultiple&&this.emit("processingmultiple",i),this.uploadFiles(i)}_getFilesWithXhr(i){return this.files.filter(c=>c.xhr===i).map(c=>c)}cancelUpload(i){if(i.status===Pe.UPLOADING){let c=this._getFilesWithXhr(i.xhr);for(let u of c)u.status=Pe.CANCELED;typeof i.xhr<"u"&&i.xhr.abort();for(let u of c)this.emit("canceled",u);this.options.uploadMultiple&&this.emit("canceledmultiple",c)}else(i.status===Pe.ADDED||i.status===Pe.QUEUED)&&(i.status=Pe.CANCELED,this.emit("canceled",i),this.options.uploadMultiple&&this.emit("canceledmultiple",[i]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(i,...c){return typeof i=="function"?i.apply(this,c):i}uploadFile(i){return this.uploadFiles([i])}uploadFiles(i){this._transformFiles(i,c=>{if(this.options.chunking){let u=c[0];i[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||u.size>this.options.chunkSize),i[0].upload.totalChunkCount=Math.ceil(u.size/this.options.chunkSize)}if(i[0].upload.chunked){let u=i[0],h=c[0];u.upload.chunks=[];let m=()=>{let p=0;for(;u.upload.chunks[p]!==void 0;)p++;if(p>=u.upload.totalChunkCount)return;let v=p*this.options.chunkSize,y=Math.min(v+this.options.chunkSize,h.size),S={name:this._getParamName(0),data:h.webkitSlice?h.webkitSlice(v,y):h.slice(v,y),filename:u.upload.filename,chunkIndex:p};u.upload.chunks[p]={file:u,index:p,dataBlock:S,status:Pe.UPLOADING,progress:0,retries:0},this._uploadData(i,[S])};if(u.upload.finishedChunkUpload=(p,v)=>{let y=!0;p.status=Pe.SUCCESS,p.dataBlock=null,p.response=p.xhr.responseText,p.responseHeaders=p.xhr.getAllResponseHeaders(),p.xhr=null;for(let S=0;S<u.upload.totalChunkCount;S++){if(u.upload.chunks[S]===void 0)return m();u.upload.chunks[S].status!==Pe.SUCCESS&&(y=!1)}y&&this.options.chunksUploaded(u,()=>{this._finished(i,v,null)})},this.options.parallelChunkUploads)for(let p=0;p<u.upload.totalChunkCount;p++)m();else m()}else{let u=[];for(let h=0;h<i.length;h++)u[h]={name:this._getParamName(h),data:c[h],filename:i[h].upload.filename};this._uploadData(i,u)}})}_getChunk(i,c){for(let u=0;u<i.upload.totalChunkCount;u++)if(i.upload.chunks[u]!==void 0&&i.upload.chunks[u].xhr===c)return i.upload.chunks[u]}_uploadData(i,c){let u=new XMLHttpRequest;for(let S of i)S.xhr=u;i[0].upload.chunked&&(i[0].upload.chunks[c[0].chunkIndex].xhr=u);let h=this.resolveOption(this.options.method,i,c),m=this.resolveOption(this.options.url,i,c);u.open(h,m,!0),this.resolveOption(this.options.timeout,i)&&(u.timeout=this.resolveOption(this.options.timeout,i)),u.withCredentials=!!this.options.withCredentials,u.onload=S=>{this._finishedUploading(i,u,S)},u.ontimeout=()=>{this._handleUploadError(i,u,`Request timedout after ${this.options.timeout/1e3} seconds`)},u.onerror=()=>{this._handleUploadError(i,u)};let v=u.upload!=null?u.upload:u;v.onprogress=S=>this._updateFilesUploadProgress(i,u,S);let y=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(y["Content-Type"]=i[0].type),this.options.headers&&x1(y,this.options.headers);for(let S in y){let T=y[S];T&&u.setRequestHeader(S,T)}if(this.options.binaryBody){for(let S of i)this.emit("sending",S,u);this.options.uploadMultiple&&this.emit("sendingmultiple",i,u),this.submitRequest(u,null,i)}else{let S=new FormData;if(this.options.params){let T=this.options.params;typeof T=="function"&&(T=T.call(this,i,u,i[0].upload.chunked?this._getChunk(i[0],u):null));for(let A in T){let I=T[A];if(Array.isArray(I))for(let F=0;F<I.length;F++)S.append(A,I[F]);else S.append(A,I)}}for(let T of i)this.emit("sending",T,u,S);this.options.uploadMultiple&&this.emit("sendingmultiple",i,u,S),this._addFormElementData(S);for(let T=0;T<c.length;T++){let A=c[T];S.append(A.name,A.data,A.filename)}this.submitRequest(u,S,i)}}_transformFiles(i,c){let u=[],h=0;for(let m=0;m<i.length;m++)this.options.transformFile.call(this,i[m],p=>{u[m]=p,++h===i.length&&c(u)})}_addFormElementData(i){if(this.element.tagName==="FORM")for(let c of this.element.querySelectorAll("input, textarea, select, button")){let u=c.getAttribute("name"),h=c.getAttribute("type");if(h&&(h=h.toLowerCase()),!(typeof u>"u"||u===null))if(c.tagName==="SELECT"&&c.hasAttribute("multiple"))for(let m of c.options)m.selected&&i.append(u,m.value);else(!h||h!=="checkbox"&&h!=="radio"||c.checked)&&i.append(u,c.value)}}_updateFilesUploadProgress(i,c,u){if(i[0].upload.chunked){let h=i[0],m=this._getChunk(h,c);u?(m.progress=100*u.loaded/u.total,m.total=u.total,m.bytesSent=u.loaded):(m.progress=100,m.bytesSent=m.total),h.upload.progress=0,h.upload.total=0,h.upload.bytesSent=0;for(let p=0;p<h.upload.totalChunkCount;p++)h.upload.chunks[p]&&typeof h.upload.chunks[p].progress<"u"&&(h.upload.progress+=h.upload.chunks[p].progress,h.upload.total+=h.upload.chunks[p].total,h.upload.bytesSent+=h.upload.chunks[p].bytesSent);h.upload.progress=h.upload.progress/h.upload.totalChunkCount,this.emit("uploadprogress",h,h.upload.progress,h.upload.bytesSent)}else for(let h of i)h.upload.total&&h.upload.bytesSent&&h.upload.bytesSent==h.upload.total||(u?(h.upload.progress=100*u.loaded/u.total,h.upload.total=u.total,h.upload.bytesSent=u.loaded):(h.upload.progress=100,h.upload.bytesSent=h.upload.total),this.emit("uploadprogress",h,h.upload.progress,h.upload.bytesSent))}_finishedUploading(i,c,u){let h;if(i[0].status!==Pe.CANCELED&&c.readyState===4){if(c.responseType!=="arraybuffer"&&c.responseType!=="blob"&&(h=c.responseText,c.getResponseHeader("content-type")&&~c.getResponseHeader("content-type").indexOf("application/json")))try{h=JSON.parse(h)}catch(m){u=m,h="Invalid JSON response from server."}this._updateFilesUploadProgress(i,c),200<=c.status&&c.status<300?i[0].upload.chunked?i[0].upload.finishedChunkUpload(this._getChunk(i[0],c),h):this._finished(i,h,u):this._handleUploadError(i,c,h)}}_handleUploadError(i,c,u){if(i[0].status!==Pe.CANCELED){if(i[0].upload.chunked&&this.options.retryChunks){let h=this._getChunk(i[0],c);if(h.retries++<this.options.retryChunksLimit){this._uploadData(i,[h.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(i,u||this.options.dictResponseError.replace("{{statusCode}}",c.status),c)}}submitRequest(i,c,u){if(i.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(u[0].upload.chunked){const h=this._getChunk(u[0],i);i.send(h.dataBlock.data)}else i.send(u[0]);else i.send(c)}_finished(i,c,u){for(let h of i)h.status=Pe.SUCCESS,this.emit("success",h,c,u),this.emit("complete",h);if(this.options.uploadMultiple&&(this.emit("successmultiple",i,c,u),this.emit("completemultiple",i)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(i,c,u){for(let h of i)h.status=Pe.ERROR,this.emit("error",h,c,u),this.emit("complete",h);if(this.options.uploadMultiple&&(this.emit("errormultiple",i,c,u),this.emit("completemultiple",i)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){let c=Math.random()*16|0;return(i==="x"?c:c&3|8).toString(16)})}constructor(i,c){super();let u,h;if(this.element=i,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");Pe.instances.push(this),this.element.dropzone=this;let m=(h=Pe.optionsForElement(this.element))!=null?h:{};if(this.options=x1(!0,{},zK,m,c??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!Pe.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=p=>this.options.renameFilename.call(this,p.name,p)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(u=this.getExistingFallback())&&u.parentNode&&u.parentNode.removeChild(u),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=Pe.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=Pe.getElements(this.options.clickable,"clickable")),this.init()}}Pe.initClass();Pe.options={};Pe.optionsForElement=function(a){if(a.getAttribute("id"))return Pe.options[WK(a.getAttribute("id"))]};Pe.instances=[];Pe.forElement=function(a){if(typeof a=="string"&&(a=document.querySelector(a)),(a!=null?a.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return a.dropzone};Pe.discover=function(){let a;if(document.querySelectorAll)a=document.querySelectorAll(".dropzone");else{a=[];let i=c=>(()=>{let u=[];for(let h of c)/(^| )dropzone($| )/.test(h.className)?u.push(a.push(h)):u.push(void 0);return u})();i(document.getElementsByTagName("div")),i(document.getElementsByTagName("form"))}return(()=>{let i=[];for(let c of a)Pe.optionsForElement(c)!==!1?i.push(new Pe(c)):i.push(void 0);return i})()};Pe.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Pe.isBrowserSupported=function(){let a=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))a=!1;else{Pe.blacklistedBrowsers!==void 0&&(Pe.blockedBrowsers=Pe.blacklistedBrowsers);for(let i of Pe.blockedBrowsers)if(i.test(navigator.userAgent)){a=!1;continue}}else a=!1;return a};Pe.dataURItoBlob=function(a){let i=atob(a.split(",")[1]),c=a.split(",")[0].split(":")[1].split(";")[0],u=new ArrayBuffer(i.length),h=new Uint8Array(u);for(let m=0,p=i.length,v=0<=p;v?m<=p:m>=p;v?m++:m--)h[m]=i.charCodeAt(m);return new Blob([u],{type:c})};const UK=(a,i)=>a.filter(c=>c!==i).map(c=>c),WK=a=>a.replace(/[\-_](\w)/g,i=>i.charAt(1).toUpperCase());Pe.createElement=function(a){let i=document.createElement("div");return i.innerHTML=a,i.childNodes[0]};Pe.elementInside=function(a,i){if(a===i)return!0;for(;a=a.parentNode;)if(a===i)return!0;return!1};Pe.getElement=function(a,i){let c;if(typeof a=="string"?c=document.querySelector(a):a.nodeType!=null&&(c=a),c==null)throw new Error(`Invalid \`${i}\` option provided. Please provide a CSS selector or a plain HTML element.`);return c};Pe.getElements=function(a,i){let c,u;if(a instanceof Array){u=[];try{for(c of a)u.push(this.getElement(c,i))}catch{u=null}}else if(typeof a=="string"){u=[];for(c of document.querySelectorAll(a))u.push(c)}else a.nodeType!=null&&(u=[a]);if(u==null||!u.length)throw new Error(`Invalid \`${i}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return u};Pe.confirm=function(a,i,c){if(window.confirm(a))return i();if(c!=null)return c()};Pe.isValidFile=function(a,i){if(!i)return!0;i=i.split(",");let c=a.type,u=c.replace(/\/.*$/,"");for(let h of i)if(h=h.trim(),h.charAt(0)==="."){if(a.name.toLowerCase().indexOf(h.toLowerCase(),a.name.length-h.length)!==-1)return!0}else if(/\/\*$/.test(h)){if(u===h.replace(/\/.*$/,""))return!0}else if(c===h)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(a){return this.each(function(){return new Pe(this,a)})});Pe.ADDED="added";Pe.QUEUED="queued";Pe.ACCEPTED=Pe.QUEUED;Pe.UPLOADING="uploading";Pe.PROCESSING=Pe.UPLOADING;Pe.CANCELED="canceled";Pe.ERROR="error";Pe.SUCCESS="success";let HK=function(a){a.naturalWidth;let i=a.naturalHeight,c=document.createElement("canvas");c.width=1,c.height=i;let u=c.getContext("2d");u.drawImage(a,0,0);let{data:h}=u.getImageData(1,0,1,i),m=0,p=i,v=i;for(;v>m;)h[(v-1)*4+3]===0?p=v:m=v,v=p+m>>1;let y=v/i;return y===0?1:y};var jK=function(a,i,c,u,h,m,p,v,y,S){let T=HK(i);return a.drawImage(i,c,u,h,m,p,v,y,S/T)};class fD{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(i){let c="",u,h,m="",p,v,y,S="",T=0;for(;u=i[T++],h=i[T++],m=i[T++],p=u>>2,v=(u&3)<<4|h>>4,y=(h&15)<<2|m>>6,S=m&63,isNaN(h)?y=S=64:isNaN(m)&&(S=64),c=c+this.KEY_STR.charAt(p)+this.KEY_STR.charAt(v)+this.KEY_STR.charAt(y)+this.KEY_STR.charAt(S),u=h=m="",p=v=y=S="",T<i.length;);return c}static restore(i,c){if(!i.match("data:image/jpeg;base64,"))return c;let u=this.decode64(i.replace("data:image/jpeg;base64,","")),h=this.slice2Segments(u),m=this.exifManipulation(c,h);return`data:image/jpeg;base64,${this.encode64(m)}`}static exifManipulation(i,c){let u=this.getExifArray(c),h=this.insertExif(i,u);return new Uint8Array(h)}static getExifArray(i){let c,u=0;for(;u<i.length;){if(c=i[u],c[0]===255&c[1]===225)return c;u++}return[]}static insertExif(i,c){let u=i.replace("data:image/jpeg;base64,",""),h=this.decode64(u),m=h.indexOf(255,3),p=h.slice(0,m),v=h.slice(m),y=p;return y=y.concat(c),y=y.concat(v),y}static slice2Segments(i){let c=0,u=[];for(;;){var h;if(i[c]===255&i[c+1]===218)break;if(i[c]===255&i[c+1]===216)c+=2;else{h=i[c+2]*256+i[c+3];let m=c+h+2,p=i.slice(c,m);u.push(p),c=m}if(c>i.length)break}return u}static decode64(i){let c,u,h="",m,p,v,y="",S=0,T=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(i)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),i=i.replace(/[^A-Za-z0-9\+\/\=]/g,"");m=this.KEY_STR.indexOf(i.charAt(S++)),p=this.KEY_STR.indexOf(i.charAt(S++)),v=this.KEY_STR.indexOf(i.charAt(S++)),y=this.KEY_STR.indexOf(i.charAt(S++)),c=m<<2|p>>4,u=(p&15)<<4|v>>2,h=(v&3)<<6|y,T.push(c),v!==64&&T.push(u),y!==64&&T.push(h),c=u=h="",m=p=v=y="",S<i.length;);return T}}fD.initClass();function VK(a,i){return typeof a<"u"&&a!==null?i(a):void 0}function qK(a,i,c){if(typeof a<"u"&&a!==null&&typeof a[i]=="function")return c(a,i)}Pe.autoDiscover=!1;un(function(){un(".dz-area").length&&un.each(un(".dz-area"),function(a,i){let c=un(i).closest("form").attr("action");new Pe(i,{paramName:"file",maxFiles:un(i).closest("form").data("max-file")??1,maxFilesize:150,accept:function(u,h){h()},url:c,withCredentials:!0,headers:{"X-CSRF-TOKEN":un("meta[name=csrf-token]").attr("content")},clickable:!0,done:function(u,h){},complete:function(u,h){u.status=="success"&&handleOKResponse(JSON.parse(u.xhr.response))},error:function(u,h){u.status=="error"&&window.messageBox(!1,"Unable to upload file")}})})});un(document).on("click",".ajax-modal",function(a){let i=this,c=un(this).data("bs-target"),u=c.substring(1,c.length),h=un(this).data("action")??a.relatedTarget.href,m=un(this).data("method")??"get";un(i).prop("disabled",!0).addClass("disabled"),un.ajax({method:m,url:h,headers:{"X-CSRF-TOKEN":un('meta[name="csrf-token"]').attr("content")},success:function(p){un(c).find("div#"+u+"modal-document").html(p),un("#"+u+"-modal-document").html(p),document.getElementById(u+"-modal-document").innerHTML=p,window.modalElement=new p9(un(c)),window.modalElement.show(),un(i).prop("disabled",!1).removeClass("disabled");let v=un("#"+u).find("select");v.length&&un.each(v,function(y,S){window.ajaxReinitalize(S,{dropdownParent:un("#"+u)})})},error:function(p){messageBox(!1,"Unable to load "),un(i).prop("disabled",!1).removeClass("disabled")}})});window.ajaxReinitalize=function(a,i={}){if(!$(a).hasClass("no-select-2"))if(!$(a).hasClass("ajax-select-2"))$(a).select2(i);else{let c=$(a).data("action");i.ajax={url:c,dataType:"json",type:"GET",data:function(u){var h={search:u.term,page:u.page||1};return h},results:function(u){return console.log("data: ",u),{results:u}}},$(a).select2(i)}};$("select").length&&$.each($("select"),function(a,i){$(i).hasClass("no-select-2")||window.ajaxReinitalize(i)});$(document).on("change",".update-from-select",function(a){a.preventDefault();let i=$(this).data("action"),c={record:$(this).find(":selected").val()},u=$(this).data("method")??"get";$.ajax({method:u,url:i,data:c,success:function(h){window.handleOKResponse(h)},erorr:function(h){window.handleBADResponse(h)}})});$(document).on("change",'select[name="slider_layout"]',function(a){a.preventDefault();let i=$(this).find(":selected").val();$(".slider_row").addClass("d-none"),$("."+i).length&&$("."+i).removeClass("d-none")});/*! DataTables 1.13.4
 * ©2008-2023 SpryMedia Ltd - datatables.net/license
 */let W=un;var _e=function(a,i){if(_e.factory(a,i))return _e;if(this instanceof _e)return W(a).DataTable(i);i=a,this.$=function(p,v){return this.api(!0).$(p,v)},this._=function(p,v){return this.api(!0).rows(p,v).data()},this.api=function(p){return p?new Et(om(this[Tn.iApiIndex])):new Et(this)},this.fnAddData=function(p,v){var y=this.api(!0),S=Array.isArray(p)&&(Array.isArray(p[0])||W.isPlainObject(p[0]))?y.rows.add(p):y.row.add(p);return(v===void 0||v)&&y.draw(),S.flatten().toArray()},this.fnAdjustColumnSizing=function(p){var v=this.api(!0).columns.adjust(),y=v.settings()[0],S=y.oScroll;p===void 0||p?v.draw(!1):(S.sX!==""||S.sY!=="")&&xm(y)},this.fnClearTable=function(p){var v=this.api(!0).clear();(p===void 0||p)&&v.draw()},this.fnClose=function(p){this.api(!0).row(p).child.hide()},this.fnDeleteRow=function(p,v,y){var S=this.api(!0),T=S.rows(p),A=T.settings()[0],I=A.aoData[T[0][0]];return T.remove(),v&&v.call(this,A,I),(y===void 0||y)&&S.draw(),I},this.fnDestroy=function(p){this.api(!0).destroy(p)},this.fnDraw=function(p){this.api(!0).draw(p)},this.fnFilter=function(p,v,y,S,T,A){var I=this.api(!0);v==null?I.search(p,y,S,A):I.column(v).search(p,y,S,A),I.draw()},this.fnGetData=function(p,v){var y=this.api(!0);if(p!==void 0){var S=p.nodeName?p.nodeName.toLowerCase():"";return v!==void 0||S=="td"||S=="th"?y.cell(p,v).data():y.row(p).data()||null}return y.data().toArray()},this.fnGetNodes=function(p){var v=this.api(!0);return p!==void 0?v.row(p).node():v.rows().nodes().flatten().toArray()},this.fnGetPosition=function(p){var v=this.api(!0),y=p.nodeName.toUpperCase();if(y=="TR")return v.row(p).index();if(y=="TD"||y=="TH"){var S=v.cell(p).index();return[S.row,S.columnVisible,S.column]}return null},this.fnIsOpen=function(p){return this.api(!0).row(p).child.isShown()},this.fnOpen=function(p,v,y){return this.api(!0).row(p).child(v,y).show().child()[0]},this.fnPageChange=function(p,v){var y=this.api(!0).page(p);(v===void 0||v)&&y.draw(!1)},this.fnSetColumnVis=function(p,v,y){var S=this.api(!0).column(p).visible(v);(y===void 0||y)&&S.columns.adjust().draw()},this.fnSettings=function(){return om(this[Tn.iApiIndex])},this.fnSort=function(p){this.api(!0).order(p).draw()},this.fnSortListener=function(p,v,y){this.api(!0).order.listener(p,v,y)},this.fnUpdate=function(p,v,y,S,T){var A=this.api(!0);return y==null?A.row(v).data(p):A.cell(v,y).data(p),(T===void 0||T)&&A.columns.adjust(),(S===void 0||S)&&A.draw(),0},this.fnVersionCheck=Tn.fnVersionCheck;var c=this,u=i===void 0,h=this.length;u&&(i={}),this.oApi=this.internal=Tn.internal;for(var m in _e.ext.internal)m&&(this[m]=eR(m));return this.each(function(){var p={},v=h>1?Ry(p,i,!0):i,y=0,S,T=this.getAttribute("id"),A=!1,I=_e.defaults,F=W(this);if(this.nodeName.toLowerCase()!="table"){Kr(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}R1(I),vD(I.column),Eo(I,I,!0),Eo(I.column,I.column,!0),Eo(I,W.extend(v,F.data()),!0);var M=_e.settings;for(y=0,S=M.length;y<S;y++){var Q=M[y];if(Q.nTable==this||Q.nTHead&&Q.nTHead.parentNode==this||Q.nTFoot&&Q.nTFoot.parentNode==this){var X=v.bRetrieve!==void 0?v.bRetrieve:I.bRetrieve,z=v.bDestroy!==void 0?v.bDestroy:I.bDestroy;if(u||X)return Q.oInstance;if(z){Q.oInstance.fnDestroy();break}else{Kr(Q,0,"Cannot reinitialise DataTable",3);return}}if(Q.sTableId==this.id){M.splice(y,1);break}}(T===null||T==="")&&(T="DataTables_Table_"+_e.ext._unique++,this.id=T);var O=W.extend(!0,{},_e.models.oSettings,{sDestroyWidth:F[0].style.width,sInstance:T,sTableId:T});O.nTable=this,O.oApi=c.internal,O.oInit=v,M.push(O),O.oInstance=c.length===1?c:F.dataTable(),R1(v),xy(v.oLanguage),v.aLengthMenu&&!v.iDisplayLength&&(v.iDisplayLength=Array.isArray(v.aLengthMenu[0])?v.aLengthMenu[0][0]:v.aLengthMenu[0]),v=Ry(W.extend(!0,{},I),v),vs(O.oFeatures,v,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),vs(O,v,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),vs(O.oScroll,v,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),vs(O.oLanguage,v,"fnInfoCallback"),ar(O,"aoDrawCallback",v.fnDrawCallback,"user"),ar(O,"aoServerParams",v.fnServerParams,"user"),ar(O,"aoStateSaveParams",v.fnStateSaveParams,"user"),ar(O,"aoStateLoadParams",v.fnStateLoadParams,"user"),ar(O,"aoStateLoaded",v.fnStateLoaded,"user"),ar(O,"aoRowCallback",v.fnRowCallback,"user"),ar(O,"aoRowCreatedCallback",v.fnCreatedRow,"user"),ar(O,"aoHeaderCallback",v.fnHeaderCallback,"user"),ar(O,"aoFooterCallback",v.fnFooterCallback,"user"),ar(O,"aoInitComplete",v.fnInitComplete,"user"),ar(O,"aoPreDrawCallback",v.fnPreDrawCallback,"user"),O.rowIdFn=Nl(v.rowId),bD(O);var V=O.oClasses;if(W.extend(V,_e.ext.classes,v.oClasses),F.addClass(V.sTable),O.iInitDisplayStart===void 0&&(O.iInitDisplayStart=v.iDisplayStart,O._iDisplayStart=v.iDisplayStart),v.iDeferLoading!==null){O.bDeferLoading=!0;var be=Array.isArray(v.iDeferLoading);O._iRecordsDisplay=be?v.iDeferLoading[0]:v.iDeferLoading,O._iRecordsTotal=be?v.iDeferLoading[1]:v.iDeferLoading}var Me=O.oLanguage;W.extend(!0,Me,v.oLanguage),Me.sUrl?(W.ajax({dataType:"json",url:Me.sUrl,success:function(ft){Eo(I.oLanguage,ft),xy(ft),W.extend(!0,Me,ft,O.oInit.oLanguage),Lt(O,null,"i18n",[O]),Eu(O)},error:function(){Eu(O)}}),A=!0):Lt(O,null,"i18n",[O]),v.asStripeClasses===null&&(O.asStripeClasses=[V.sStripeOdd,V.sStripeEven]);var $e=O.asStripeClasses,tt=F.children("tbody").find("tr").eq(0);W.inArray(!0,W.map($e,function(ft,ze){return tt.hasClass(ft)}))!==-1&&(W("tbody tr",this).removeClass($e.join(" ")),O.asDestroyStripes=$e.slice());var ut=[],yt,at=this.getElementsByTagName("thead");if(at.length!==0&&(Tu(O.aoHeader,at[0]),ut=Sm(O)),v.aoColumns===null)for(yt=[],y=0,S=ut.length;y<S;y++)yt.push(null);else yt=v.aoColumns;for(y=0,S=yt.length;y<S;y++)Uy(O,ut?ut[y]:null);if(yD(O,v.aoColumnDefs,yt,function(ft,ze){nm(O,ft,ze)}),tt.length){var fe=function(ft,ze){return ft.getAttribute("data-"+ze)!==null?ze:null};W(tt[0]).children("th, td").each(function(ft,ze){var Jt=O.aoColumns[ft];if(Jt||Kr(O,0,"Incorrect column count",18),Jt.mData===ft){var qt=fe(ze,"sort")||fe(ze,"order"),ie=fe(ze,"filter")||fe(ze,"search");(qt!==null||ie!==null)&&(Jt.mData={_:ft+".display",sort:qt!==null?ft+".@data-"+qt:void 0,type:qt!==null?ft+".@data-"+qt:void 0,filter:ie!==null?ft+".@data-"+ie:void 0},Jt._isArrayHost=!0,nm(O,ft))}})}var Ke=O.oFeatures,Mt=function(){if(v.aaSorting===void 0){var ft=O.aaSorting;for(y=0,S=ft.length;y<S;y++)ft[y][1]=O.aoColumns[y].asSorting[0]}sm(O),Ke.bSort&&ar(O,"aoDrawCallback",function(){if(O.bSorted){var zt=$l(O),zn={};W.each(zt,function(xe,ir){zn[ir.src]=ir.dir}),Lt(O,null,"order",[O,zt,zn]),WD(O)}}),ar(O,"aoDrawCallback",function(){(O.bSorted||Yn(O)==="ssp"||Ke.bDeferRender)&&sm(O)},"sc");var ze=F.children("caption").each(function(){this._captionSide=W(this).css("caption-side")}),Jt=F.children("thead");Jt.length===0&&(Jt=W("<thead/>").appendTo(F)),O.nTHead=Jt[0];var qt=F.children("tbody");qt.length===0&&(qt=W("<tbody/>").insertAfter(Jt)),O.nTBody=qt[0];var ie=F.children("tfoot");if(ie.length===0&&ze.length>0&&(O.oScroll.sX!==""||O.oScroll.sY!=="")&&(ie=W("<tfoot/>").appendTo(F)),ie.length===0||ie.children().length===0?F.addClass(V.sNoFooter):ie.length>0&&(O.nTFoot=ie[0],Tu(O.aoFooter,O.nTFoot)),v.aaData)for(y=0;y<v.aaData.length;y++)ma(O,v.aaData[y]);else(O.bDeferLoading||Yn(O)=="dom")&&Cm(O,W(O.nTBody).children("tr"));O.aiDisplay=O.aiDisplayMaster.slice(),O.bInitialised=!0,A===!1&&Eu(O)};ar(O,"aoDrawCallback",Lu,"state_save"),v.bStateSave?(Ke.bStateSave=!0,jD(O,v,Mt)):Mt()}),c=null,this},Tn,Et,st,nn,vy={},A1=/[\r\n\u2028]/g,tm=/<.*?>/g,GK=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,KK=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),Ey=/['\u00A0,$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,Xs=function(a){return!a||a===!0||a==="-"},dD=function(a){var i=parseInt(a,10);return!isNaN(i)&&isFinite(a)?i:null},hD=function(a,i){return vy[i]||(vy[i]=new RegExp(Gy(i),"g")),typeof a=="string"&&i!=="."?a.replace(/\./g,"").replace(vy[i],"."):a},_y=function(a,i,c){let u=typeof a;var h=u==="string";return u==="number"||u==="bigint"||Xs(a)?!0:(i&&h&&(a=hD(a,i)),c&&h&&(a=a.replace(Ey,"")),!isNaN(parseFloat(a))&&isFinite(a))},XK=function(a){return Xs(a)||typeof a=="string"},D1=function(a,i,c){if(Xs(a))return!0;var u=XK(a);return u&&_y(YK(a),i,c)?!0:null},Fr=function(a,i,c){var u=[],h=0,m=a.length;if(c!==void 0)for(;h<m;h++)a[h]&&a[h][i]&&u.push(a[h][i][c]);else for(;h<m;h++)a[h]&&u.push(a[h][i]);return u},Ru=function(a,i,c,u){var h=[],m=0,p=i.length;if(u!==void 0)for(;m<p;m++)a[i[m]][c]&&h.push(a[i[m]][c][u]);else for(;m<p;m++)h.push(a[i[m]][c]);return h},Al=function(a,i){var c=[],u;i===void 0?(i=0,u=a):(u=i,i=a);for(var h=i;h<u;h++)c.push(h);return c},mD=function(a){for(var i=[],c=0,u=a.length;c<u;c++)a[c]&&i.push(a[c]);return i},YK=function(a){return a.replace(tm,"")},JK=function(a){if(a.length<2)return!0;for(var i=a.slice().sort(),c=i[0],u=1,h=i.length;u<h;u++){if(i[u]===c)return!1;c=i[u]}return!0},bm=function(a){if(JK(a))return a.slice();var i=[],c,u,h=a.length,m,p=0;e:for(u=0;u<h;u++){for(c=a[u],m=0;m<p;m++)if(i[m]===c)continue e;i.push(c),p++}return i},pD=function(a,i){if(Array.isArray(i))for(var c=0;c<i.length;c++)pD(a,i[c]);else a.push(i);return a},gD=function(a,i){return i===void 0&&(i=0),this.indexOf(a,i)!==-1};Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"});Array.prototype.includes||(Array.prototype.includes=gD);String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});String.prototype.includes||(String.prototype.includes=gD);_e.util={throttle:function(a,i){var c=i!==void 0?i:200,u,h;return function(){var m=this,p=+new Date,v=arguments;u&&p<u+c?(clearTimeout(h),h=setTimeout(function(){u=void 0,a.apply(m,v)},c)):(u=p,a.apply(m,v))}},escapeRegex:function(a){return a.replace(KK,"\\$1")},set:function(a){if(W.isPlainObject(a))return _e.util.set(a._);if(a===null)return function(){};if(typeof a=="function")return function(c,u,h){a(c,"set",u,h)};if(typeof a=="string"&&(a.indexOf(".")!==-1||a.indexOf("[")!==-1||a.indexOf("(")!==-1)){var i=function(c,u,h){for(var m=Ty(h),p,v=m[m.length-1],y,S,T,A,I=0,F=m.length-1;I<F;I++){if(m[I]==="__proto__"||m[I]==="constructor")throw new Error("Cannot set prototype values");if(y=m[I].match(Cu),S=m[I].match(Tl),y){if(m[I]=m[I].replace(Cu,""),c[m[I]]=[],p=m.slice(),p.splice(0,I+1),A=p.join("."),Array.isArray(u))for(var M=0,Q=u.length;M<Q;M++)T={},i(T,u[M],A),c[m[I]].push(T);else c[m[I]]=u;return}else S&&(m[I]=m[I].replace(Tl,""),c=c[m[I]](u));(c[m[I]]===null||c[m[I]]===void 0)&&(c[m[I]]={}),c=c[m[I]]}v.match(Tl)?c=c[v.replace(Tl,"")](u):c[v.replace(Cu,"")]=u};return function(c,u){return i(c,u,a)}}else return function(c,u){c[a]=u}},get:function(a){if(W.isPlainObject(a)){var i={};return W.each(a,function(u,h){h&&(i[u]=_e.util.get(h))}),function(u,h,m,p){var v=i[h]||i._;return v!==void 0?v(u,h,m,p):u}}else{if(a===null)return function(u){return u};if(typeof a=="function")return function(u,h,m,p){return a(u,h,m,p)};if(typeof a=="string"&&(a.indexOf(".")!==-1||a.indexOf("[")!==-1||a.indexOf("(")!==-1)){var c=function(u,h,m){var p,v,y,S;if(m!=="")for(var T=Ty(m),A=0,I=T.length;A<I;A++){if(p=T[A].match(Cu),v=T[A].match(Tl),p){if(T[A]=T[A].replace(Cu,""),T[A]!==""&&(u=u[T[A]]),y=[],T.splice(0,A+1),S=T.join("."),Array.isArray(u))for(var F=0,M=u.length;F<M;F++)y.push(c(u[F],h,S));var Q=p[0].substring(1,p[0].length-1);u=Q===""?y:y.join(Q);break}else if(v){T[A]=T[A].replace(Tl,""),u=u[T[A]]();continue}if(u===null||u[T[A]]===void 0)return;u=u[T[A]]}return u};return function(u,h){return c(u,h,a)}}else return function(u,h){return u[a]}}}};function Nu(a){var i="a aa ai ao as b fn i m o s ",c,u,h={};W.each(a,function(m,p){c=m.match(/^([^A-Z]+?)([A-Z])/),c&&i.indexOf(c[1]+" ")!==-1&&(u=m.replace(c[0],c[2].toLowerCase()),h[u]=m,c[1]==="o"&&Nu(a[m]))}),a._hungarianMap=h}function Eo(a,i,c){a._hungarianMap||Nu(a);var u;W.each(i,function(h,m){u=a._hungarianMap[h],u!==void 0&&(c||i[u]===void 0)&&(u.charAt(0)==="o"?(i[u]||(i[u]={}),W.extend(!0,i[u],i[h]),Eo(a[u],i[u],c)):i[u]=i[h])})}function xy(a){var i=_e.defaults.oLanguage,c=i.sDecimal;if(c&&Ny(c),a){var u=a.sZeroRecords;!a.sEmptyTable&&u&&i.sEmptyTable==="No data available in table"&&vs(a,a,"sZeroRecords","sEmptyTable"),!a.sLoadingRecords&&u&&i.sLoadingRecords==="Loading..."&&vs(a,a,"sZeroRecords","sLoadingRecords"),a.sInfoThousands&&(a.sThousands=a.sInfoThousands);var h=a.sDecimal;h&&c!==h&&Ny(h)}}var pr=function(a,i,c){a[i]!==void 0&&(a[c]=a[i])};function R1(a){pr(a,"ordering","bSort"),pr(a,"orderMulti","bSortMulti"),pr(a,"orderClasses","bSortClasses"),pr(a,"orderCellsTop","bSortCellsTop"),pr(a,"order","aaSorting"),pr(a,"orderFixed","aaSortingFixed"),pr(a,"paging","bPaginate"),pr(a,"pagingType","sPaginationType"),pr(a,"pageLength","iDisplayLength"),pr(a,"searching","bFilter"),typeof a.sScrollX=="boolean"&&(a.sScrollX=a.sScrollX?"100%":""),typeof a.scrollX=="boolean"&&(a.scrollX=a.scrollX?"100%":"");var i=a.aoSearchCols;if(i)for(var c=0,u=i.length;c<u;c++)i[c]&&Eo(_e.models.oSearch,i[c])}function vD(a){pr(a,"orderable","bSortable"),pr(a,"orderData","aDataSort"),pr(a,"orderSequence","asSorting"),pr(a,"orderDataType","sortDataType");var i=a.aDataSort;typeof i=="number"&&!Array.isArray(i)&&(a.aDataSort=[i])}function bD(a){if(!_e.__browser){var i={};_e.__browser=i;var c=W("<div/>").css({position:"fixed",top:0,left:W(window).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append(W("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(W("<div/>").css({width:"100%",height:10}))).appendTo("body"),u=c.children(),h=u.children();i.barWidth=u[0].offsetWidth-u[0].clientWidth,i.bScrollOversize=h[0].offsetWidth===100&&u[0].clientWidth!==100,i.bScrollbarLeft=Math.round(h.offset().left)!==1,i.bBounding=!!c[0].getBoundingClientRect().width,c.remove()}W.extend(a.oBrowser,_e.__browser),a.oScroll.iBarWidth=_e.__browser.barWidth}function N1(a,i,c,u,h,m){var p=u,v,y=!1;for(c!==void 0&&(v=c,y=!0);p!==h;)a.hasOwnProperty(p)&&(v=y?i(v,a[p],p,a):a[p],y=!0,p+=m);return v}function Uy(a,i){var c=_e.defaults.column,u=a.aoColumns.length,h=W.extend({},_e.models.oColumn,c,{nTh:i||document.createElement("th"),sTitle:c.sTitle?c.sTitle:i?i.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[u],mData:c.mData?c.mData:u,idx:u});a.aoColumns.push(h);var m=a.aoPreSearchCols;m[u]=W.extend({},_e.models.oSearch,m[u]),nm(a,u,W(i).data())}function nm(a,i,c){var u=a.aoColumns[i],h=a.oClasses,m=W(u.nTh);if(!u.sWidthOrig){u.sWidthOrig=m.attr("width")||null;var p=(m.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);p&&(u.sWidthOrig=p[1])}if(c!=null){vD(c),Eo(_e.defaults.column,c,!0),c.mDataProp!==void 0&&!c.mData&&(c.mData=c.mDataProp),c.sType&&(u._sManualType=c.sType),c.className&&!c.sClass&&(c.sClass=c.className),c.sClass&&m.addClass(c.sClass);var v=u.sClass;W.extend(u,c),vs(u,c,"sWidth","sWidthOrig"),v!==u.sClass&&(u.sClass=v+" "+u.sClass),c.iDataSort!==void 0&&(u.aDataSort=[c.iDataSort]),vs(u,c,"aDataSort")}var y=u.mData,S=Nl(y),T=u.mRender?Nl(u.mRender):null,A=function(M){return typeof M=="string"&&M.indexOf("@")!==-1};u._bAttrSrc=W.isPlainObject(y)&&(A(y.sort)||A(y.type)||A(y.filter)),u._setter=null,u.fnGetData=function(M,Q,X){var z=S(M,Q,void 0,X);return T&&Q?T(z,Q,M,X):z},u.fnSetData=function(M,Q,X){return da(y)(M,Q,X)},typeof y!="number"&&!u._isArrayHost&&(a._rowReadObject=!0),a.oFeatures.bSort||(u.bSortable=!1,m.addClass(h.sSortableNone));var I=W.inArray("asc",u.asSorting)!==-1,F=W.inArray("desc",u.asSorting)!==-1;!u.bSortable||!I&&!F?(u.sSortingClass=h.sSortableNone,u.sSortingClassJUI=""):I&&!F?(u.sSortingClass=h.sSortableAsc,u.sSortingClassJUI=h.sSortJUIAscAllowed):!I&&F?(u.sSortingClass=h.sSortableDesc,u.sSortingClassJUI=h.sSortJUIDescAllowed):(u.sSortingClass=h.sSortable,u.sSortingClassJUI=h.sSortJUI)}function Ou(a){if(a.oFeatures.bAutoWidth!==!1){var i=a.aoColumns;Xy(a);for(var c=0,u=i.length;c<u;c++)i[c].nTh.style.width=i[c].sWidth}var h=a.oScroll;(h.sY!==""||h.sX!=="")&&xm(a),Lt(a,null,"column-sizing",[a])}function Pu(a,i){var c=ym(a,"bVisible");return typeof c[i]=="number"?c[i]:null}function $u(a,i){var c=ym(a,"bVisible"),u=W.inArray(i,c);return u!==-1?u:null}function Pl(a){var i=0;return W.each(a.aoColumns,function(c,u){u.bVisible&&W(u.nTh).css("display")!=="none"&&i++}),i}function ym(a,i){var c=[];return W.map(a.aoColumns,function(u,h){u[i]&&c.push(h)}),c}function Wy(a){var i=a.aoColumns,c=a.aoData,u=_e.ext.type.detect,h,m,p,v,y,S,T,A,I;for(h=0,m=i.length;h<m;h++)if(T=i[h],I=[],!T.sType&&T._sManualType)T.sType=T._sManualType;else if(!T.sType){for(p=0,v=u.length;p<v;p++){for(y=0,S=c.length;y<S&&(I[y]===void 0&&(I[y]=gr(a,y,h,"type")),A=u[p](I[y],a),!(!A&&p!==u.length-1||A==="html"&&!Xs(I[y])));y++);if(A){T.sType=A;break}}T.sType||(T.sType="string")}}function yD(a,i,c,u){var h,m,p,v,y,S,T,A=a.aoColumns;if(i)for(h=i.length-1;h>=0;h--){T=i[h];var I=T.target!==void 0?T.target:T.targets!==void 0?T.targets:T.aTargets;for(Array.isArray(I)||(I=[I]),p=0,v=I.length;p<v;p++)if(typeof I[p]=="number"&&I[p]>=0){for(;A.length<=I[p];)Uy(a);u(I[p],T)}else if(typeof I[p]=="number"&&I[p]<0)u(A.length+I[p],T);else if(typeof I[p]=="string")for(y=0,S=A.length;y<S;y++)(I[p]=="_all"||W(A[y].nTh).hasClass(I[p]))&&u(y,T)}if(c)for(h=0,m=c.length;h<m;h++)u(h,c[h])}function ma(a,i,c,u){var h=a.aoData.length,m=W.extend(!0,{},_e.models.oRow,{src:c?"dom":"data",idx:h});m._aData=i,a.aoData.push(m);for(var p=a.aoColumns,v=0,y=p.length;v<y;v++)p[v].sType=null;a.aiDisplayMaster.push(h);var S=a.rowIdFn(i);return S!==void 0&&(a.aIds[S]=m),(c||!a.oFeatures.bDeferRender)&&jy(a,h,c,u),h}function Cm(a,i){var c;return i instanceof W||(i=W(i)),i.map(function(u,h){return c=Hy(a,h),ma(a,c.data,h,c.cells)})}function QK(a,i){return i._DT_RowIndex!==void 0?i._DT_RowIndex:null}function ZK(a,i,c){return W.inArray(c,a.aoData[i].anCells)}function gr(a,i,c,u){u==="search"?u="filter":u==="order"&&(u="sort");var h=a.iDraw,m=a.aoColumns[c],p=a.aoData[i]._aData,v=m.sDefaultContent,y=m.fnGetData(p,u,{settings:a,row:i,col:c});if(y===void 0)return a.iDrawError!=h&&v===null&&(Kr(a,0,"Requested unknown parameter "+(typeof m.mData=="function"?"{function}":"'"+m.mData+"'")+" for row "+i+", column "+c,4),a.iDrawError=h),v;if((y===p||y===null)&&v!==null&&u!==void 0)y=v;else if(typeof y=="function")return y.call(p);if(y===null&&u==="display")return"";if(u==="filter"){var S=_e.ext.type.search;S[m.sType]&&(y=S[m.sType](y))}return y}function CD(a,i,c,u){var h=a.aoColumns[c],m=a.aoData[i]._aData;h.fnSetData(m,u,{settings:a,row:i,col:c})}var Cu=/\[.*?\]$/,Tl=/\(\)$/;function Ty(a){return W.map(a.match(/(\\.|[^\.])+/g)||[""],function(i){return i.replace(/\\\./g,".")})}var Nl=_e.util.get,da=_e.util.set;function ky(a){return Fr(a.aoData,"_aData")}function wm(a){a.aoData.length=0,a.aiDisplayMaster.length=0,a.aiDisplay.length=0,a.aIds={}}function Jh(a,i,c){for(var u=-1,h=0,m=a.length;h<m;h++)a[h]==i?u=h:a[h]>i&&a[h]--;u!=-1&&c===void 0&&a.splice(u,1)}function Bu(a,i,c,u){var h=a.aoData[i],m,p,v=function(T,A){for(;T.childNodes.length;)T.removeChild(T.firstChild);T.innerHTML=gr(a,i,A,"display")};if(c==="dom"||(!c||c==="auto")&&h.src==="dom")h._aData=Hy(a,h,u,u===void 0?void 0:h._aData).data;else{var y=h.anCells;if(y)if(u!==void 0)v(y[u],u);else for(m=0,p=y.length;m<p;m++)v(y[m],m)}h._aSortData=null,h._aFilterData=null;var S=a.aoColumns;if(u!==void 0)S[u].sType=null;else{for(m=0,p=S.length;m<p;m++)S[m].sType=null;Vy(a,h)}}function Hy(a,i,c,u){var h=[],m=i.firstChild,p,v,y=0,S,T=a.aoColumns,A=a._rowReadObject;u=u!==void 0?u:A?{}:[];var I=function(O,V){if(typeof O=="string"){var be=O.indexOf("@");if(be!==-1){var Me=O.substring(be+1),$e=da(O);$e(u,V.getAttribute(Me))}}},F=function(O){if(c===void 0||c===y)if(v=T[y],S=O.innerHTML.trim(),v&&v._bAttrSrc){var V=da(v.mData._);V(u,S),I(v.mData.sort,O),I(v.mData.type,O),I(v.mData.filter,O)}else A?(v._setter||(v._setter=da(v.mData)),v._setter(u,S)):u[y]=S;y++};if(m)for(;m;)p=m.nodeName.toUpperCase(),(p=="TD"||p=="TH")&&(F(m),h.push(m)),m=m.nextSibling;else{h=i.anCells;for(var M=0,Q=h.length;M<Q;M++)F(h[M])}var X=i.firstChild?i:i.nTr;if(X){var z=X.getAttribute("id");z&&da(a.rowId)(u,z)}return{data:u,cells:h}}function jy(a,i,c,u){var h=a.aoData[i],m=h._aData,p=[],v,y,S,T,A,I;if(h.nTr===null){for(v=c||document.createElement("tr"),h.nTr=v,h.anCells=p,v._DT_RowIndex=i,Vy(a,h),T=0,A=a.aoColumns.length;T<A;T++)S=a.aoColumns[T],I=!c,y=I?document.createElement(S.sCellType):u[T],y||Kr(a,0,"Incorrect column count",18),y._DT_CellIndex={row:i,column:T},p.push(y),(I||(S.mRender||S.mData!==T)&&(!W.isPlainObject(S.mData)||S.mData._!==T+".display"))&&(y.innerHTML=gr(a,i,T,"display")),S.sClass&&(y.className+=" "+S.sClass),S.bVisible&&!c?v.appendChild(y):!S.bVisible&&c&&y.parentNode.removeChild(y),S.fnCreatedCell&&S.fnCreatedCell.call(a.oInstance,y,gr(a,i,T),m,i,T);Lt(a,"aoRowCreatedCallback",null,[v,m,i,p])}}function Vy(a,i){var c=i.nTr,u=i._aData;if(c){var h=a.rowIdFn(u);if(h&&(c.id=h),u.DT_RowClass){var m=u.DT_RowClass.split(" ");i.__rowc=i.__rowc?bm(i.__rowc.concat(m)):m,W(c).removeClass(i.__rowc.join(" ")).addClass(u.DT_RowClass)}u.DT_RowAttr&&W(c).attr(u.DT_RowAttr),u.DT_RowData&&W(c).data(u.DT_RowData)}}function wD(a){var i,c,u,h,m,p=a.nTHead,v=a.nTFoot,y=W("th, td",p).length===0,S=a.oClasses,T=a.aoColumns;for(y&&(h=W("<tr/>").appendTo(p)),i=0,c=T.length;i<c;i++)m=T[i],u=W(m.nTh).addClass(m.sClass),y&&u.appendTo(h),a.oFeatures.bSort&&(u.addClass(m.sSortingClass),m.bSortable!==!1&&(u.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),Jy(a,m.nTh,i))),m.sTitle!=u[0].innerHTML&&u.html(m.sTitle),eC(a,"header")(a,u,m,S);if(y&&Tu(a.aoHeader,p),W(p).children("tr").children("th, td").addClass(S.sHeaderTH),W(v).children("tr").children("th, td").addClass(S.sFooterTH),v!==null){var A=a.aoFooter[0];for(i=0,c=A.length;i<c;i++)m=T[i],m?(m.nTf=A[i].cell,m.sClass&&W(m.nTf).addClass(m.sClass)):Kr(a,0,"Incorrect column count",18)}}function xu(a,i,c){var u,h,m,p,v,y,S,T=[],A=[],I=a.aoColumns.length,F,M;if(i){for(c===void 0&&(c=!1),u=0,h=i.length;u<h;u++){for(T[u]=i[u].slice(),T[u].nTr=i[u].nTr,m=I-1;m>=0;m--)!a.aoColumns[m].bVisible&&!c&&T[u].splice(m,1);A.push([])}for(u=0,h=T.length;u<h;u++){if(S=T[u].nTr,S)for(;y=S.firstChild;)S.removeChild(y);for(m=0,p=T[u].length;m<p;m++)if(F=1,M=1,A[u][m]===void 0){for(S.appendChild(T[u][m].cell),A[u][m]=1;T[u+F]!==void 0&&T[u][m].cell==T[u+F][m].cell;)A[u+F][m]=1,F++;for(;T[u][m+M]!==void 0&&T[u][m].cell==T[u][m+M].cell;){for(v=0;v<F;v++)A[u+v][m+M]=1;M++}W(T[u][m].cell).attr("rowspan",F).attr("colspan",M)}}}}function pa(a,i){eX(a);var c=Lt(a,"aoPreDrawCallback","preDraw",[a]);if(W.inArray(!1,c)!==-1){Br(a,!1);return}var u=[],h=0,m=a.asStripeClasses,p=m.length,v=a.oLanguage,y=Yn(a)=="ssp",S=a.aiDisplay,T=a._iDisplayStart,A=a.fnDisplayEnd();if(a.bDrawing=!0,a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++,Br(a,!1);else if(!y)a.iDraw++;else if(!a.bDestroying&&!i){ED(a);return}if(S.length!==0)for(var I=y?0:T,F=y?a.aoData.length:A,M=I;M<F;M++){var Q=S[M],X=a.aoData[Q];X.nTr===null&&jy(a,Q);var z=X.nTr;if(p!==0){var O=m[h%p];X._sRowStripe!=O&&(W(z).removeClass(X._sRowStripe).addClass(O),X._sRowStripe=O)}Lt(a,"aoRowCallback",null,[z,X._aData,h,M,Q]),u.push(z),h++}else{var V=v.sZeroRecords;a.iDraw==1&&Yn(a)=="ajax"?V=v.sLoadingRecords:v.sEmptyTable&&a.fnRecordsTotal()===0&&(V=v.sEmptyTable),u[0]=W("<tr/>",{class:p?m[0]:""}).append(W("<td />",{valign:"top",colSpan:Pl(a),class:a.oClasses.sRowEmpty}).html(V))[0]}Lt(a,"aoHeaderCallback","header",[W(a.nTHead).children("tr")[0],ky(a),T,A,S]),Lt(a,"aoFooterCallback","footer",[W(a.nTFoot).children("tr")[0],ky(a),T,A,S]);var be=W(a.nTBody);be.children().detach(),be.append(W(u)),Lt(a,"aoDrawCallback","draw",[a]),a.bSorted=!1,a.bFiltered=!1,a.bDrawing=!1}function yi(a,i){var c=a.oFeatures,u=c.bSort,h=c.bFilter;u&&UD(a),h?Iu(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice(),i!==!0&&(a._iDisplayStart=0),a._drawHold=i,pa(a),a._drawHold=!1}function SD(a){var i=a.oClasses,c=W(a.nTable),u=W("<div/>").insertBefore(c),h=a.oFeatures,m=W("<div/>",{id:a.sTableId+"_wrapper",class:i.sWrapper+(a.nTFoot?"":" "+i.sNoFooter)});a.nHolding=u[0],a.nTableWrapper=m[0],a.nTableReinsertBefore=a.nTable.nextSibling;for(var p=a.sDom.split(""),v,y,S,T,A,I,F=0;F<p.length;F++){if(v=null,y=p[F],y=="<"){if(S=W("<div/>")[0],T=p[F+1],T=="'"||T=='"'){for(A="",I=2;p[F+I]!=T;)A+=p[F+I],I++;if(A=="H"?A=i.sJUIHeader:A=="F"&&(A=i.sJUIFooter),A.indexOf(".")!=-1){var M=A.split(".");S.id=M[0].substr(1,M[0].length-1),S.className=M[1]}else A.charAt(0)=="#"?S.id=A.substr(1,A.length-1):S.className=A;F+=I}m.append(S),m=W(S)}else if(y==">")m=m.parent();else if(y=="l"&&h.bPaginate&&h.bLengthChange)v=$D(a);else if(y=="f"&&h.bFilter)v=TD(a);else if(y=="r"&&h.bProcessing)v=FD(a);else if(y=="t")v=ID(a);else if(y=="i"&&h.bInfo)v=ND(a);else if(y=="p"&&h.bPaginate)v=BD(a);else if(_e.ext.feature.length!==0){for(var Q=_e.ext.feature,X=0,z=Q.length;X<z;X++)if(y==Q[X].cFeature){v=Q[X].fnInit(a);break}}if(v){var O=a.aanFeatures;O[y]||(O[y]=[]),O[y].push(v),m.append(v)}}u.replaceWith(m),a.nHolding=null}function Tu(a,i){var c=W(i).children("tr"),u,h,m,p,v,y,S,T,A,I,F,M=function(Q,X,z){for(var O=Q[X];O[z];)z++;return z};for(a.splice(0,a.length),m=0,y=c.length;m<y;m++)a.push([]);for(m=0,y=c.length;m<y;m++)for(u=c[m],T=0,h=u.firstChild;h;){if(h.nodeName.toUpperCase()=="TD"||h.nodeName.toUpperCase()=="TH")for(A=h.getAttribute("colspan")*1,I=h.getAttribute("rowspan")*1,A=!A||A===0||A===1?1:A,I=!I||I===0||I===1?1:I,S=M(a,m,T),F=A===1,v=0;v<A;v++)for(p=0;p<I;p++)a[m+p][S+v]={cell:h,unique:F},a[m+p].nTr=u;h=h.nextSibling}}function Sm(a,i,c){var u=[];c||(c=a.aoHeader,i&&(c=[],Tu(c,i)));for(var h=0,m=c.length;h<m;h++)for(var p=0,v=c[h].length;p<v;p++)c[h][p].unique&&(!u[p]||!a.bSortCellsTop)&&(u[p]=c[h][p].cell);return u}function eX(a){var i=Yn(a)=="ssp",c=a.iInitDisplayStart;c!==void 0&&c!==-1&&(a._iDisplayStart=i?c:c>=a.fnRecordsDisplay()?0:c,a.iInitDisplayStart=-1)}function Em(a,i,c){if(Lt(a,"aoServerParams","serverParams",[i]),i&&Array.isArray(i)){var u={},h=/(.*?)\[\]$/;W.each(i,function(A,I){var F=I.name.match(h);if(F){var M=F[0];u[M]||(u[M]=[]),u[M].push(I.value)}else u[I.name]=I.value}),i=u}var m,p=a.ajax,v=a.oInstance,y=function(A){var I=a.jqXHR?a.jqXHR.status:null;(A===null||typeof I=="number"&&I==204)&&(A={},Fu(a,A,[]));var F=A.error||A.sError;F&&Kr(a,0,F),a.json=A,Lt(a,null,"xhr",[a,A,a.jqXHR]),c(A)};if(W.isPlainObject(p)&&p.data){m=p.data;var S=typeof m=="function"?m(i,a):m;i=typeof m=="function"&&S?S:W.extend(!0,i,S),delete p.data}var T={data:i,success:y,dataType:"json",cache:!1,type:a.sServerMethod,error:function(A,I,F){var M=Lt(a,null,"xhr",[a,null,a.jqXHR]);W.inArray(!0,M)===-1&&(I=="parsererror"?Kr(a,0,"Invalid JSON response",1):A.readyState===4&&Kr(a,0,"Ajax error",7)),Br(a,!1)}};a.oAjaxData=i,Lt(a,null,"preXhr",[a,i]),a.fnServerData?a.fnServerData.call(v,a.sAjaxSource,W.map(i,function(A,I){return{name:I,value:A}}),y,a):a.sAjaxSource||typeof p=="string"?a.jqXHR=W.ajax(W.extend(T,{url:p||a.sAjaxSource})):typeof p=="function"?a.jqXHR=p.call(v,i,y,a):(a.jqXHR=W.ajax(W.extend(T,p)),p.data=m)}function ED(a){a.iDraw++,Br(a,!0),Em(a,_D(a),function(i){xD(a,i)})}function _D(a){var i=a.aoColumns,c=i.length,u=a.oFeatures,h=a.oPreviousSearch,m=a.aoPreSearchCols,p,v=[],y,S,T,A=$l(a),I=a._iDisplayStart,F=u.bPaginate!==!1?a._iDisplayLength:-1,M=function(z,O){v.push({name:z,value:O})};M("sEcho",a.iDraw),M("iColumns",c),M("sColumns",Fr(i,"sName").join(",")),M("iDisplayStart",I),M("iDisplayLength",F);var Q={draw:a.iDraw,columns:[],order:[],start:I,length:F,search:{value:h.sSearch,regex:h.bRegex}};for(p=0;p<c;p++)S=i[p],T=m[p],y=typeof S.mData=="function"?"function":S.mData,Q.columns.push({data:y,name:S.sName,searchable:S.bSearchable,orderable:S.bSortable,search:{value:T.sSearch,regex:T.bRegex}}),M("mDataProp_"+p,y),u.bFilter&&(M("sSearch_"+p,T.sSearch),M("bRegex_"+p,T.bRegex),M("bSearchable_"+p,S.bSearchable)),u.bSort&&M("bSortable_"+p,S.bSortable);u.bFilter&&(M("sSearch",h.sSearch),M("bRegex",h.bRegex)),u.bSort&&(W.each(A,function(z,O){Q.order.push({column:O.col,dir:O.dir}),M("iSortCol_"+z,O.col),M("sSortDir_"+z,O.dir)}),M("iSortingCols",A.length));var X=_e.ext.legacy.ajax;return X===null?a.sAjaxSource?v:Q:X?v:Q}function xD(a,i){var c=function(S,T){return i[S]!==void 0?i[S]:i[T]},u=Fu(a,i),h=c("sEcho","draw"),m=c("iTotalRecords","recordsTotal"),p=c("iTotalDisplayRecords","recordsFiltered");if(h!==void 0){if(h*1<a.iDraw)return;a.iDraw=h*1}u||(u=[]),wm(a),a._iRecordsTotal=parseInt(m,10),a._iRecordsDisplay=parseInt(p,10);for(var v=0,y=u.length;v<y;v++)ma(a,u[v]);a.aiDisplay=a.aiDisplayMaster.slice(),pa(a,!0),a._bInitComplete||rm(a,i),Br(a,!1)}function Fu(a,i,c){var u=W.isPlainObject(a.ajax)&&a.ajax.dataSrc!==void 0?a.ajax.dataSrc:a.sAjaxDataProp;if(!c)return u==="data"?i.aaData||i[u]:u!==""?Nl(u)(i):i;da(u)(i,c)}function TD(a){var i=a.oClasses,c=a.sTableId,u=a.oLanguage,h=a.oPreviousSearch,m=a.aanFeatures,p='<input type="search" class="'+i.sFilterInput+'"/>',v=u.sSearch;v=v.match(/_INPUT_/)?v.replace("_INPUT_",p):v+p;var y=W("<div/>",{id:m.f?null:c+"_filter",class:i.sFilter}).append(W("<label/>").append(v)),S=function(I){m.f;var F=this.value?this.value:"";h.return&&I.key!=="Enter"||F!=h.sSearch&&(Iu(a,{sSearch:F,bRegex:h.bRegex,bSmart:h.bSmart,bCaseInsensitive:h.bCaseInsensitive,return:h.return}),a._iDisplayStart=0,pa(a))},T=a.searchDelay!==null?a.searchDelay:Yn(a)==="ssp"?400:0,A=W("input",y).val(h.sSearch).attr("placeholder",u.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",T?Yy(S,T):S).on("mouseup",function(I){setTimeout(function(){S.call(A[0],I)},10)}).on("keypress.DT",function(I){if(I.keyCode==13)return!1}).attr("aria-controls",c);return W(a.nTable).on("search.dt.DT",function(I,F){if(a===F)try{A[0]!==document.activeElement&&A.val(h.sSearch)}catch{}}),y[0]}function Iu(a,i,c){var u=a.oPreviousSearch,h=a.aoPreSearchCols,m=function(y){u.sSearch=y.sSearch,u.bRegex=y.bRegex,u.bSmart=y.bSmart,u.bCaseInsensitive=y.bCaseInsensitive,u.return=y.return},p=function(y){return y.bEscapeRegex!==void 0?!y.bEscapeRegex:y.bRegex};if(Wy(a),Yn(a)!="ssp"){DD(a,i.sSearch,c,p(i),i.bSmart,i.bCaseInsensitive,i.return),m(i);for(var v=0;v<h.length;v++)AD(a,h[v].sSearch,v,p(h[v]),h[v].bSmart,h[v].bCaseInsensitive);kD(a)}else m(i);a.bFiltered=!0,Lt(a,null,"search",[a])}function kD(a){for(var i=_e.ext.search,c=a.aiDisplay,u,h,m=0,p=i.length;m<p;m++){for(var v=[],y=0,S=c.length;y<S;y++)h=c[y],u=a.aoData[h],i[m](a,u._aFilterData,h,u._aData,y)&&v.push(h);c.length=0,W.merge(c,v)}}function AD(a,i,c,u,h,m){if(i!==""){for(var p,v=[],y=a.aiDisplay,S=qy(i,u,h,m),T=0;T<y.length;T++)p=a.aoData[y[T]]._aFilterData[c],S.test(p)&&v.push(y[T]);a.aiDisplay=v}}function DD(a,i,c,u,h,m){var p=qy(i,u,h,m),v=a.oPreviousSearch.sSearch,y=a.aiDisplayMaster,S,T,A,I=[];if(_e.ext.search.length!==0&&(c=!0),T=RD(a),i.length<=0)a.aiDisplay=y.slice();else{for((T||c||u||v.length>i.length||i.indexOf(v)!==0||a.bSorted)&&(a.aiDisplay=y.slice()),S=a.aiDisplay,A=0;A<S.length;A++)p.test(a.aoData[S[A]]._sFilterRow)&&I.push(S[A]);a.aiDisplay=I}}function qy(a,i,c,u){if(a=i?a:Gy(a),c){var h=W.map(a.match(/"[^"]+"|[^ ]+/g)||[""],function(m){if(m.charAt(0)==='"'){var p=m.match(/^"(.*)"$/);m=p?p[1]:m}return m.replace('"',"")});a="^(?=.*?"+h.join(")(?=.*?")+").*$"}return new RegExp(a,u?"i":"")}var Gy=_e.util.escapeRegex,Qh=W("<div>")[0],tX=Qh.textContent!==void 0;function RD(a){var i=a.aoColumns,c,u,h,m,p,v,y,S,T=!1;for(u=0,m=a.aoData.length;u<m;u++)if(S=a.aoData[u],!S._aFilterData){for(v=[],h=0,p=i.length;h<p;h++)c=i[h],c.bSearchable?(y=gr(a,u,h,"filter"),y===null&&(y=""),typeof y!="string"&&y.toString&&(y=y.toString())):y="",y.indexOf&&y.indexOf("&")!==-1&&(Qh.innerHTML=y,y=tX?Qh.textContent:Qh.innerText),y.replace&&(y=y.replace(/[\r\n\u2028]/g,"")),v.push(y);S._aFilterData=v,S._sFilterRow=v.join("  "),T=!0}return T}function O1(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}function P1(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function ND(a){var i=a.sTableId,c=a.aanFeatures.i,u=W("<div/>",{class:a.oClasses.sInfo,id:c?null:i+"_info"});return c||(a.aoDrawCallback.push({fn:OD,sName:"information"}),u.attr("role","status").attr("aria-live","polite"),W(a.nTable).attr("aria-describedby",i+"_info")),u[0]}function OD(a){var i=a.aanFeatures.i;if(i.length!==0){var c=a.oLanguage,u=a._iDisplayStart+1,h=a.fnDisplayEnd(),m=a.fnRecordsTotal(),p=a.fnRecordsDisplay(),v=p?c.sInfo:c.sInfoEmpty;p!==m&&(v+=" "+c.sInfoFiltered),v+=c.sInfoPostFix,v=PD(a,v);var y=c.fnInfoCallback;y!==null&&(v=y.call(a.oInstance,a,u,h,m,p,v)),W(i).html(v)}}function PD(a,i){var c=a.fnFormatNumber,u=a._iDisplayStart+1,h=a._iDisplayLength,m=a.fnRecordsDisplay(),p=h===-1;return i.replace(/_START_/g,c.call(a,u)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,m)).replace(/_PAGE_/g,c.call(a,p?1:Math.ceil(u/h))).replace(/_PAGES_/g,c.call(a,p?1:Math.ceil(m/h)))}function Eu(a){var i,c,u=a.iInitDisplayStart,h=a.aoColumns,m,p=a.oFeatures,v=a.bDeferLoading;if(!a.bInitialised){setTimeout(function(){Eu(a)},200);return}for(SD(a),wD(a),xu(a,a.aoHeader),xu(a,a.aoFooter),Br(a,!0),p.bAutoWidth&&Xy(a),i=0,c=h.length;i<c;i++)m=h[i],m.sWidth&&(m.nTh.style.width=pn(m.sWidth));Lt(a,null,"preInit",[a]),yi(a);var y=Yn(a);(y!="ssp"||v)&&(y=="ajax"?Em(a,[],function(S){var T=Fu(a,S);for(i=0;i<T.length;i++)ma(a,T[i]);a.iInitDisplayStart=u,yi(a),Br(a,!1),rm(a,S)}):(Br(a,!1),rm(a)))}function rm(a,i){a._bInitComplete=!0,(i||a.oInit.aaData)&&Ou(a),Lt(a,null,"plugin-init",[a,i]),Lt(a,"aoInitComplete","init",[a,i])}function Ky(a,i){var c=parseInt(i,10);a._iDisplayLength=c,Zy(a),Lt(a,null,"length",[a,c])}function $D(a){for(var i=a.oClasses,c=a.sTableId,u=a.aLengthMenu,h=Array.isArray(u[0]),m=h?u[0]:u,p=h?u[1]:u,v=W("<select/>",{name:c+"_length","aria-controls":c,class:i.sLengthSelect}),y=0,S=m.length;y<S;y++)v[0][y]=new Option(typeof p[y]=="number"?a.fnFormatNumber(p[y]):p[y],m[y]);var T=W("<div><label/></div>").addClass(i.sLength);return a.aanFeatures.l||(T[0].id=c+"_length"),T.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",v[0].outerHTML)),W("select",T).val(a._iDisplayLength).on("change.DT",function(A){Ky(a,W(this).val()),pa(a)}),W(a.nTable).on("length.dt.DT",function(A,I,F){a===I&&W("select",T).val(F)}),T[0]}function BD(a){var i=a.sPaginationType,c=_e.ext.pager[i],u=typeof c=="function",h=function(v){pa(v)},m=W("<div/>").addClass(a.oClasses.sPaging+i)[0],p=a.aanFeatures;return u||c.fnInit(a,m,h),p.p||(m.id=a.sTableId+"_paginate",a.aoDrawCallback.push({fn:function(v){if(u){var y=v._iDisplayStart,S=v._iDisplayLength,T=v.fnRecordsDisplay(),A=S===-1,I=A?0:Math.ceil(y/S),F=A?1:Math.ceil(T/S),M=c(I,F),Q,X;for(Q=0,X=p.p.length;Q<X;Q++)eC(v,"pageButton")(v,p.p[Q],Q,M,I,F)}else c.fnUpdate(v,h)},sName:"pagination"})),m}function _m(a,i,c){var u=a._iDisplayStart,h=a._iDisplayLength,m=a.fnRecordsDisplay();m===0||h===-1?u=0:typeof i=="number"?(u=i*h,u>m&&(u=0)):i=="first"?u=0:i=="previous"?(u=h>=0?u-h:0,u<0&&(u=0)):i=="next"?u+h<m&&(u+=h):i=="last"?u=Math.floor((m-1)/h)*h:Kr(a,0,"Unknown paging action: "+i,5);var p=a._iDisplayStart!==u;return a._iDisplayStart=u,p?(Lt(a,null,"page",[a]),c&&pa(a)):Lt(a,null,"page-nc",[a]),p}function FD(a){return W("<div/>",{id:a.aanFeatures.r?null:a.sTableId+"_processing",class:a.oClasses.sProcessing,role:"status"}).html(a.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(a.nTable)[0]}function Br(a,i){a.oFeatures.bProcessing&&W(a.aanFeatures.r).css("display",i?"block":"none"),Lt(a,null,"processing",[a,i])}function ID(a){var i=W(a.nTable),c=a.oScroll;if(c.sX===""&&c.sY==="")return a.nTable;var u=c.sX,h=c.sY,m=a.oClasses,p=i.children("caption"),v=p.length?p[0]._captionSide:null,y=W(i[0].cloneNode(!1)),S=W(i[0].cloneNode(!1)),T=i.children("tfoot"),A="<div/>",I=function(O){return O?pn(O):null};T.length||(T=null);var F=W(A,{class:m.sScrollWrapper}).append(W(A,{class:m.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:u?I(u):"100%"}).append(W(A,{class:m.sScrollHeadInner}).css({"box-sizing":"content-box",width:c.sXInner||"100%"}).append(y.removeAttr("id").css("margin-left",0).append(v==="top"?p:null).append(i.children("thead"))))).append(W(A,{class:m.sScrollBody}).css({position:"relative",overflow:"auto",width:I(u)}).append(i));T&&F.append(W(A,{class:m.sScrollFoot}).css({overflow:"hidden",border:0,width:u?I(u):"100%"}).append(W(A,{class:m.sScrollFootInner}).append(S.removeAttr("id").css("margin-left",0).append(v==="bottom"?p:null).append(i.children("tfoot")))));var M=F.children(),Q=M[0],X=M[1],z=T?M[2]:null;return u&&W(X).on("scroll.DT",function(O){var V=this.scrollLeft;Q.scrollLeft=V,T&&(z.scrollLeft=V)}),W(X).css("max-height",h),c.bCollapse||W(X).css("height",h),a.nScrollHead=Q,a.nScrollBody=X,a.nScrollFoot=z,a.aoDrawCallback.push({fn:xm,sName:"scrolling"}),F[0]}function xm(a){var i=a.oScroll,c=i.sX,u=i.sXInner,h=i.sY,m=i.iBarWidth,p=W(a.nScrollHead),v=p[0].style,y=p.children("div"),S=y[0].style,T=y.children("table"),A=a.nScrollBody,I=W(A),F=A.style,M=W(a.nScrollFoot),Q=M.children("div"),X=Q.children("table"),z=W(a.nTHead),O=W(a.nTable),V=O[0],be=V.style,Me=a.nTFoot?W(a.nTFoot):null,$e=a.oBrowser,tt=$e.bScrollOversize;Fr(a.aoColumns,"nTh");var ut,yt,at,fe,Ke,Mt,ft=[],ze=[],Jt=[],qt=[],ie,zt,zn,xe=function(Ye){var ht=Ye.style;ht.paddingTop="0",ht.paddingBottom="0",ht.borderTopWidth="0",ht.borderBottomWidth="0",ht.height=0},ir=A.scrollHeight>A.clientHeight;if(a.scrollBarVis!==ir&&a.scrollBarVis!==void 0){a.scrollBarVis=ir,Ou(a);return}else a.scrollBarVis=ir;O.children("thead, tfoot").remove(),Me&&(Mt=Me.clone().prependTo(O),yt=Me.find("tr"),fe=Mt.find("tr"),Mt.find("[id]").removeAttr("id")),Ke=z.clone().prependTo(O),ut=z.find("tr"),at=Ke.find("tr"),Ke.find("th, td").removeAttr("tabindex"),Ke.find("[id]").removeAttr("id"),c||(F.width="100%",p[0].style.width="100%"),W.each(Sm(a,Ke),function(Ye,ht){ie=Pu(a,Ye),ht.style.width=a.aoColumns[ie].sWidth}),Me&&qs(function(Ye){Ye.style.width=""},fe),zn=O.outerWidth(),c===""?(be.width="100%",tt&&(O.find("tbody").height()>A.offsetHeight||I.css("overflow-y")=="scroll")&&(be.width=pn(O.outerWidth()-m)),zn=O.outerWidth()):u!==""&&(be.width=pn(u),zn=O.outerWidth()),qs(xe,at),qs(function(Ye){var ht=window.getComputedStyle?window.getComputedStyle(Ye).width:pn(W(Ye).width());Jt.push(Ye.innerHTML),ft.push(ht)},at),qs(function(Ye,ht){Ye.style.width=ft[ht]},ut),W(at).css("height",0),Me&&(qs(xe,fe),qs(function(Ye){qt.push(Ye.innerHTML),ze.push(pn(W(Ye).css("width")))},fe),qs(function(Ye,ht){Ye.style.width=ze[ht]},yt),W(fe).height(0)),qs(function(Ye,ht){Ye.innerHTML='<div class="dataTables_sizing">'+Jt[ht]+"</div>",Ye.childNodes[0].style.height="0",Ye.childNodes[0].style.overflow="hidden",Ye.style.width=ft[ht]},at),Me&&qs(function(Ye,ht){Ye.innerHTML='<div class="dataTables_sizing">'+qt[ht]+"</div>",Ye.childNodes[0].style.height="0",Ye.childNodes[0].style.overflow="hidden",Ye.style.width=ze[ht]},fe),Math.round(O.outerWidth())<Math.round(zn)?(zt=A.scrollHeight>A.offsetHeight||I.css("overflow-y")=="scroll"?zn+m:zn,tt&&(A.scrollHeight>A.offsetHeight||I.css("overflow-y")=="scroll")&&(be.width=pn(zt-m)),(c===""||u!=="")&&Kr(a,1,"Possible column misalignment",6)):zt="100%",F.width=pn(zt),v.width=pn(zt),Me&&(a.nScrollFoot.style.width=pn(zt)),h||tt&&(F.height=pn(V.offsetHeight+m));var bs=O.outerWidth();T[0].style.width=pn(bs),S.width=pn(bs);var To=O.height()>A.clientHeight||I.css("overflow-y")=="scroll",ys="padding"+($e.bScrollbarLeft?"Left":"Right");S[ys]=To?m+"px":"0px",Me&&(X[0].style.width=pn(bs),Q[0].style.width=pn(bs),Q[0].style[ys]=To?m+"px":"0px"),O.children("colgroup").insertBefore(O.children("thead")),I.trigger("scroll"),(a.bSorted||a.bFiltered)&&!a._drawHold&&(A.scrollTop=0)}function qs(a,i,c){for(var u=0,h=0,m=i.length,p,v;h<m;){for(p=i[h].firstChild,v=c?c[h].firstChild:null;p;)p.nodeType===1&&(c?a(p,v,u):a(p,u),u++),p=p.nextSibling,v=c?v.nextSibling:null;h++}}var nX=/<.*?>/g;function Xy(a){var i=a.nTable,c=a.aoColumns,u=a.oScroll,h=u.sY,m=u.sX,p=u.sXInner,v=c.length,y=ym(a,"bVisible"),S=W("th",a.nTHead),T=i.getAttribute("width"),A=i.parentNode,I=!1,F,M,Q,X=a.oBrowser,z=X.bScrollOversize,O=i.style.width;for(O&&O.indexOf("%")!==-1&&(T=O),F=0;F<y.length;F++)M=c[y[F]],M.sWidth!==null&&(M.sWidth=LD(M.sWidthOrig,A),I=!0);if(z||!I&&!m&&!h&&v==Pl(a)&&v==S.length)for(F=0;F<v;F++){var V=Pu(a,F);V!==null&&(c[V].sWidth=pn(S.eq(F).width()))}else{var be=W(i).clone().css("visibility","hidden").removeAttr("id");be.find("tbody tr").remove();var Me=W("<tr/>").appendTo(be.find("tbody"));for(be.find("thead, tfoot").remove(),be.append(W(a.nTHead).clone()).append(W(a.nTFoot).clone()),be.find("tfoot th, tfoot td").css("width",""),S=Sm(a,be.find("thead")[0]),F=0;F<y.length;F++)M=c[y[F]],S[F].style.width=M.sWidthOrig!==null&&M.sWidthOrig!==""?pn(M.sWidthOrig):"",M.sWidthOrig&&m&&W(S[F]).append(W("<div/>").css({width:M.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(a.aoData.length)for(F=0;F<y.length;F++)Q=y[F],M=c[Q],W(MD(a,Q)).clone(!1).append(M.sContentPadding).appendTo(Me);W("[name]",be).removeAttr("name");var $e=W("<div/>").css(m||h?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(be).appendTo(A);m&&p?be.width(p):m?(be.css("width","auto"),be.removeAttr("width"),be.width()<A.clientWidth&&T&&be.width(A.clientWidth)):h?be.width(A.clientWidth):T&&be.width(T);var tt=0;for(F=0;F<y.length;F++){var ut=W(S[F]),yt=ut.outerWidth()-ut.width(),at=X.bBounding?Math.ceil(S[F].getBoundingClientRect().width):ut.outerWidth();tt+=at,c[y[F]].sWidth=pn(at-yt)}i.style.width=pn(tt),$e.remove()}if(T&&(i.style.width=pn(T)),(T||m)&&!a._reszEvt){var fe=function(){W(window).on("resize.DT-"+a.sInstance,Yy(function(){Ou(a)}))};z?setTimeout(fe,1e3):fe(),a._reszEvt=!0}}var Yy=_e.util.throttle;function LD(a,i){if(!a)return 0;var c=W("<div/>").css("width",pn(a)).appendTo(i||document.body),u=c[0].offsetWidth;return c.remove(),u}function MD(a,i){var c=zD(a,i);if(c<0)return null;var u=a.aoData[c];return u.nTr?u.anCells[i]:W("<td/>").html(gr(a,c,i,"display"))[0]}function zD(a,i){for(var c,u=-1,h=-1,m=0,p=a.aoData.length;m<p;m++)c=gr(a,m,i,"display")+"",c=c.replace(nX,""),c=c.replace(/&nbsp;/g," "),c.length>u&&(u=c.length,h=m);return h}function pn(a){return a===null?"0px":typeof a=="number"?a<0?"0px":a+"px":a.match(/\d$/)?a+"px":a}function $l(a){var i,c,u,h=[],m=a.aoColumns,p,v,y,S,T=a.aaSortingFixed,A=W.isPlainObject(T),I=[],F=function(M){M.length&&!Array.isArray(M[0])?I.push(M):W.merge(I,M)};for(Array.isArray(T)&&F(T),A&&T.pre&&F(T.pre),F(a.aaSorting),A&&T.post&&F(T.post),i=0;i<I.length;i++)for(S=I[i][0],p=m[S].aDataSort,c=0,u=p.length;c<u;c++)v=p[c],y=m[v].sType||"string",I[i]._idx===void 0&&(I[i]._idx=W.inArray(I[i][1],m[v].asSorting)),h.push({src:S,col:v,dir:I[i][1],index:I[i]._idx,type:y,formatter:_e.ext.type.order[y+"-pre"]});return h}function UD(a){var i,c,u,h=[],m=_e.ext.type.order,p=a.aoData;a.aoColumns;var v=0,y,S=a.aiDisplayMaster,T;for(Wy(a),T=$l(a),i=0,c=T.length;i<c;i++)y=T[i],y.formatter&&v++,HD(a,y.col);if(Yn(a)!="ssp"&&T.length!==0){for(i=0,u=S.length;i<u;i++)h[S[i]]=i;v===T.length?S.sort(function(A,I){var F,M,Q,X,z,O=T.length,V=p[A]._aSortData,be=p[I]._aSortData;for(Q=0;Q<O;Q++)if(z=T[Q],F=V[z.col],M=be[z.col],X=F<M?-1:F>M?1:0,X!==0)return z.dir==="asc"?X:-X;return F=h[A],M=h[I],F<M?-1:F>M?1:0}):S.sort(function(A,I){var F,M,Q,X,z,O,V=T.length,be=p[A]._aSortData,Me=p[I]._aSortData;for(Q=0;Q<V;Q++)if(z=T[Q],F=be[z.col],M=Me[z.col],O=m[z.type+"-"+z.dir]||m["string-"+z.dir],X=O(F,M),X!==0)return X;return F=h[A],M=h[I],F<M?-1:F>M?1:0})}a.bSorted=!0}function WD(a){for(var i,c,u=a.aoColumns,h=$l(a),m=a.oLanguage.oAria,p=0,v=u.length;p<v;p++){var y=u[p],S=y.asSorting,T=y.ariaTitle||y.sTitle.replace(/<.*?>/g,""),A=y.nTh;A.removeAttribute("aria-sort"),y.bSortable?(h.length>0&&h[0].col==p?(A.setAttribute("aria-sort",h[0].dir=="asc"?"ascending":"descending"),c=S[h[0].index+1]||S[0]):c=S[0],i=T+(c==="asc"?m.sSortAscending:m.sSortDescending)):i=T,A.setAttribute("aria-label",i)}}function Ay(a,i,c,u){var h=a.aoColumns[i],m=a.aaSorting,p=h.asSorting,v,y=function(T,A){var I=T._idx;return I===void 0&&(I=W.inArray(T[1],p)),I+1<p.length?I+1:A?null:0};if(typeof m[0]=="number"&&(m=a.aaSorting=[m]),c&&a.oFeatures.bSortMulti){var S=W.inArray(i,Fr(m,"0"));S!==-1?(v=y(m[S],!0),v===null&&m.length===1&&(v=0),v===null?m.splice(S,1):(m[S][1]=p[v],m[S]._idx=v)):(m.push([i,p[0],0]),m[m.length-1]._idx=0)}else m.length&&m[0][0]==i?(v=y(m[0]),m.length=1,m[0][1]=p[v],m[0]._idx=v):(m.length=0,m.push([i,p[0]]),m[0]._idx=0);yi(a),typeof u=="function"&&u(a)}function Jy(a,i,c,u){var h=a.aoColumns[c];Qy(i,{},function(m){h.bSortable!==!1&&(a.oFeatures.bProcessing?(Br(a,!0),setTimeout(function(){Ay(a,c,m.shiftKey,u),Yn(a)!=="ssp"&&Br(a,!1)},0)):Ay(a,c,m.shiftKey,u))})}function sm(a){var i=a.aLastSort,c=a.oClasses.sSortColumn,u=$l(a),h=a.oFeatures,m,p,v;if(h.bSort&&h.bSortClasses){for(m=0,p=i.length;m<p;m++)v=i[m].src,W(Fr(a.aoData,"anCells",v)).removeClass(c+(m<2?m+1:3));for(m=0,p=u.length;m<p;m++)v=u[m].src,W(Fr(a.aoData,"anCells",v)).addClass(c+(m<2?m+1:3))}a.aLastSort=u}function HD(a,i){var c=a.aoColumns[i],u=_e.ext.order[c.sSortDataType],h;u&&(h=u.call(a.oInstance,a,i,$u(a,i)));for(var m,p,v=_e.ext.type.order[c.sType+"-pre"],y=0,S=a.aoData.length;y<S;y++)m=a.aoData[y],m._aSortData||(m._aSortData=[]),(!m._aSortData[i]||u)&&(p=u?h[y]:gr(a,y,i,"sort"),m._aSortData[i]=v?v(p):p)}function Lu(a){if(!a._bLoadingState){var i={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:W.extend(!0,[],a.aaSorting),search:O1(a.oPreviousSearch),columns:W.map(a.aoColumns,function(c,u){return{visible:c.bVisible,search:O1(a.aoPreSearchCols[u])}})};a.oSavedState=i,Lt(a,"aoStateSaveParams","stateSaveParams",[a,i]),a.oFeatures.bStateSave&&!a.bDestroying&&a.fnStateSaveCallback.call(a.oInstance,a,i)}}function jD(a,i,c){if(!a.oFeatures.bStateSave){c();return}var u=function(m){Dy(a,m,c)},h=a.fnStateLoadCallback.call(a.oInstance,a,u);return h!==void 0&&Dy(a,h,c),!0}function Dy(a,i,c){var u,h,m=a.aoColumns;a._bLoadingState=!0;var p=a._bInitComplete?new _e.Api(a):null;if(!i||!i.time){a._bLoadingState=!1,c();return}var v=Lt(a,"aoStateLoadParams","stateLoadParams",[a,i]);if(W.inArray(!1,v)!==-1){a._bLoadingState=!1,c();return}var y=a.iStateDuration;if(y>0&&i.time<+new Date-y*1e3){a._bLoadingState=!1,c();return}if(i.columns&&m.length!==i.columns.length){a._bLoadingState=!1,c();return}if(a.oLoadedState=W.extend(!0,{},i),i.length!==void 0&&(p?p.page.len(i.length):a._iDisplayLength=i.length),i.start!==void 0&&(p===null?(a._iDisplayStart=i.start,a.iInitDisplayStart=i.start):_m(a,i.start/a._iDisplayLength)),i.order!==void 0&&(a.aaSorting=[],W.each(i.order,function(T,A){a.aaSorting.push(A[0]>=m.length?[0,A[1]]:A)})),i.search!==void 0&&W.extend(a.oPreviousSearch,P1(i.search)),i.columns){for(u=0,h=i.columns.length;u<h;u++){var S=i.columns[u];S.visible!==void 0&&(p?p.column(u).visible(S.visible,!1):m[u].bVisible=S.visible),S.search!==void 0&&W.extend(a.aoPreSearchCols[u],P1(S.search))}p&&p.columns.adjust()}a._bLoadingState=!1,Lt(a,"aoStateLoaded","stateLoaded",[a,i]),c()}function om(a){var i=_e.settings,c=W.inArray(a,Fr(i,"nTable"));return c!==-1?i[c]:null}function Kr(a,i,c,u){if(c="DataTables warning: "+(a?"table id="+a.sTableId+" - ":"")+c,u&&(c+=". For more information about this error, please see http://datatables.net/tn/"+u),i)window.console&&console.log&&console.log(c);else{var h=_e.ext,m=h.sErrMode||h.errMode;if(a&&Lt(a,null,"error",[a,u,c]),m=="alert")alert(c);else{if(m=="throw")throw new Error(c);typeof m=="function"&&m(a,u,c)}}}function vs(a,i,c,u){if(Array.isArray(c)){W.each(c,function(h,m){Array.isArray(m)?vs(a,i,m[0],m[1]):vs(a,i,m)});return}u===void 0&&(u=c),i[c]!==void 0&&(a[u]=i[c])}function Ry(a,i,c){var u;for(var h in i)i.hasOwnProperty(h)&&(u=i[h],W.isPlainObject(u)?(W.isPlainObject(a[h])||(a[h]={}),W.extend(!0,a[h],u)):c&&h!=="data"&&h!=="aaData"&&Array.isArray(u)?a[h]=u.slice():a[h]=u);return a}function Qy(a,i,c){W(a).on("click.DT",i,function(u){W(a).trigger("blur"),c(u)}).on("keypress.DT",i,function(u){u.which===13&&(u.preventDefault(),c(u))}).on("selectstart.DT",function(){return!1})}function ar(a,i,c,u){c&&a[i].push({fn:c,sName:u})}function Lt(a,i,c,u){var h=[];if(i&&(h=W.map(a[i].slice().reverse(),function(v,y){return v.fn.apply(a.oInstance,u)})),c!==null){var m=W.Event(c+".dt"),p=W(a.nTable);p.trigger(m,u),p.parents("body").length===0&&W("body").trigger(m,u),h.push(m.result)}return h}function Zy(a){var i=a._iDisplayStart,c=a.fnDisplayEnd(),u=a._iDisplayLength;i>=c&&(i=c-u),i-=i%u,(u===-1||i<0)&&(i=0),a._iDisplayStart=i}function eC(a,i){var c=a.renderer,u=_e.ext.renderer[i];return W.isPlainObject(c)&&c[i]?u[c[i]]||u._:typeof c=="string"&&u[c]||u._}function Yn(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}var VD=[],Bn=Array.prototype,rX=function(a){var i,c,u=_e.settings,h=W.map(u,function(m,p){return m.nTable});if(a){if(a.nTable&&a.oApi)return[a];if(a.nodeName&&a.nodeName.toLowerCase()==="table")return i=W.inArray(a,h),i!==-1?[u[i]]:null;if(a&&typeof a.settings=="function")return a.settings().toArray();typeof a=="string"?c=W(a):a instanceof W&&(c=a)}else return[];if(c)return c.map(function(m){return i=W.inArray(this,h),i!==-1?u[i]:null}).toArray()};Et=function(a,i){if(!(this instanceof Et))return new Et(a,i);var c=[],u=function(p){var v=rX(p);v&&c.push.apply(c,v)};if(Array.isArray(a))for(var h=0,m=a.length;h<m;h++)u(a[h]);else u(a);this.context=bm(c),i&&W.merge(this,i),this.selector={rows:null,cols:null,opts:null},Et.extend(this,this,VD)};_e.Api=Et;W.extend(Et.prototype,{any:function(){return this.count()!==0},concat:Bn.concat,context:[],count:function(){return this.flatten().length},each:function(a){for(var i=0,c=this.length;i<c;i++)a.call(this,this[i],i,this);return this},eq:function(a){var i=this.context;return i.length>a?new Et(i[a],this[a]):null},filter:function(a){var i=[];if(Bn.filter)i=Bn.filter.call(this,a,this);else for(var c=0,u=this.length;c<u;c++)a.call(this,this[c],c,this)&&i.push(this[c]);return new Et(this.context,i)},flatten:function(){var a=[];return new Et(this.context,a.concat.apply(a,this.toArray()))},join:Bn.join,indexOf:Bn.indexOf||function(a,i){for(var c=i||0,u=this.length;c<u;c++)if(this[c]===a)return c;return-1},iterator:function(a,i,c,u){var h=[],m,p,v,y,S,T=this.context,A,I,F,M=this.selector;for(typeof a=="string"&&(u=c,c=i,i=a,a=!1),p=0,v=T.length;p<v;p++){var Q=new Et(T[p]);if(i==="table")m=c.call(Q,T[p],p),m!==void 0&&h.push(m);else if(i==="columns"||i==="rows")m=c.call(Q,T[p],this[p],p),m!==void 0&&h.push(m);else if(i==="column"||i==="column-rows"||i==="row"||i==="cell")for(I=this[p],i==="column-rows"&&(A=Tm(T[p],M.opts)),y=0,S=I.length;y<S;y++)F=I[y],i==="cell"?m=c.call(Q,T[p],F.row,F.column,p,y):m=c.call(Q,T[p],F,p,y,A),m!==void 0&&h.push(m)}if(h.length||u){var X=new Et(T,a?h.concat.apply([],h):h),z=X.selector;return z.rows=M.rows,z.cols=M.cols,z.opts=M.opts,X}return this},lastIndexOf:Bn.lastIndexOf||function(a,i){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var i=[];if(Bn.map)i=Bn.map.call(this,a,this);else for(var c=0,u=this.length;c<u;c++)i.push(a.call(this,this[c],c));return new Et(this.context,i)},pluck:function(a){var i=_e.util.get(a);return this.map(function(c){return i(c)})},pop:Bn.pop,push:Bn.push,reduce:Bn.reduce||function(a,i){return N1(this,a,i,0,this.length,1)},reduceRight:Bn.reduceRight||function(a,i){return N1(this,a,i,this.length-1,-1,-1)},reverse:Bn.reverse,selector:null,shift:Bn.shift,slice:function(){return new Et(this.context,this)},sort:Bn.sort,splice:Bn.splice,toArray:function(){return Bn.slice.call(this)},to$:function(){return W(this)},toJQuery:function(){return W(this)},unique:function(){return new Et(this.context,bm(this))},unshift:Bn.unshift});Et.extend=function(a,i,c){if(!(!c.length||!i||!(i instanceof Et)&&!i.__dt_wrapper)){var u,h,m,p=function(v,y,S){return function(){var T=y.apply(v,arguments);return Et.extend(T,T,S.methodExt),T}};for(u=0,h=c.length;u<h;u++)m=c[u],i[m.name]=m.type==="function"?p(a,m.val,m):m.type==="object"?{}:m.val,i[m.name].__dt_wrapper=!0,Et.extend(a,i[m.name],m.propExt)}};Et.register=st=function(a,i){if(Array.isArray(a)){for(var c=0,u=a.length;c<u;c++)Et.register(a[c],i);return}var h,m,p=a.split("."),v=VD,y,S,T=function(I,F){for(var M=0,Q=I.length;M<Q;M++)if(I[M].name===F)return I[M];return null};for(h=0,m=p.length;h<m;h++){S=p[h].indexOf("()")!==-1,y=S?p[h].replace("()",""):p[h];var A=T(v,y);A||(A={name:y,val:{},methodExt:[],propExt:[],type:"object"},v.push(A)),h===m-1?(A.val=i,A.type=typeof i=="function"?"function":W.isPlainObject(i)?"object":"other"):v=S?A.methodExt:A.propExt}};Et.registerPlural=nn=function(a,i,c){Et.register(a,c),Et.register(i,function(){var u=c.apply(this,arguments);return u===this?this:u instanceof Et?u.length?Array.isArray(u[0])?new Et(u.context,u[0]):u[0]:void 0:u})};var qD=function(a,i){if(Array.isArray(a))return W.map(a,function(u){return qD(u,i)});if(typeof a=="number")return[i[a]];var c=W.map(i,function(u,h){return u.nTable});return W(c).filter(a).map(function(u){var h=W.inArray(this,c);return i[h]}).toArray()};st("tables()",function(a){return a!=null?new Et(qD(a,this.context)):this});st("table()",function(a){var i=this.tables(a),c=i.context;return c.length?new Et(c[0]):i});nn("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)});nn("tables().body()","table().body()",function(){return this.iterator("table",function(a){return a.nTBody},1)});nn("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)});nn("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)});nn("tables().containers()","table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)});st("draw()",function(a){return this.iterator("table",function(i){a==="page"?pa(i):(typeof a=="string"&&(a=a!=="full-hold"),yi(i,a===!1))})});st("page()",function(a){return a===void 0?this.page.info().page:this.iterator("table",function(i){_m(i,a)})});st("page.info()",function(a){if(this.context.length!==0){var i=this.context[0],c=i._iDisplayStart,u=i.oFeatures.bPaginate?i._iDisplayLength:-1,h=i.fnRecordsDisplay(),m=u===-1;return{page:m?0:Math.floor(c/u),pages:m?1:Math.ceil(h/u),start:c,end:i.fnDisplayEnd(),length:u,recordsTotal:i.fnRecordsTotal(),recordsDisplay:h,serverSide:Yn(i)==="ssp"}}});st("page.len()",function(a){return a===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(i){Ky(i,a)})});var GD=function(a,i,c){if(c){var u=new Et(a);u.one("draw",function(){c(u.ajax.json())})}if(Yn(a)=="ssp")yi(a,i);else{Br(a,!0);var h=a.jqXHR;h&&h.readyState!==4&&h.abort(),Em(a,[],function(m){wm(a);for(var p=Fu(a,m),v=0,y=p.length;v<y;v++)ma(a,p[v]);yi(a,i),Br(a,!1)})}};st("ajax.json()",function(){var a=this.context;if(a.length>0)return a[0].json});st("ajax.params()",function(){var a=this.context;if(a.length>0)return a[0].oAjaxData});st("ajax.reload()",function(a,i){return this.iterator("table",function(c){GD(c,i===!1,a)})});st("ajax.url()",function(a){var i=this.context;return a===void 0?i.length===0?void 0:(i=i[0],i.ajax?W.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource):this.iterator("table",function(c){W.isPlainObject(c.ajax)?c.ajax.url=a:c.ajax=a})});st("ajax.url().load()",function(a,i){return this.iterator("table",function(c){GD(c,i===!1,a)})});var tC=function(a,i,c,u,h){var m=[],p,v,y,S,T,A,I=typeof i;for((!i||I==="string"||I==="function"||i.length===void 0)&&(i=[i]),y=0,S=i.length;y<S;y++)for(v=i[y]&&i[y].split&&!i[y].match(/[\[\(:]/)?i[y].split(","):[i[y]],T=0,A=v.length;T<A;T++)p=c(typeof v[T]=="string"?v[T].trim():v[T]),p&&p.length&&(m=m.concat(p));var F=Tn.selector[a];if(F.length)for(y=0,S=F.length;y<S;y++)m=F[y](u,h,m);return bm(m)},nC=function(a){return a||(a={}),a.filter&&a.search===void 0&&(a.search=a.filter),W.extend({search:"none",order:"current",page:"all"},a)},rC=function(a){for(var i=0,c=a.length;i<c;i++)if(a[i].length>0)return a[0]=a[i],a[0].length=1,a.length=1,a.context=[a.context[i]],a;return a.length=0,a},Tm=function(a,i){var c,u,h,m=[],p=a.aiDisplay,v=a.aiDisplayMaster,y=i.search,S=i.order,T=i.page;if(Yn(a)=="ssp")return y==="removed"?[]:Al(0,v.length);if(T=="current")for(c=a._iDisplayStart,u=a.fnDisplayEnd();c<u;c++)m.push(p[c]);else if(S=="current"||S=="applied"){if(y=="none")m=v.slice();else if(y=="applied")m=p.slice();else if(y=="removed"){for(var A={},c=0,u=p.length;c<u;c++)A[p[c]]=null;m=W.map(v,function(I){return A.hasOwnProperty(I)?null:I})}}else if(S=="index"||S=="original")for(c=0,u=a.aoData.length;c<u;c++)y=="none"?m.push(c):(h=W.inArray(c,p),(h===-1&&y=="removed"||h>=0&&y=="applied")&&m.push(c));return m},sX=function(a,i,c){var u,h=function(m){var p=dD(m),v=a.aoData;if(p!==null&&!c)return[p];if(u||(u=Tm(a,c)),p!==null&&W.inArray(p,u)!==-1)return[p];if(m==null||m==="")return u;if(typeof m=="function")return W.map(u,function(F){var M=v[F];return m(F,M._aData,M.nTr)?F:null});if(m.nodeName){var y=m._DT_RowIndex,S=m._DT_CellIndex;if(y!==void 0)return v[y]&&v[y].nTr===m?[y]:[];if(S)return v[S.row]&&v[S.row].nTr===m.parentNode?[S.row]:[];var T=W(m).closest("*[data-dt-row]");return T.length?[T.data("dt-row")]:[]}if(typeof m=="string"&&m.charAt(0)==="#"){var A=a.aIds[m.replace(/^#/,"")];if(A!==void 0)return[A.idx]}var I=mD(Ru(a.aoData,u,"nTr"));return W(I).filter(m).map(function(){return this._DT_RowIndex}).toArray()};return tC("row",i,h,a,c)};st("rows()",function(a,i){a===void 0?a="":W.isPlainObject(a)&&(i=a,a=""),i=nC(i);var c=this.iterator("table",function(u){return sX(u,a,i)},1);return c.selector.rows=a,c.selector.opts=i,c});st("rows().nodes()",function(){return this.iterator("row",function(a,i){return a.aoData[i].nTr||void 0},1)});st("rows().data()",function(){return this.iterator(!0,"rows",function(a,i){return Ru(a.aoData,i,"_aData")},1)});nn("rows().cache()","row().cache()",function(a){return this.iterator("row",function(i,c){var u=i.aoData[c];return a==="search"?u._aFilterData:u._aSortData},1)});nn("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(i,c){Bu(i,c,a)})});nn("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,i){return i},1)});nn("rows().ids()","row().id()",function(a){for(var i=[],c=this.context,u=0,h=c.length;u<h;u++)for(var m=0,p=this[u].length;m<p;m++){var v=c[u].rowIdFn(c[u].aoData[this[u][m]]._aData);i.push((a===!0?"#":"")+v)}return new Et(c,i)});nn("rows().remove()","row().remove()",function(){var a=this;return this.iterator("row",function(i,c,u){var h=i.aoData,m=h[c],p,v,y,S,T,A;for(h.splice(c,1),p=0,v=h.length;p<v;p++)if(T=h[p],A=T.anCells,T.nTr!==null&&(T.nTr._DT_RowIndex=p),A!==null)for(y=0,S=A.length;y<S;y++)A[y]._DT_CellIndex.row=p;Jh(i.aiDisplayMaster,c),Jh(i.aiDisplay,c),Jh(a[u],c,!1),i._iRecordsDisplay>0&&i._iRecordsDisplay--,Zy(i);var I=i.rowIdFn(m._aData);I!==void 0&&delete i.aIds[I]}),this.iterator("table",function(i){for(var c=0,u=i.aoData.length;c<u;c++)i.aoData[c].idx=c}),this});st("rows.add()",function(a){var i=this.iterator("table",function(u){var h,m,p,v=[];for(m=0,p=a.length;m<p;m++)h=a[m],h.nodeName&&h.nodeName.toUpperCase()==="TR"?v.push(Cm(u,h)[0]):v.push(ma(u,h));return v},1),c=this.rows(-1);return c.pop(),W.merge(c,i),c});st("row()",function(a,i){return rC(this.rows(a,i))});st("row().data()",function(a){var i=this.context;if(a===void 0)return i.length&&this.length?i[0].aoData[this[0]]._aData:void 0;var c=i[0].aoData[this[0]];return c._aData=a,Array.isArray(a)&&c.nTr&&c.nTr.id&&da(i[0].rowId)(a,c.nTr.id),Bu(i[0],this[0],"data"),this});st("row().node()",function(){var a=this.context;return a.length&&this.length&&a[0].aoData[this[0]].nTr||null});st("row.add()",function(a){a instanceof W&&a.length&&(a=a[0]);var i=this.iterator("table",function(c){return a.nodeName&&a.nodeName.toUpperCase()==="TR"?Cm(c,a)[0]:ma(c,a)});return this.row(i[0])});W(document).on("plugin-init.dt",function(a,i){var c=new Et(i),u="on-plugin-init",h="stateSaveParams."+u,m="destroy. "+u;c.on(h,function(v,y,S){for(var T=y.rowIdFn,A=y.aoData,I=[],F=0;F<A.length;F++)A[F]._detailsShow&&I.push("#"+T(A[F]._aData));S.childRows=I}),c.on(m,function(){c.off(h+" "+m)});var p=c.state.loaded();p&&p.childRows&&c.rows(W.map(p.childRows,function(v){return v.replace(/:/g,"\\:")})).every(function(){Lt(i,null,"requestChild",[this])})});var oX=function(a,i,c,u){var h=[],m=function(p,v){if(Array.isArray(p)||p instanceof W){for(var y=0,S=p.length;y<S;y++)m(p[y],v);return}if(p.nodeName&&p.nodeName.toLowerCase()==="tr")h.push(p);else{var T=W("<tr><td></td></tr>").addClass(v);W("td",T).addClass(v).html(p)[0].colSpan=Pl(a),h.push(T[0])}};m(c,u),i._details&&i._details.detach(),i._details=W(h),i._detailsShow&&i._details.insertAfter(i.nTr)},KD=_e.util.throttle(function(a){Lu(a[0])},500),sC=function(a,i){var c=a.context;if(c.length){var u=c[0].aoData[i!==void 0?i:a[0]];u&&u._details&&(u._details.remove(),u._detailsShow=void 0,u._details=void 0,W(u.nTr).removeClass("dt-hasChild"),KD(c))}},XD=function(a,i){var c=a.context;if(c.length&&a.length){var u=c[0].aoData[a[0]];u._details&&(u._detailsShow=i,i?(u._details.insertAfter(u.nTr),W(u.nTr).addClass("dt-hasChild")):(u._details.detach(),W(u.nTr).removeClass("dt-hasChild")),Lt(c[0],null,"childRow",[i,a.row(a[0])]),aX(c[0]),KD(c))}},aX=function(a){var i=new Et(a),c=".dt.DT_details",u="draw"+c,h="column-sizing"+c,m="destroy"+c,p=a.aoData;i.off(u+" "+h+" "+m),Fr(p,"_details").length>0&&(i.on(u,function(v,y){a===y&&i.rows({page:"current"}).eq(0).each(function(S){var T=p[S];T._detailsShow&&T._details.insertAfter(T.nTr)})}),i.on(h,function(v,y,S,T){if(a===y)for(var A,I=Pl(y),F=0,M=p.length;F<M;F++)A=p[F],A._details&&A._details.children("td[colspan]").attr("colspan",I)}),i.on(m,function(v,y){if(a===y)for(var S=0,T=p.length;S<T;S++)p[S]._details&&sC(i,S)}))},iX="",Mu=iX+"row().child",km=Mu+"()";st(km,function(a,i){var c=this.context;return a===void 0?c.length&&this.length?c[0].aoData[this[0]]._details:void 0:(a===!0?this.child.show():a===!1?sC(this):c.length&&this.length&&oX(c[0],c[0].aoData[this[0]],a,i),this)});st([Mu+".show()",km+".show()"],function(a){return XD(this,!0),this});st([Mu+".hide()",km+".hide()"],function(){return XD(this,!1),this});st([Mu+".remove()",km+".remove()"],function(){return sC(this),this});st(Mu+".isShown()",function(){var a=this.context;return a.length&&this.length&&a[0].aoData[this[0]]._detailsShow||!1});var lX=/^([^:]+):(name|visIdx|visible)$/,YD=function(a,i,c,u,h){for(var m=[],p=0,v=h.length;p<v;p++)m.push(gr(a,h[p],i));return m},cX=function(a,i,c){var u=a.aoColumns,h=Fr(u,"sName"),m=Fr(u,"nTh"),p=function(v){var y=dD(v);if(v==="")return Al(u.length);if(y!==null)return[y>=0?y:u.length+y];if(typeof v=="function"){var S=Tm(a,c);return W.map(u,function(Q,X){return v(X,YD(a,X,0,0,S),m[X])?X:null})}var T=typeof v=="string"?v.match(lX):"";if(T)switch(T[2]){case"visIdx":case"visible":var A=parseInt(T[1],10);if(A<0){var I=W.map(u,function(Q,X){return Q.bVisible?X:null});return[I[I.length+A]]}return[Pu(a,A)];case"name":return W.map(h,function(Q,X){return Q===T[1]?X:null});default:return[]}if(v.nodeName&&v._DT_CellIndex)return[v._DT_CellIndex.column];var F=W(m).filter(v).map(function(){return W.inArray(this,m)}).toArray();if(F.length||!v.nodeName)return F;var M=W(v).closest("*[data-dt-column]");return M.length?[M.data("dt-column")]:[]};return tC("column",i,p,a,c)},uX=function(a,i,c){var u=a.aoColumns,h=u[i],m=a.aoData,p,v,y,S;if(c===void 0)return h.bVisible;if(h.bVisible!==c){if(c){var T=W.inArray(!0,Fr(u,"bVisible"),i+1);for(v=0,y=m.length;v<y;v++)S=m[v].nTr,p=m[v].anCells,S&&S.insertBefore(p[i],p[T]||null)}else W(Fr(a.aoData,"anCells",i)).detach();h.bVisible=c}};st("columns()",function(a,i){a===void 0?a="":W.isPlainObject(a)&&(i=a,a=""),i=nC(i);var c=this.iterator("table",function(u){return cX(u,a,i)},1);return c.selector.cols=a,c.selector.opts=i,c});nn("columns().header()","column().header()",function(a,i){return this.iterator("column",function(c,u){return c.aoColumns[u].nTh},1)});nn("columns().footer()","column().footer()",function(a,i){return this.iterator("column",function(c,u){return c.aoColumns[u].nTf},1)});nn("columns().data()","column().data()",function(){return this.iterator("column-rows",YD,1)});nn("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,i){return a.aoColumns[i].mData},1)});nn("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(i,c,u,h,m){return Ru(i.aoData,m,a==="search"?"_aFilterData":"_aSortData",c)},1)});nn("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,i,c,u,h){return Ru(a.aoData,h,"anCells",i)},1)});nn("columns().visible()","column().visible()",function(a,i){var c=this,u=this.iterator("column",function(h,m){if(a===void 0)return h.aoColumns[m].bVisible;uX(h,m,a)});return a!==void 0&&this.iterator("table",function(h){xu(h,h.aoHeader),xu(h,h.aoFooter),h.aiDisplay.length||W(h.nTBody).find("td[colspan]").attr("colspan",Pl(h)),Lu(h),c.iterator("column",function(m,p){Lt(m,null,"column-visibility",[m,p,a,i])}),(i===void 0||i)&&c.columns.adjust()}),u});nn("columns().indexes()","column().index()",function(a){return this.iterator("column",function(i,c){return a==="visible"?$u(i,c):c},1)});st("columns.adjust()",function(){return this.iterator("table",function(a){Ou(a)},1)});st("column.index()",function(a,i){if(this.context.length!==0){var c=this.context[0];if(a==="fromVisible"||a==="toData")return Pu(c,i);if(a==="fromData"||a==="toVisible")return $u(c,i)}});st("column()",function(a,i){return rC(this.columns(a,i))});var fX=function(a,i,c){var u=a.aoData,h=Tm(a,c),m=mD(Ru(u,h,"anCells")),p=W(pD([],m)),v,y=a.aoColumns.length,S,T,A,I,F,M,Q=function(X){var z=typeof X=="function";if(X==null||z){for(S=[],T=0,A=h.length;T<A;T++)for(v=h[T],I=0;I<y;I++)F={row:v,column:I},z?(M=u[v],X(F,gr(a,v,I),M.anCells?M.anCells[I]:null)&&S.push(F)):S.push(F);return S}if(W.isPlainObject(X))return X.column!==void 0&&X.row!==void 0&&W.inArray(X.row,h)!==-1?[X]:[];var O=p.filter(X).map(function(V,be){return{row:be._DT_CellIndex.row,column:be._DT_CellIndex.column}}).toArray();return O.length||!X.nodeName?O:(M=W(X).closest("*[data-dt-row]"),M.length?[{row:M.data("dt-row"),column:M.data("dt-column")}]:[])};return tC("cell",i,Q,a,c)};st("cells()",function(a,i,c){if(W.isPlainObject(a)&&(a.row===void 0?(c=a,a=null):(c=i,i=null)),W.isPlainObject(i)&&(c=i,i=null),i==null)return this.iterator("table",function(I){return fX(I,a,nC(c))});var u=c?{page:c.page,order:c.order,search:c.search}:{},h=this.columns(i,u),m=this.rows(a,u),p,v,y,S,T=this.iterator("table",function(I,F){var M=[];for(p=0,v=m[F].length;p<v;p++)for(y=0,S=h[F].length;y<S;y++)M.push({row:m[F][p],column:h[F][y]});return M},1),A=c&&c.selected?this.cells(T,c):T;return W.extend(A.selector,{cols:i,rows:a,opts:c}),A});nn("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,i,c){var u=a.aoData[i];return u&&u.anCells?u.anCells[c]:void 0},1)});st("cells().data()",function(){return this.iterator("cell",function(a,i,c){return gr(a,i,c)},1)});nn("cells().cache()","cell().cache()",function(a){return a=a==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(i,c,u){return i.aoData[c][a][u]},1)});nn("cells().render()","cell().render()",function(a){return this.iterator("cell",function(i,c,u){return gr(i,c,u,a)},1)});nn("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(a,i,c){return{row:i,column:c,columnVisible:$u(a,c)}},1)});nn("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(i,c,u){Bu(i,c,a,u)})});st("cell()",function(a,i,c){return rC(this.cells(a,i,c))});st("cell().data()",function(a){var i=this.context,c=this[0];return a===void 0?i.length&&c.length?gr(i[0],c[0].row,c[0].column):void 0:(CD(i[0],c[0].row,c[0].column,a),Bu(i[0],c[0].row,"data",c[0].column),this)});st("order()",function(a,i){var c=this.context;return a===void 0?c.length!==0?c[0].aaSorting:void 0:(typeof a=="number"?a=[[a,i]]:a.length&&!Array.isArray(a[0])&&(a=Array.prototype.slice.call(arguments)),this.iterator("table",function(u){u.aaSorting=a.slice()}))});st("order.listener()",function(a,i,c){return this.iterator("table",function(u){Jy(u,a,i,c)})});st("order.fixed()",function(a){if(!a){var i=this.context,c=i.length?i[0].aaSortingFixed:void 0;return Array.isArray(c)?{pre:c}:c}return this.iterator("table",function(u){u.aaSortingFixed=W.extend(!0,{},a)})});st(["columns().order()","column().order()"],function(a){var i=this;return this.iterator("table",function(c,u){var h=[];W.each(i[u],function(m,p){h.push([p,a])}),c.aaSorting=h})});st("search()",function(a,i,c,u){var h=this.context;return a===void 0?h.length!==0?h[0].oPreviousSearch.sSearch:void 0:this.iterator("table",function(m){m.oFeatures.bFilter&&Iu(m,W.extend({},m.oPreviousSearch,{sSearch:a+"",bRegex:i===null?!1:i,bSmart:c===null?!0:c,bCaseInsensitive:u===null?!0:u}),1)})});nn("columns().search()","column().search()",function(a,i,c,u){return this.iterator("column",function(h,m){var p=h.aoPreSearchCols;if(a===void 0)return p[m].sSearch;h.oFeatures.bFilter&&(W.extend(p[m],{sSearch:a+"",bRegex:i===null?!1:i,bSmart:c===null?!0:c,bCaseInsensitive:u===null?!0:u}),Iu(h,h.oPreviousSearch,1))})});st("state()",function(){return this.context.length?this.context[0].oSavedState:null});st("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})});st("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});st("state.save()",function(){return this.iterator("table",function(a){Lu(a)})});_e.use=function(a,i){i==="lib"||a.fn?W=a:(i=="win"||a.document)&&(window=a,document=a.document)};_e.factory=function(a,i){var c=!1;return a&&a.document&&(window=a,document=a.document),i&&i.fn&&i.fn.jquery&&(W=i,c=!0),c};_e.versionCheck=_e.fnVersionCheck=function(a){for(var i=_e.version.split("."),c=a.split("."),u,h,m=0,p=c.length;m<p;m++)if(u=parseInt(i[m],10)||0,h=parseInt(c[m],10)||0,u!==h)return u>h;return!0};_e.isDataTable=_e.fnIsDataTable=function(a){var i=W(a).get(0),c=!1;return a instanceof _e.Api?!0:(W.each(_e.settings,function(u,h){var m=h.nScrollHead?W("table",h.nScrollHead)[0]:null,p=h.nScrollFoot?W("table",h.nScrollFoot)[0]:null;(h.nTable===i||m===i||p===i)&&(c=!0)}),c)};_e.tables=_e.fnTables=function(a){var i=!1;W.isPlainObject(a)&&(i=a.api,a=a.visible);var c=W.map(_e.settings,function(u){if(!a||a&&W(u.nTable).is(":visible"))return u.nTable});return i?new Et(c):c};_e.camelToHungarian=Eo;st("$()",function(a,i){var c=this.rows(i).nodes(),u=W(c);return W([].concat(u.filter(a).toArray(),u.find(a).toArray()))});W.each(["on","one","off"],function(a,i){st(i+"()",function(){var c=Array.prototype.slice.call(arguments);c[0]=W.map(c[0].split(/\s/),function(h){return h.match(/\.dt\b/)?h:h+".dt"}).join(" ");var u=W(this.tables().nodes());return u[i].apply(u,c),this})});st("clear()",function(){return this.iterator("table",function(a){wm(a)})});st("settings()",function(){return new Et(this.context,this.context)});st("init()",function(){var a=this.context;return a.length?a[0].oInit:null});st("data()",function(){return this.iterator("table",function(a){return Fr(a.aoData,"_aData")}).flatten()});st("destroy()",function(a){return a=a||!1,this.iterator("table",function(i){var c=i.oClasses,u=i.nTable,h=i.nTBody,m=i.nTHead,p=i.nTFoot,v=W(u),y=W(h),S=W(i.nTableWrapper),T=W.map(i.aoData,function(Q){return Q.nTr}),A;i.bDestroying=!0,Lt(i,"aoDestroyCallback","destroy",[i]),a||new Et(i).columns().visible(!0),S.off(".DT").find(":not(tbody *)").off(".DT"),W(window).off(".DT-"+i.sInstance),u!=m.parentNode&&(v.children("thead").detach(),v.append(m)),p&&u!=p.parentNode&&(v.children("tfoot").detach(),v.append(p)),i.aaSorting=[],i.aaSortingFixed=[],sm(i),W(T).removeClass(i.asStripeClasses.join(" ")),W("th, td",m).removeClass(c.sSortable+" "+c.sSortableAsc+" "+c.sSortableDesc+" "+c.sSortableNone),y.children().detach(),y.append(T);var I=i.nTableWrapper.parentNode,F=a?"remove":"detach";v[F](),S[F](),!a&&I&&(I.insertBefore(u,i.nTableReinsertBefore),v.css("width",i.sDestroyWidth).removeClass(c.sTable),A=i.asDestroyStripes.length,A&&y.children().each(function(Q){W(this).addClass(i.asDestroyStripes[Q%A])}));var M=W.inArray(i,_e.settings);M!==-1&&_e.settings.splice(M,1)})});W.each(["column","row","cell"],function(a,i){st(i+"s().every()",function(c){var u=this.selector.opts,h=this;return this.iterator(i,function(m,p,v,y,S){c.call(h[i](p,i==="cell"?v:u,i==="cell"?u:void 0),p,v,y,S)})})});st("i18n()",function(a,i,c){var u=this.context[0],h=Nl(a)(u.oLanguage);return h===void 0&&(h=i),c!==void 0&&W.isPlainObject(h)&&(h=h[c]!==void 0?h[c]:h._),h.replace("%d",c)});_e.version="1.13.4";_e.settings=[];_e.models={};_e.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1};_e.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};_e.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};_e.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((a.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,i){try{(a.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(i))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:W.extend({},_e.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};Nu(_e.defaults);_e.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};Nu(_e.defaults.column);_e.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:void 0,oAjaxData:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return Yn(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return Yn(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,i=this._iDisplayStart,c=i+a,u=this.aiDisplay.length,h=this.oFeatures,m=h.bPaginate;return h.bServerSide?m===!1||a===-1?i+u:Math.min(i+a,this._iRecordsDisplay):!m||c>u||a===-1?u:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};_e.ext=Tn={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:_e.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:_e.version};W.extend(Tn,{afnFiltering:Tn.search,aTypes:Tn.type.detect,ofnSearch:Tn.type.search,oSort:Tn.type.order,afnSortData:Tn.order,aoFeatures:Tn.feature,oApi:Tn.internal,oStdClasses:Tn.classes,oPagination:Tn.pager});W.extend(_e.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var JD=_e.ext.pager;function wu(a,i){var c=[],u=JD.numbers_length,h=Math.floor(u/2);return i<=u?c=Al(0,i):a<=h?(c=Al(0,u-2),c.push("ellipsis"),c.push(i-1)):a>=i-1-h?(c=Al(i-(u-2),i),c.splice(0,0,"ellipsis"),c.splice(0,0,0)):(c=Al(a-h+2,a+h-1),c.push("ellipsis"),c.push(i-1),c.splice(0,0,"ellipsis"),c.splice(0,0,0)),c.DT_el="span",c}W.extend(JD,{simple:function(a,i){return["previous","next"]},full:function(a,i){return["first","previous","next","last"]},numbers:function(a,i){return[wu(a,i)]},simple_numbers:function(a,i){return["previous",wu(a,i),"next"]},full_numbers:function(a,i){return["first","previous",wu(a,i),"next","last"]},first_last_numbers:function(a,i){return["first",wu(a,i),"last"]},_numbers:wu,numbers_length:7});W.extend(!0,_e.ext.renderer,{pageButton:{_:function(a,i,c,u,h,m){var p=a.oClasses,v=a.oLanguage.oPaginate,y=a.oLanguage.oAria.paginate||{},S,T,A=function(F,M){var Q,X,z,O,V,be=p.sPageButtonDisabled,Me=function(yt){_m(a,yt.data.action,!0)};for(Q=0,X=M.length;Q<X;Q++)if(O=M[Q],Array.isArray(O)){var $e=W("<"+(O.DT_el||"div")+"/>").appendTo(F);A($e,O)}else{switch(S=null,T=O,V=a.iTabIndex,O){case"ellipsis":F.append('<span class="ellipsis">&#x2026;</span>');break;case"first":S=v.sFirst,h===0&&(V=-1,T+=" "+be);break;case"previous":S=v.sPrevious,h===0&&(V=-1,T+=" "+be);break;case"next":S=v.sNext,(m===0||h===m-1)&&(V=-1,T+=" "+be);break;case"last":S=v.sLast,(m===0||h===m-1)&&(V=-1,T+=" "+be);break;default:S=a.fnFormatNumber(O+1),T=h===O?p.sPageButtonActive:"";break}if(S!==null){var tt=a.oInit.pagingTag||"a",ut=T.indexOf(be)!==-1;z=W("<"+tt+">",{class:p.sPageButton+" "+T,"aria-controls":a.sTableId,"aria-disabled":ut?"true":null,"aria-label":y[O],"aria-role":"link","aria-current":T===p.sPageButtonActive?"page":null,"data-dt-idx":O,tabindex:V,id:c===0&&typeof O=="string"?a.sTableId+"_"+O:null}).html(S).appendTo(F),Qy(z,{action:O},Me)}}},I;try{I=W(i).find(document.activeElement).data("dt-idx")}catch{}A(W(i).empty(),u),I!==void 0&&W(i).find("[data-dt-idx="+I+"]").trigger("focus")}}});W.extend(_e.ext.type.detect,[function(a,i){var c=i.oLanguage.sDecimal;return _y(a,c)?"num"+c:null},function(a,i){if(a&&!(a instanceof Date)&&!GK.test(a))return null;var c=Date.parse(a);return c!==null&&!isNaN(c)||Xs(a)?"date":null},function(a,i){var c=i.oLanguage.sDecimal;return _y(a,c,!0)?"num-fmt"+c:null},function(a,i){var c=i.oLanguage.sDecimal;return D1(a,c)?"html-num"+c:null},function(a,i){var c=i.oLanguage.sDecimal;return D1(a,c,!0)?"html-num-fmt"+c:null},function(a,i){return Xs(a)||typeof a=="string"&&a.indexOf("<")!==-1?"html":null}]);W.extend(_e.ext.type.search,{html:function(a){return Xs(a)?a:typeof a=="string"?a.replace(A1," ").replace(tm,""):""},string:function(a){return Xs(a)?a:typeof a=="string"?a.replace(A1," "):a}});var qh=function(a,i,c,u){if(a!==0&&(!a||a==="-"))return-1/0;let h=typeof a;return h==="number"||h==="bigint"?a:(i&&(a=hD(a,i)),a.replace&&(c&&(a=a.replace(c,"")),u&&(a=a.replace(u,""))),a*1)};function Ny(a){W.each({num:function(i){return qh(i,a)},"num-fmt":function(i){return qh(i,a,Ey)},"html-num":function(i){return qh(i,a,tm)},"html-num-fmt":function(i){return qh(i,a,tm,Ey)}},function(i,c){Tn.type.order[i+a+"-pre"]=c,i.match(/^html\-/)&&(Tn.type.search[i+a]=Tn.type.search.html)})}W.extend(Tn.type.order,{"date-pre":function(a){var i=Date.parse(a);return isNaN(i)?-1/0:i},"html-pre":function(a){return Xs(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return Xs(a)?"":typeof a=="string"?a.toLowerCase():a.toString?a.toString():""},"string-asc":function(a,i){return a<i?-1:a>i?1:0},"string-desc":function(a,i){return a<i?1:a>i?-1:0}});Ny("");W.extend(!0,_e.ext.renderer,{header:{_:function(a,i,c,u){W(a.nTable).on("order.dt.DT",function(h,m,p,v){if(a===m){var y=c.idx;i.removeClass(u.sSortAsc+" "+u.sSortDesc).addClass(v[y]=="asc"?u.sSortAsc:v[y]=="desc"?u.sSortDesc:c.sSortingClass)}})},jqueryui:function(a,i,c,u){W("<div/>").addClass(u.sSortJUIWrapper).append(i.contents()).append(W("<span/>").addClass(u.sSortIcon+" "+c.sSortingClassJUI)).appendTo(i),W(a.nTable).on("order.dt.DT",function(h,m,p,v){if(a===m){var y=c.idx;i.removeClass(u.sSortAsc+" "+u.sSortDesc).addClass(v[y]=="asc"?u.sSortAsc:v[y]=="desc"?u.sSortDesc:c.sSortingClass),i.find("span."+u.sSortIcon).removeClass(u.sSortJUIAsc+" "+u.sSortJUIDesc+" "+u.sSortJUI+" "+u.sSortJUIAscAllowed+" "+u.sSortJUIDescAllowed).addClass(v[y]=="asc"?u.sSortJUIAsc:v[y]=="desc"?u.sSortJUIDesc:c.sSortingClassJUI)}})}}});var Zh=function(a){return Array.isArray(a)&&(a=a.join(",")),typeof a=="string"?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):a};function $1(a,i,c,u,h){return window.moment?a[i](h):window.luxon?a[c](h):u?a[u](h):a}var B1=!1;function am(a,i,c){var u;if(window.moment){if(u=window.moment.utc(a,i,c,!0),!u.isValid())return null}else if(window.luxon){if(u=i&&typeof a=="string"?window.luxon.DateTime.fromFormat(a,i):window.luxon.DateTime.fromISO(a),!u.isValid)return null;u.setLocale(c)}else i?(B1||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),B1=!0):u=new Date(a);return u}function by(a){return function(i,c,u,h){arguments.length===0?(u="en",c=null,i=null):arguments.length===1?(u="en",c=i,i=null):arguments.length===2&&(u=c,c=i,i=null);var m="datetime-"+c;return _e.ext.type.order[m]||(_e.ext.type.detect.unshift(function(p){return p===m?m:!1}),_e.ext.type.order[m+"-asc"]=function(p,v){var y=p.valueOf(),S=v.valueOf();return y===S?0:y<S?-1:1},_e.ext.type.order[m+"-desc"]=function(p,v){var y=p.valueOf(),S=v.valueOf();return y===S?0:y>S?-1:1}),function(p,v){if(p==null)if(h==="--now"){var y=new Date;p=new Date(Date.UTC(y.getFullYear(),y.getMonth(),y.getDate(),y.getHours(),y.getMinutes(),y.getSeconds()))}else p="";if(v==="type")return m;if(p==="")return v!=="sort"?"":am("0000-01-01 00:00:00",null,u);if(c!==null&&i===c&&v!=="sort"&&v!=="type"&&!(p instanceof Date))return p;var S=am(p,i,u);if(S===null)return p;if(v==="sort")return S;var T=c===null?$1(S,"toDate","toJSDate","")[a]():$1(S,"format","toFormat","toISOString",c);return v==="display"?Zh(T):T}}}var QD=",",ZD=".";if(Intl)try{for(var Su=new Intl.NumberFormat().formatToParts(100000.1),kl=0;kl<Su.length;kl++)Su[kl].type==="group"?QD=Su[kl].value:Su[kl].type==="decimal"&&(ZD=Su[kl].value)}catch{}_e.datetime=function(a,i){var c="datetime-detect-"+a;i||(i="en"),_e.ext.type.order[c]||(_e.ext.type.detect.unshift(function(u){var h=am(u,a,i);return u===""||h?c:!1}),_e.ext.type.order[c+"-pre"]=function(u){return am(u,a,i)||0})};_e.render={date:by("toLocaleDateString"),datetime:by("toLocaleString"),time:by("toLocaleTimeString"),number:function(a,i,c,u,h){return a==null&&(a=QD),i==null&&(i=ZD),{display:function(m){if(typeof m!="number"&&typeof m!="string"||m===""||m===null)return m;var p=m<0?"-":"",v=parseFloat(m);if(isNaN(v))return Zh(m);v=v.toFixed(c),m=Math.abs(v);var y=parseInt(m,10),S=c?i+(m-y).toFixed(c).substring(2):"";return y===0&&parseFloat(S)===0&&(p=""),p+(u||"")+y.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+S+(h||"")}}},text:function(){return{display:Zh,filter:Zh}}};function eR(a){return function(){var i=[om(this[_e.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return _e.ext.internal[a].apply(this,i)}}W.extend(_e.ext.internal,{_fnExternApiFunc:eR,_fnBuildAjax:Em,_fnAjaxUpdate:ED,_fnAjaxParameters:_D,_fnAjaxUpdateDraw:xD,_fnAjaxDataSrc:Fu,_fnAddColumn:Uy,_fnColumnOptions:nm,_fnAdjustColumnSizing:Ou,_fnVisibleToColumnIndex:Pu,_fnColumnIndexToVisible:$u,_fnVisbleColumns:Pl,_fnGetColumns:ym,_fnColumnTypes:Wy,_fnApplyColumnDefs:yD,_fnHungarianMap:Nu,_fnCamelToHungarian:Eo,_fnLanguageCompat:xy,_fnBrowserDetect:bD,_fnAddData:ma,_fnAddTr:Cm,_fnNodeToDataIndex:QK,_fnNodeToColumnIndex:ZK,_fnGetCellData:gr,_fnSetCellData:CD,_fnSplitObjNotation:Ty,_fnGetObjectDataFn:Nl,_fnSetObjectDataFn:da,_fnGetDataMaster:ky,_fnClearTable:wm,_fnDeleteIndex:Jh,_fnInvalidate:Bu,_fnGetRowElements:Hy,_fnCreateTr:jy,_fnBuildHead:wD,_fnDrawHead:xu,_fnDraw:pa,_fnReDraw:yi,_fnAddOptionsHtml:SD,_fnDetectHeader:Tu,_fnGetUniqueThs:Sm,_fnFeatureHtmlFilter:TD,_fnFilterComplete:Iu,_fnFilterCustom:kD,_fnFilterColumn:AD,_fnFilter:DD,_fnFilterCreateSearch:qy,_fnEscapeRegex:Gy,_fnFilterData:RD,_fnFeatureHtmlInfo:ND,_fnUpdateInfo:OD,_fnInfoMacros:PD,_fnInitialise:Eu,_fnInitComplete:rm,_fnLengthChange:Ky,_fnFeatureHtmlLength:$D,_fnFeatureHtmlPaginate:BD,_fnPageChange:_m,_fnFeatureHtmlProcessing:FD,_fnProcessingDisplay:Br,_fnFeatureHtmlTable:ID,_fnScrollDraw:xm,_fnApplyToChildren:qs,_fnCalculateColumnWidths:Xy,_fnThrottle:Yy,_fnConvertToWidth:LD,_fnGetWidestNode:MD,_fnGetMaxLenString:zD,_fnStringToCss:pn,_fnSortFlatten:$l,_fnSort:UD,_fnSortAria:WD,_fnSortListener:Ay,_fnSortAttachListener:Jy,_fnSortingClasses:sm,_fnSortData:HD,_fnSaveState:Lu,_fnLoadState:jD,_fnImplementState:Dy,_fnSettingsFromNode:om,_fnLog:Kr,_fnMap:vs,_fnBindAction:Qy,_fnCallbackReg:ar,_fnCallbackFire:Lt,_fnLengthOverflow:Zy,_fnRenderer:eC,_fnDataSource:Yn,_fnRowAttributes:Vy,_fnExtend:Ry,_fnCalculateEnd:function(){}});W.fn.dataTable=_e;_e.$=W;W.fn.dataTableSettings=_e.settings;W.fn.dataTableExt=_e.ext;W.fn.DataTable=function(a){return W(this).dataTable(a).api()};W.each(_e,function(a,i){W.fn.DataTable[a]=i});$(".datatable-lister").length&&$.each($(".datatable-lister"),function(a,i){new _e($(i))});$(".datatable-lister-sortable").length&&$.each($(".datatable-lister-sortable"),function(a,i){new _e($(i),{displayIndex:!0,dataIndex:!0,ordering:!1,paging:!1})});$(function(){$(".tiny-mce").length&&window.setupTinyMce()});window.setupTinyMce=function(){tinymce.init({selector:"textarea.tiny-mce",plugins:"print preview paste importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons",toolbar:"undo redo | blocks | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | mediaembed ",imagetools_cors_hosts:["picsum.photos"]})};window.setupTinyMceAll=function(){tinymce.init({selector:".tiny-mce",inline:!0,menubar:!1,toolbar:!1,toolbar:"undo redo | blocks | bold italic backcolor textcolor| ",imagetools_cors_hosts:["picsum.photos"]})};$(document).on("click",".clone-button",function(a){a.preventDefault();let i=$(this).closest("div.break-downamount"),c=$(i).clone();$(c).find(".clone-button").remove(),$(c).find(".remove-clone").removeClass("d-none"),$(i).closest("div.card").append(c)});$(document).on("click",".remove-clone",function(a){a.preventDefault(),$(this).closest("div.break-downamount").fadeOut("fast")});window.image_slider=function(a){$("#slider-file-preview").empty().html(a.view)};$(document).on("click",".image-preview-edit",function(a){a.preventDefault();let i=`<div class='d-flex justify-content-center align-items-center'><img src="/loading.gif" class="img-fluid w-25" /></div>`;$("#slider-file-preview").empty().html(i);let c=this;axios.get($(c).attr("data-endpoint")).then(function(u){window.image_slider(u.data.params)})});var Oy={},dX={get exports(){return Oy},set exports(a){Oy=a}},im={},hX={get exports(){return im},set exports(a){im=a}},lm={},mX={get exports(){return lm},set exports(a){lm=a}},F1;function tR(){return F1||(F1=1,function(a){(function(i,c){a.exports?a.exports=c():i.EvEmitter=c()})(typeof window<"u"?window:g9,function(){function i(){}var c=i.prototype;return c.on=function(u,h){if(!(!u||!h)){var m=this._events=this._events||{},p=m[u]=m[u]||[];return p.indexOf(h)==-1&&p.push(h),this}},c.once=function(u,h){if(!(!u||!h)){this.on(u,h);var m=this._onceEvents=this._onceEvents||{},p=m[u]=m[u]||{};return p[h]=!0,this}},c.off=function(u,h){var m=this._events&&this._events[u];if(!(!m||!m.length)){var p=m.indexOf(h);return p!=-1&&m.splice(p,1),this}},c.emitEvent=function(u,h){var m=this._events&&this._events[u];if(!(!m||!m.length)){m=m.slice(0),h=h||[];for(var p=this._onceEvents&&this._onceEvents[u],v=0;v<m.length;v++){var y=m[v],S=p&&p[y];S&&(this.off(u,y),delete p[y]),y.apply(this,h)}return this}},c.allOff=function(){delete this._events,delete this._onceEvents},i})}(mX)),lm}var cm={},pX={get exports(){return cm},set exports(a){cm=a}};/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */var I1;function oC(){return I1||(I1=1,function(a){(function(i,c){a.exports?a.exports=c():i.getSize=c()})(window,function(){function c(F){var M=parseFloat(F),Q=F.indexOf("%")==-1&&!isNaN(M);return Q&&M}function u(){}var h=typeof console>"u"?u:function(F){console.error(F)},m=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],p=m.length;function v(){for(var F={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},M=0;M<p;M++){var Q=m[M];F[Q]=0}return F}function y(F){var M=getComputedStyle(F);return M||h("Style returned "+M+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),M}var S=!1,T;function A(){if(!S){S=!0;var F=document.createElement("div");F.style.width="200px",F.style.padding="1px 2px 3px 4px",F.style.borderStyle="solid",F.style.borderWidth="1px 2px 3px 4px",F.style.boxSizing="border-box";var M=document.body||document.documentElement;M.appendChild(F);var Q=y(F);T=Math.round(c(Q.width))==200,I.isBoxSizeOuter=T,M.removeChild(F)}}function I(F){if(A(),typeof F=="string"&&(F=document.querySelector(F)),!(!F||typeof F!="object"||!F.nodeType)){var M=y(F);if(M.display=="none")return v();var Q={};Q.width=F.offsetWidth,Q.height=F.offsetHeight;for(var X=Q.isBorderBox=M.boxSizing=="border-box",z=0;z<p;z++){var O=m[z],V=M[O],be=parseFloat(V);Q[O]=isNaN(be)?0:be}var Me=Q.paddingLeft+Q.paddingRight,$e=Q.paddingTop+Q.paddingBottom,tt=Q.marginLeft+Q.marginRight,ut=Q.marginTop+Q.marginBottom,yt=Q.borderLeftWidth+Q.borderRightWidth,at=Q.borderTopWidth+Q.borderBottomWidth,fe=X&&T,Ke=c(M.width);Ke!==!1&&(Q.width=Ke+(fe?0:Me+yt));var Mt=c(M.height);return Mt!==!1&&(Q.height=Mt+(fe?0:$e+at)),Q.innerWidth=Q.width-(Me+yt),Q.innerHeight=Q.height-($e+at),Q.outerWidth=Q.width+tt,Q.outerHeight=Q.height+ut,Q}}return I})}(pX)),cm}var um={},gX={get exports(){return um},set exports(a){um=a}},fm={},vX={get exports(){return fm},set exports(a){fm=a}},L1;function bX(){return L1||(L1=1,function(a){(function(i,c){a.exports?a.exports=c():i.matchesSelector=c()})(window,function(){var c=function(){var u=window.Element.prototype;if(u.matches)return"matches";if(u.matchesSelector)return"matchesSelector";for(var h=["webkit","moz","ms","o"],m=0;m<h.length;m++){var p=h[m],v=p+"MatchesSelector";if(u[v])return v}}();return function(h,m){return h[c](m)}})}(vX)),fm}var M1;function yX(){return M1||(M1=1,function(a){(function(i,c){a.exports?a.exports=c(i,bX()):i.fizzyUIUtils=c(i,i.matchesSelector)})(window,function(c,u){var h={};h.extend=function(v,y){for(var S in y)v[S]=y[S];return v},h.modulo=function(v,y){return(v%y+y)%y};var m=Array.prototype.slice;h.makeArray=function(v){if(Array.isArray(v))return v;if(v==null)return[];var y=typeof v=="object"&&typeof v.length=="number";return y?m.call(v):[v]},h.removeFrom=function(v,y){var S=v.indexOf(y);S!=-1&&v.splice(S,1)},h.getParent=function(v,y){for(;v.parentNode&&v!=document.body;)if(v=v.parentNode,u(v,y))return v},h.getQueryElement=function(v){return typeof v=="string"?document.querySelector(v):v},h.handleEvent=function(v){var y="on"+v.type;this[y]&&this[y](v)},h.filterFindElements=function(v,y){v=h.makeArray(v);var S=[];return v.forEach(function(T){if(T instanceof HTMLElement){if(!y){S.push(T);return}u(T,y)&&S.push(T);for(var A=T.querySelectorAll(y),I=0;I<A.length;I++)S.push(A[I])}}),S},h.debounceMethod=function(v,y,S){S=S||100;var T=v.prototype[y],A=y+"Timeout";v.prototype[y]=function(){var I=this[A];clearTimeout(I);var F=arguments,M=this;this[A]=setTimeout(function(){T.apply(M,F),delete M[A]},S)}},h.docReady=function(v){var y=document.readyState;y=="complete"||y=="interactive"?setTimeout(v):document.addEventListener("DOMContentLoaded",v)},h.toDashed=function(v){return v.replace(/(.)([A-Z])/g,function(y,S,T){return S+"-"+T}).toLowerCase()};var p=c.console;return h.htmlInit=function(v,y){h.docReady(function(){var S=h.toDashed(y),T="data-"+S,A=document.querySelectorAll("["+T+"]"),I=document.querySelectorAll(".js-"+S),F=h.makeArray(A).concat(h.makeArray(I)),M=T+"-options",Q=c.jQuery;F.forEach(function(X){var z=X.getAttribute(T)||X.getAttribute(M),O;try{O=z&&JSON.parse(z)}catch(be){p&&p.error("Error parsing "+T+" on "+X.className+": "+be);return}var V=new v(X,O);Q&&Q.data(X,y,V)})})},h})}(gX)),um}var dm={},CX={get exports(){return dm},set exports(a){dm=a}},z1;function wX(){return z1||(z1=1,function(a){(function(i,c){a.exports?a.exports=c(tR(),oC()):(i.Outlayer={},i.Outlayer.Item=c(i.EvEmitter,i.getSize))})(window,function(c,u){function h(X){for(var z in X)return!1;return z=null,!0}var m=document.documentElement.style,p=typeof m.transition=="string"?"transition":"WebkitTransition",v=typeof m.transform=="string"?"transform":"WebkitTransform",y={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[p],S={transform:v,transition:p,transitionDuration:p+"Duration",transitionProperty:p+"Property",transitionDelay:p+"Delay"};function T(X,z){X&&(this.element=X,this.layout=z,this.position={x:0,y:0},this._create())}var A=T.prototype=Object.create(c.prototype);A.constructor=T,A._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},A.handleEvent=function(X){var z="on"+X.type;this[z]&&this[z](X)},A.getSize=function(){this.size=u(this.element)},A.css=function(X){var z=this.element.style;for(var O in X){var V=S[O]||O;z[V]=X[O]}},A.getPosition=function(){var X=getComputedStyle(this.element),z=this.layout._getOption("originLeft"),O=this.layout._getOption("originTop"),V=X[z?"left":"right"],be=X[O?"top":"bottom"],Me=parseFloat(V),$e=parseFloat(be),tt=this.layout.size;V.indexOf("%")!=-1&&(Me=Me/100*tt.width),be.indexOf("%")!=-1&&($e=$e/100*tt.height),Me=isNaN(Me)?0:Me,$e=isNaN($e)?0:$e,Me-=z?tt.paddingLeft:tt.paddingRight,$e-=O?tt.paddingTop:tt.paddingBottom,this.position.x=Me,this.position.y=$e},A.layoutPosition=function(){var X=this.layout.size,z={},O=this.layout._getOption("originLeft"),V=this.layout._getOption("originTop"),be=O?"paddingLeft":"paddingRight",Me=O?"left":"right",$e=O?"right":"left",tt=this.position.x+X[be];z[Me]=this.getXValue(tt),z[$e]="";var ut=V?"paddingTop":"paddingBottom",yt=V?"top":"bottom",at=V?"bottom":"top",fe=this.position.y+X[ut];z[yt]=this.getYValue(fe),z[at]="",this.css(z),this.emitEvent("layout",[this])},A.getXValue=function(X){var z=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!z?X/this.layout.size.width*100+"%":X+"px"},A.getYValue=function(X){var z=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&z?X/this.layout.size.height*100+"%":X+"px"},A._transitionTo=function(X,z){this.getPosition();var O=this.position.x,V=this.position.y,be=X==this.position.x&&z==this.position.y;if(this.setPosition(X,z),be&&!this.isTransitioning){this.layoutPosition();return}var Me=X-O,$e=z-V,tt={};tt.transform=this.getTranslate(Me,$e),this.transition({to:tt,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},A.getTranslate=function(X,z){var O=this.layout._getOption("originLeft"),V=this.layout._getOption("originTop");return X=O?X:-X,z=V?z:-z,"translate3d("+X+"px, "+z+"px, 0)"},A.goTo=function(X,z){this.setPosition(X,z),this.layoutPosition()},A.moveTo=A._transitionTo,A.setPosition=function(X,z){this.position.x=parseFloat(X),this.position.y=parseFloat(z)},A._nonTransition=function(X){this.css(X.to),X.isCleaning&&this._removeStyles(X.to);for(var z in X.onTransitionEnd)X.onTransitionEnd[z].call(this)},A.transition=function(X){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(X);return}var z=this._transn;for(var O in X.onTransitionEnd)z.onEnd[O]=X.onTransitionEnd[O];for(O in X.to)z.ingProperties[O]=!0,X.isCleaning&&(z.clean[O]=!0);X.from&&(this.css(X.from),this.element.offsetHeight),this.enableTransition(X.to),this.css(X.to),this.isTransitioning=!0};function I(X){return X.replace(/([A-Z])/g,function(z){return"-"+z.toLowerCase()})}var F="opacity,"+I(v);A.enableTransition=function(){if(!this.isTransitioning){var X=this.layout.options.transitionDuration;X=typeof X=="number"?X+"ms":X,this.css({transitionProperty:F,transitionDuration:X,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(y,this,!1)}},A.onwebkitTransitionEnd=function(X){this.ontransitionend(X)},A.onotransitionend=function(X){this.ontransitionend(X)};var M={"-webkit-transform":"transform"};A.ontransitionend=function(X){if(X.target===this.element){var z=this._transn,O=M[X.propertyName]||X.propertyName;if(delete z.ingProperties[O],h(z.ingProperties)&&this.disableTransition(),O in z.clean&&(this.element.style[X.propertyName]="",delete z.clean[O]),O in z.onEnd){var V=z.onEnd[O];V.call(this),delete z.onEnd[O]}this.emitEvent("transitionEnd",[this])}},A.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(y,this,!1),this.isTransitioning=!1},A._removeStyles=function(X){var z={};for(var O in X)z[O]="";this.css(z)};var Q={transitionProperty:"",transitionDuration:"",transitionDelay:""};return A.removeTransitionStyles=function(){this.css(Q)},A.stagger=function(X){X=isNaN(X)?0:X,this.staggerDelay=X+"ms"},A.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},A.remove=function(){if(!p||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},A.reveal=function(){delete this.isHidden,this.css({display:""});var X=this.layout.options,z={},O=this.getHideRevealTransitionEndProperty("visibleStyle");z[O]=this.onRevealTransitionEnd,this.transition({from:X.hiddenStyle,to:X.visibleStyle,isCleaning:!0,onTransitionEnd:z})},A.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},A.getHideRevealTransitionEndProperty=function(X){var z=this.layout.options[X];if(z.opacity)return"opacity";for(var O in z)return O},A.hide=function(){this.isHidden=!0,this.css({display:""});var X=this.layout.options,z={},O=this.getHideRevealTransitionEndProperty("hiddenStyle");z[O]=this.onHideTransitionEnd,this.transition({from:X.visibleStyle,to:X.hiddenStyle,isCleaning:!0,onTransitionEnd:z})},A.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},A.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},T})}(CX)),dm}/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */var U1;function SX(){return U1||(U1=1,function(a){(function(i,c){a.exports?a.exports=c(i,tR(),oC(),yX(),wX()):i.Outlayer=c(i,i.EvEmitter,i.getSize,i.fizzyUIUtils,i.Outlayer.Item)})(window,function(c,u,h,m,p){var v=c.console,y=c.jQuery,S=function(){},T=0,A={};function I(z,O){var V=m.getQueryElement(z);if(!V){v&&v.error("Bad element for "+this.constructor.namespace+": "+(V||z));return}this.element=V,y&&(this.$element=y(this.element)),this.options=m.extend({},this.constructor.defaults),this.option(O);var be=++T;this.element.outlayerGUID=be,A[be]=this,this._create();var Me=this._getOption("initLayout");Me&&this.layout()}I.namespace="outlayer",I.Item=p,I.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var F=I.prototype;m.extend(F,u.prototype),F.option=function(z){m.extend(this.options,z)},F._getOption=function(z){var O=this.constructor.compatOptions[z];return O&&this.options[O]!==void 0?this.options[O]:this.options[z]},I.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},F._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),m.extend(this.element.style,this.options.containerStyle);var z=this._getOption("resize");z&&this.bindResize()},F.reloadItems=function(){this.items=this._itemize(this.element.children)},F._itemize=function(z){for(var O=this._filterFindItemElements(z),V=this.constructor.Item,be=[],Me=0;Me<O.length;Me++){var $e=O[Me],tt=new V($e,this);be.push(tt)}return be},F._filterFindItemElements=function(z){return m.filterFindElements(z,this.options.itemSelector)},F.getItemElements=function(){return this.items.map(function(z){return z.element})},F.layout=function(){this._resetLayout(),this._manageStamps();var z=this._getOption("layoutInstant"),O=z!==void 0?z:!this._isLayoutInited;this.layoutItems(this.items,O),this._isLayoutInited=!0},F._init=F.layout,F._resetLayout=function(){this.getSize()},F.getSize=function(){this.size=h(this.element)},F._getMeasurement=function(z,O){var V=this.options[z],be;V?(typeof V=="string"?be=this.element.querySelector(V):V instanceof HTMLElement&&(be=V),this[z]=be?h(be)[O]:V):this[z]=0},F.layoutItems=function(z,O){z=this._getItemsForLayout(z),this._layoutItems(z,O),this._postLayout()},F._getItemsForLayout=function(z){return z.filter(function(O){return!O.isIgnored})},F._layoutItems=function(z,O){if(this._emitCompleteOnItems("layout",z),!(!z||!z.length)){var V=[];z.forEach(function(be){var Me=this._getItemLayoutPosition(be);Me.item=be,Me.isInstant=O||be.isLayoutInstant,V.push(Me)},this),this._processLayoutQueue(V)}},F._getItemLayoutPosition=function(){return{x:0,y:0}},F._processLayoutQueue=function(z){this.updateStagger(),z.forEach(function(O,V){this._positionItem(O.item,O.x,O.y,O.isInstant,V)},this)},F.updateStagger=function(){var z=this.options.stagger;if(z==null){this.stagger=0;return}return this.stagger=X(z),this.stagger},F._positionItem=function(z,O,V,be,Me){be?z.goTo(O,V):(z.stagger(Me*this.stagger),z.moveTo(O,V))},F._postLayout=function(){this.resizeContainer()},F.resizeContainer=function(){var z=this._getOption("resizeContainer");if(z){var O=this._getContainerSize();O&&(this._setContainerMeasure(O.width,!0),this._setContainerMeasure(O.height,!1))}},F._getContainerSize=S,F._setContainerMeasure=function(z,O){if(z!==void 0){var V=this.size;V.isBorderBox&&(z+=O?V.paddingLeft+V.paddingRight+V.borderLeftWidth+V.borderRightWidth:V.paddingBottom+V.paddingTop+V.borderTopWidth+V.borderBottomWidth),z=Math.max(z,0),this.element.style[O?"width":"height"]=z+"px"}},F._emitCompleteOnItems=function(z,O){var V=this;function be(){V.dispatchEvent(z+"Complete",null,[O])}var Me=O.length;if(!O||!Me){be();return}var $e=0;function tt(){$e++,$e==Me&&be()}O.forEach(function(ut){ut.once(z,tt)})},F.dispatchEvent=function(z,O,V){var be=O?[O].concat(V):V;if(this.emitEvent(z,be),y)if(this.$element=this.$element||y(this.element),O){var Me=y.Event(O);Me.type=z,this.$element.trigger(Me,V)}else this.$element.trigger(z,V)},F.ignore=function(z){var O=this.getItem(z);O&&(O.isIgnored=!0)},F.unignore=function(z){var O=this.getItem(z);O&&delete O.isIgnored},F.stamp=function(z){z=this._find(z),z&&(this.stamps=this.stamps.concat(z),z.forEach(this.ignore,this))},F.unstamp=function(z){z=this._find(z),z&&z.forEach(function(O){m.removeFrom(this.stamps,O),this.unignore(O)},this)},F._find=function(z){if(z)return typeof z=="string"&&(z=this.element.querySelectorAll(z)),z=m.makeArray(z),z},F._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},F._getBoundingRect=function(){var z=this.element.getBoundingClientRect(),O=this.size;this._boundingRect={left:z.left+O.paddingLeft+O.borderLeftWidth,top:z.top+O.paddingTop+O.borderTopWidth,right:z.right-(O.paddingRight+O.borderRightWidth),bottom:z.bottom-(O.paddingBottom+O.borderBottomWidth)}},F._manageStamp=S,F._getElementOffset=function(z){var O=z.getBoundingClientRect(),V=this._boundingRect,be=h(z),Me={left:O.left-V.left-be.marginLeft,top:O.top-V.top-be.marginTop,right:V.right-O.right-be.marginRight,bottom:V.bottom-O.bottom-be.marginBottom};return Me},F.handleEvent=m.handleEvent,F.bindResize=function(){c.addEventListener("resize",this),this.isResizeBound=!0},F.unbindResize=function(){c.removeEventListener("resize",this),this.isResizeBound=!1},F.onresize=function(){this.resize()},m.debounceMethod(I,"onresize",100),F.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},F.needsResizeLayout=function(){var z=h(this.element),O=this.size&&z;return O&&z.innerWidth!==this.size.innerWidth},F.addItems=function(z){var O=this._itemize(z);return O.length&&(this.items=this.items.concat(O)),O},F.appended=function(z){var O=this.addItems(z);O.length&&(this.layoutItems(O,!0),this.reveal(O))},F.prepended=function(z){var O=this._itemize(z);if(O.length){var V=this.items.slice(0);this.items=O.concat(V),this._resetLayout(),this._manageStamps(),this.layoutItems(O,!0),this.reveal(O),this.layoutItems(V)}},F.reveal=function(z){if(this._emitCompleteOnItems("reveal",z),!(!z||!z.length)){var O=this.updateStagger();z.forEach(function(V,be){V.stagger(be*O),V.reveal()})}},F.hide=function(z){if(this._emitCompleteOnItems("hide",z),!(!z||!z.length)){var O=this.updateStagger();z.forEach(function(V,be){V.stagger(be*O),V.hide()})}},F.revealItemElements=function(z){var O=this.getItems(z);this.reveal(O)},F.hideItemElements=function(z){var O=this.getItems(z);this.hide(O)},F.getItem=function(z){for(var O=0;O<this.items.length;O++){var V=this.items[O];if(V.element==z)return V}},F.getItems=function(z){z=m.makeArray(z);var O=[];return z.forEach(function(V){var be=this.getItem(V);be&&O.push(be)},this),O},F.remove=function(z){var O=this.getItems(z);this._emitCompleteOnItems("remove",O),!(!O||!O.length)&&O.forEach(function(V){V.remove(),m.removeFrom(this.items,V)},this)},F.destroy=function(){var z=this.element.style;z.height="",z.position="",z.width="",this.items.forEach(function(V){V.destroy()}),this.unbindResize();var O=this.element.outlayerGUID;delete A[O],delete this.element.outlayerGUID,y&&y.removeData(this.element,this.constructor.namespace)},I.data=function(z){z=m.getQueryElement(z);var O=z&&z.outlayerGUID;return O&&A[O]},I.create=function(z,O){var V=M(I);return V.defaults=m.extend({},I.defaults),m.extend(V.defaults,O),V.compatOptions=m.extend({},I.compatOptions),V.namespace=z,V.data=I.data,V.Item=M(p),m.htmlInit(V,z),y&&y.bridget&&y.bridget(z,V),V};function M(z){function O(){z.apply(this,arguments)}return O.prototype=Object.create(z.prototype),O.prototype.constructor=O,O}var Q={ms:1,s:1e3};function X(z){if(typeof z=="number")return z;var O=z.match(/(^\d*\.?\d*)(\w*)/),V=O&&O[1],be=O&&O[2];if(!V.length)return 0;V=parseFloat(V);var Me=Q[be]||1;return V*Me}return I.Item=p,I})}(hX)),im}/*!
 * Masonry v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */(function(a){(function(i,c){a.exports?a.exports=c(SX(),oC()):i.Masonry=c(i.Outlayer,i.getSize)})(window,function(c,u){var h=c.create("masonry");h.compatOptions.fitWidth="isFitWidth";var m=h.prototype;return m._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var p=0;p<this.cols;p++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},m.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var p=this.items[0],v=p&&p.element;this.columnWidth=v&&u(v).outerWidth||this.containerWidth}var y=this.columnWidth+=this.gutter,S=this.containerWidth+this.gutter,T=S/y,A=y-S%y,I=A&&A<1?"round":"floor";T=Math[I](T),this.cols=Math.max(T,1)},m.getContainerWidth=function(){var p=this._getOption("fitWidth"),v=p?this.element.parentNode:this.element,y=u(v);this.containerWidth=y&&y.innerWidth},m._getItemLayoutPosition=function(p){p.getSize();var v=p.size.outerWidth%this.columnWidth,y=v&&v<1?"round":"ceil",S=Math[y](p.size.outerWidth/this.columnWidth);S=Math.min(S,this.cols);for(var T=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",A=this[T](S,p),I={x:this.columnWidth*A.col,y:A.y},F=A.y+p.size.outerHeight,M=S+A.col,Q=A.col;Q<M;Q++)this.colYs[Q]=F;return I},m._getTopColPosition=function(p){var v=this._getTopColGroup(p),y=Math.min.apply(Math,v);return{col:v.indexOf(y),y}},m._getTopColGroup=function(p){if(p<2)return this.colYs;for(var v=[],y=this.cols+1-p,S=0;S<y;S++)v[S]=this._getColGroupY(S,p);return v},m._getColGroupY=function(p,v){if(v<2)return this.colYs[p];var y=this.colYs.slice(p,p+v);return Math.max.apply(Math,y)},m._getHorizontalColPosition=function(p,v){var y=this.horizontalColIndex%this.cols,S=p>1&&y+p>this.cols;y=S?0:y;var T=v.size.outerWidth&&v.size.outerHeight;return this.horizontalColIndex=T?y+p:this.horizontalColIndex,{col:y,y:this._getColGroupY(y,p)}},m._manageStamp=function(p){var v=u(p),y=this._getElementOffset(p),S=this._getOption("originLeft"),T=S?y.left:y.right,A=T+v.outerWidth,I=Math.floor(T/this.columnWidth);I=Math.max(0,I);var F=Math.floor(A/this.columnWidth);F-=A%this.columnWidth?0:1,F=Math.min(this.cols-1,F);for(var M=this._getOption("originTop"),Q=(M?y.top:y.bottom)+v.outerHeight,X=I;X<=F;X++)this.colYs[X]=Math.max(Q,this.colYs[X])},m._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var p={height:this.maxY};return this._getOption("fitWidth")&&(p.width=this._getContainerFitWidth()),p},m._getContainerFitWidth=function(){for(var p=0,v=this.cols;--v&&this.colYs[v]===0;)p++;return(this.cols-p)*this.columnWidth-this.gutter},m.needsResizeLayout=function(){var p=this.containerWidth;return this.getContainerWidth(),p!=this.containerWidth},h})})(dX);const EX=Oy;var W1={},_X={get exports(){return W1},set exports(a){W1=a}};(function(a){(function(){var i=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},c=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},u=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},h=function(e,t){return m(function(n,r){return e.eq(t(n),t(r))})},m=function(e){return{eq:e}},p=m(function(e,t){return e===t}),v=p,y=function(e){return m(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,s=0;s<r;s++)if(!e.eq(t[s],n[s]))return!1;return!0})},S=function(e,t){return h(y(e),function(n){return u(n,t)})},T=function(e){return m(function(t,n){var r=Object.keys(t),s=Object.keys(n);if(!S(v).eq(r,s))return!1;for(var o=r.length,l=0;l<o;l++){var f=r[l];if(!e.eq(t[f],n[f]))return!1}return!0})},A=m(function(e,t){if(e===t)return!0;var n=i(e),r=i(t);return n!==r?!1:c(n)?e===t:n==="array"?y(A).eq(e,t):n==="object"?T(A).eq(e,t):!1});const I=Object.getPrototypeOf,F=(e,t,n)=>{var r;return n(e,t.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===t.name},M=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&F(e,String,(n,r)=>r.isPrototypeOf(n))?"string":t},Q=e=>t=>M(t)===e,X=e=>t=>typeof t===e,z=e=>t=>e===t,O=(e,t)=>be(e)&&F(e,t,(n,r)=>I(n)===r),V=Q("string"),be=Q("object"),Me=e=>O(e,Object),$e=Q("array"),tt=z(null),ut=X("boolean"),yt=z(void 0),at=e=>e==null,fe=e=>!at(e),Ke=X("function"),Mt=X("number"),ft=(e,t)=>{if($e(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},ze=()=>{},Jt=(e,t)=>(...n)=>e(t.apply(null,n)),qt=(e,t)=>n=>e(t(n)),ie=e=>()=>e,zt=e=>e,zn=(e,t)=>e===t;function xe(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const ir=e=>t=>!e(t),bs=e=>()=>{throw new Error(e)},To=e=>e(),ys=e=>{e()},Ye=ie(!1),ht=ie(!0);class x{constructor(t,n){this.tag=t,this.value=n}static some(t){return new x(!0,t)}static none(){return x.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?x.some(t(this.value)):x.none()}bind(t){return this.tag?t(this.value):x.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:x.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return fe(t)?x.some(t):x.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}x.singletonNone=new x(!1);const ko=Array.prototype.slice,Am=Array.prototype.indexOf,Ci=Array.prototype.push,Ao=(e,t)=>Am.call(e,t),wi=(e,t)=>{const n=Ao(e,t);return n===-1?x.none():x.some(n)},kt=(e,t)=>Ao(e,t)>-1,Xt=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const s=e[n];if(t(s,n))return!0}return!1},mt=(e,t)=>{const n=e.length,r=new Array(n);for(let s=0;s<n;s++){const o=e[s];r[s]=t(o,s)}return r},ue=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const s=e[n];t(s,n)}},zu=(e,t)=>{for(let n=e.length-1;n>=0;n--){const r=e[n];t(r,n)}},ga=(e,t)=>{const n=[],r=[];for(let s=0,o=e.length;s<o;s++){const l=e[s];(t(l,s)?n:r).push(l)}return{pass:n,fail:r}},He=(e,t)=>{const n=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];t(o,r)&&n.push(o)}return n},Jn=(e,t,n)=>(zu(e,(r,s)=>{n=t(n,r,s)}),n),fn=(e,t,n)=>(ue(e,(r,s)=>{n=t(n,r,s)}),n),Si=(e,t,n)=>{for(let r=0,s=e.length;r<s;r++){const o=e[r];if(t(o,r))return x.some(o);if(n(o,r))break}return x.none()},Qt=(e,t)=>Si(e,t,Ye),Do=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const s=e[n];if(t(s,n))return x.some(n)}return x.none()},Uu=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!$e(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ci.apply(t,e[n])}return t},Ir=(e,t)=>Uu(mt(e,t)),vr=(e,t)=>{for(let n=0,r=e.length;n<r;++n){const s=e[n];if(t(s,n)!==!0)return!1}return!0},va=e=>{const t=ko.call(e,0);return t.reverse(),t},Xr=(e,t)=>He(e,n=>!kt(t,n)),Bl=(e,t)=>{const n={};for(let r=0,s=e.length;r<s;r++){const o=e[r];n[String(o)]=t(o,r)}return n},Ys=(e,t)=>{const n=ko.call(e,0);return n.sort(t),n},Ei=(e,t)=>t>=0&&t<e.length?x.some(e[t]):x.none(),Rn=e=>Ei(e,0),Js=e=>Ei(e,e.length-1),Un=Ke(Array.from)?Array.from:e=>ko.call(e),Qs=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return x.none()},_i=(e,t)=>{const n=[],r=Ke(t)?s=>Xt(n,o=>t(o,s)):s=>kt(n,s);for(let s=0,o=e.length;s<o;s++){const l=e[s];r(l)||n.push(l)}return n},Wn=Object.keys,Dm=Object.hasOwnProperty,Nt=(e,t)=>{const n=Wn(e);for(let r=0,s=n.length;r<s;r++){const o=n[r],l=e[o];t(l,o)}},xi=(e,t)=>Wu(e,(n,r)=>({k:r,v:t(n,r)})),Wu=(e,t)=>{const n={};return Nt(e,(r,s)=>{const o=t(r,s);n[o.k]=o.v}),n},Fl=e=>(t,n)=>{e[n]=t},Hu=(e,t,n,r)=>{Nt(e,(s,o)=>{(t(s,o)?n:r)(s,o)})},Rm=(e,t)=>{const n={},r={};return Hu(e,t,Fl(n),Fl(r)),{t:n,f:r}},Yr=(e,t)=>{const n={};return Hu(e,t,Fl(n),ze),n},Il=(e,t)=>{const n=[];return Nt(e,(r,s)=>{n.push(t(r,s))}),n},Ll=e=>Il(e,zt),Bt=(e,t)=>Je(e,t)?x.from(e[t]):x.none(),Je=(e,t)=>Dm.call(e,t),Cs=(e,t)=>Je(e,t)&&e[t]!==void 0&&e[t]!==null,Nm=(e,t,n=A)=>T(n).eq(e,t),Jr=e=>{const t={};return ue(e,n=>{t[n]={}}),Wn(t)},Ml=e=>e.length!==void 0,Ti=Array.isArray,ba=e=>{if(Ti(e))return e;{const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},ya=(e,t,n)=>{if(!e)return!1;if(n=n||e,Ml(e)){for(let r=0,s=e.length;r<s;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(const r in e)if(Je(e,r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},ki=(e,t)=>{const n=[];return ya(e,(r,s)=>{n.push(t(r,s,e))}),n},Ro=(e,t)=>{const n=[];return ya(e,(r,s)=>{(!t||t(r,s,e))&&n.push(r)}),n},ju=(e,t)=>{if(e){for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},wn=(e,t,n,r)=>{let s=yt(n)?e[0]:n;for(let o=0;o<e.length;o++)s=t.call(r,s,e[o],o);return s},Vu=(e,t,n)=>{for(let r=0,s=e.length;r<s;r++)if(t.call(n,e[r],r,e))return r;return-1},Zs=e=>e[e.length-1],eo=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},to=(e,t,n,r)=>{const s=e.isiOS()&&/ipad/i.test(n)===!0,o=e.isiOS()&&!s,l=e.isiOS()||e.isAndroid(),f=l||r("(pointer:coarse)"),d=s||!o&&l&&r("(min-device-width:768px)"),g=o||l&&!d,w=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,C=!g&&!d&&!w;return{isiPad:ie(s),isiPhone:ie(o),isTablet:ie(d),isPhone:ie(g),isTouch:ie(f),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ie(w),isDesktop:ie(C)}},Ai=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(t))return r}},qu=(e,t)=>{const n=Ai(e,t);if(!n)return{major:0,minor:0};const r=s=>Number(t.replace(n,"$"+s));return Ca(r(1),r(2))},Om=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?No():qu(e,n)},No=()=>Ca(0,0),Ca=(e,t)=>({major:e,minor:t}),wa={nu:Ca,detect:Om,unknown:No},Gu=(e,t)=>Qs(t.brands,n=>{const r=n.brand.toLowerCase();return Qt(e,s=>{var o;return r===((o=s.brand)===null||o===void 0?void 0:o.toLowerCase())}).map(s=>({current:s.name,version:wa.nu(parseInt(n.version,10),0)}))}),Sa=(e,t)=>{const n=String(t).toLowerCase();return Qt(e,r=>r.search(n))},Pm=(e,t)=>Sa(e,t).map(n=>{const r=wa.detect(n.versionRegexes,t);return{current:n.name,version:r}}),zl=(e,t)=>Sa(e,t).map(n=>{const r=wa.detect(n.versionRegexes,t);return{current:n.name,version:r}}),$m=(e,t)=>e.substring(t),Ku=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Xu=(e,t)=>gn(e,t)?$m(e,t.length):e,ln=(e,t,n=0,r)=>{const s=e.indexOf(t,n);return s!==-1?yt(r)?!0:s+t.length<=r:!1},gn=(e,t)=>Ku(e,t,0),Yu=(e,t)=>Ku(e,t,e.length-t.length),Di=e=>t=>t.replace(e,""),ws=Di(/^\s+|\s+$/g),Ul=Di(/^\s+/g),Ea=Di(/\s+$/g),br=e=>e.length>0,no=e=>!br(e),Wl=(e,t)=>t<=0?"":new Array(t+1).join(e),Oo=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?x.none():x.some(n)},Ss=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qr=e=>t=>ln(t,e),Ju=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ln(e,"edge/")&&ln(e,"chrome")&&ln(e,"safari")&&ln(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ss],search:e=>ln(e,"chrome")&&!ln(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ln(e,"msie")||ln(e,"trident")},{name:"Opera",versionRegexes:[Ss,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qr("firefox")},{name:"Safari",versionRegexes:[Ss,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ln(e,"safari")||ln(e,"mobile/"))&&ln(e,"applewebkit")}],Bm=[{name:"Windows",search:Qr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>ln(e,"iphone")||ln(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Qr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qr("linux"),versionRegexes:[]},{name:"Solaris",search:Qr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],_a={browsers:ie(Ju),oses:ie(Bm)},Hl="Edge",jl="Chromium",Qu="IE",ro="Opera",Ri="Firefox",Ni="Safari",Vl=()=>Zu({current:void 0,version:wa.unknown()}),Zu=e=>{const t=e.current,n=e.version,r=s=>()=>t===s;return{current:t,version:n,isEdge:r(Hl),isChromium:r(jl),isIE:r(Qu),isOpera:r(ro),isFirefox:r(Ri),isSafari:r(Ni)}},ql={unknown:Vl,nu:Zu,edge:ie(Hl),chromium:ie(jl),ie:ie(Qu),opera:ie(ro),firefox:ie(Ri),safari:ie(Ni)},Oi="Windows",ef="iOS",tf="Android",nf="Linux",rf="macOS",xa="Solaris",Pi="FreeBSD",Ta="ChromeOS",ka=()=>Gl({current:void 0,version:wa.unknown()}),Gl=e=>{const t=e.current,n=e.version,r=s=>()=>t===s;return{current:t,version:n,isWindows:r(Oi),isiOS:r(ef),isAndroid:r(tf),isMacOS:r(rf),isLinux:r(nf),isSolaris:r(xa),isFreeBSD:r(Pi),isChromeOS:r(Ta)}},Aa={unknown:ka,nu:Gl,windows:ie(Oi),ios:ie(ef),android:ie(tf),linux:ie(nf),macos:ie(rf),solaris:ie(xa),freebsd:ie(Pi),chromeos:ie(Ta)},Im={detect:(e,t,n)=>{const r=_a.browsers(),s=_a.oses(),o=t.bind(d=>Gu(r,d)).orThunk(()=>Pm(r,e)).fold(ql.unknown,ql.nu),l=zl(s,e).fold(Aa.unknown,Aa.nu),f=to(l,o,e,n);return{browser:o,os:l,deviceType:f}}},sf=e=>window.matchMedia(e).matches;let of=eo(()=>Im.detect(navigator.userAgent,x.from(navigator.userAgentData),sf));const Es=()=>of(),Lm=navigator.userAgent,so=Es(),Qn=so.browser,yr=so.os,oo=so.deviceType,Mm=Lm.indexOf("Windows Phone")!==-1,vt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Qn.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Qn.isIE(),windowsPhone:Mm,browser:{current:Qn.current,version:Qn.version,isChromium:Qn.isChromium,isEdge:Qn.isEdge,isFirefox:Qn.isFirefox,isIE:Qn.isIE,isOpera:Qn.isOpera,isSafari:Qn.isSafari},os:{current:yr.current,version:yr.version,isAndroid:yr.isAndroid,isChromeOS:yr.isChromeOS,isFreeBSD:yr.isFreeBSD,isiOS:yr.isiOS,isLinux:yr.isLinux,isMacOS:yr.isMacOS,isSolaris:yr.isSolaris,isWindows:yr.isWindows},deviceType:{isDesktop:oo.isDesktop,isiPad:oo.isiPad,isiPhone:oo.isiPhone,isPhone:oo.isPhone,isTablet:oo.isTablet,isTouch:oo.isTouch,isWebView:oo.isWebView}},af=/^\s*|\s*$/g,lf=e=>at(e)?"":(""+e).replace(af,""),Kl=(e,t)=>t?t==="array"&&Ti(e)?!0:typeof e===t:e!==void 0,cf=(e,t,n={})=>{const r=V(e)?e.split(t||","):e||[];let s=r.length;for(;s--;)n[r[s]]={};return n},uf=Je,Xl=(e,...t)=>{for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(Je(r,s)){const o=r[s];o!==void 0&&(e[s]=o)}}return e},Da=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),ya(e,(s,o)=>t.call(r,s,o,n)===!1?!1:(Da(s,t,n,r),!0)))},pe={trim:lf,isArray:Ti,is:Kl,toArray:ba,makeMap:cf,each:ya,map:ki,grep:Ro,inArray:ju,hasOwn:uf,extend:Xl,walk:Da,resolve:(e,t=window)=>{const n=e.split(".");for(let r=0,s=n.length;r<s&&(t=t[n[r]],!!t);r++);return t},explode:(e,t)=>$e(e)?e:e===""?[]:ki(e.split(t||","),lf),_addCacheSuffix:e=>{const t=vt.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Po=(e,t,n=zn)=>e.exists(r=>n(r,t)),$i=e=>{const t=[],n=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(n);return t},Nn=(e,t,n)=>e.isSome()&&t.isSome()?x.some(n(e.getOrDie(),t.getOrDie())):x.none(),zm=(e,t,n,r)=>e.isSome()&&t.isSome()&&n.isSome()?x.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):x.none(),$o=(e,t)=>e?x.some(t):x.none(),df=typeof window<"u"?window:Function("return this;")(),hf=(e,t)=>{let n=t??df;for(let r=0;r<e.length&&n!==void 0&&n!==null;++r)n=n[e[r]];return n},mf=(e,t)=>{const n=e.split(".");return hf(n,t)},pf=(e,t)=>mf(e,t),Um=(e,t)=>{const n=pf(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},Wm=Object.getPrototypeOf,Yl=e=>Um("HTMLElement",e),Hm=e=>{const t=mf("ownerDocument.defaultView",e);return be(e)&&(Yl(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Wm(e).constructor.name))},_s=8,gf=9,vf=11,Ra=1,bf=3,Ft=e=>e.dom.nodeName.toLowerCase(),yf=e=>e.dom.nodeType,Na=e=>t=>yf(t)===e,Cf=e=>yf(e)===_s||Ft(e)==="#comment",wf=e=>On(e)&&Hm(e.dom),On=Na(Ra),Zn=Na(bf),Sf=Na(gf),jm=Na(vf),Jl=e=>t=>On(t)&&Ft(t)===e,Ef=(e,t,n)=>{if(V(n)||ut(n)||Mt(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},Zt=(e,t,n)=>{Ef(e.dom,t,n)},xs=(e,t)=>{const n=e.dom;Nt(t,(r,s)=>{Ef(n,s,r)})},er=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},Zr=(e,t)=>x.from(er(e,t)),Bi=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},vn=(e,t)=>{e.dom.removeAttribute(t)},Fi=e=>{const t=e.dom.attributes;return t==null||t.length===0},Ql=e=>fn(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),Oa=(e,t)=>{const n=er(e,t);return n===void 0||n===""?[]:n.split(" ")},_f=(e,t,n)=>{const s=Oa(e,t).concat([n]);return Zt(e,t,s.join(" ")),!0},Zl=(e,t,n)=>{const r=He(Oa(e,t),s=>s!==n);return r.length>0?Zt(e,t,r.join(" ")):vn(e,t),!1},Bo=e=>e.dom.classList!==void 0,Ii=e=>Oa(e,"class"),Li=(e,t)=>_f(e,"class",t),ec=(e,t)=>Zl(e,"class",t),es=(e,t)=>kt(Ii(e),t)?ec(e,t):Li(e,t),Cr=(e,t)=>{Bo(e)?e.dom.classList.add(t):Li(e,t)},tc=e=>{(Bo(e)?e.dom.classList:Ii(e)).length===0&&vn(e,"class")},Fo=(e,t)=>{Bo(e)?e.dom.classList.remove(t):ec(e,t),tc(e)},Vm=(e,t)=>{const n=Bo(e)?e.dom.classList.toggle(t):es(e,t);return tc(e),n},nc=(e,t)=>Bo(e)&&e.dom.classList.contains(t),qm=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const s="HTML does not have a single root node";throw console.error(s,e),new Error(s)}return Pa(r.childNodes[0])},Gm=(e,t)=>{const r=(t||document).createElement(e);return Pa(r)},Km=(e,t)=>{const r=(t||document).createTextNode(e);return Pa(r)},Pa=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},U={fromHtml:qm,fromTag:Gm,fromText:Km,fromDom:Pa,fromPoint:(e,t,n)=>x.from(e.dom.elementFromPoint(t,n)).map(Pa)},xf=(e,t)=>{const n=[],r=o=>(n.push(o),t(o));let s=t(e);do s=s.bind(r);while(s.isSome());return n},wr=(e,t)=>{const n=e.dom;if(n.nodeType!==Ra)return!1;{const r=n;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Tf=e=>e.nodeType!==Ra&&e.nodeType!==gf&&e.nodeType!==vf||e.childElementCount===0,Xm=(e,t)=>{const n=t===void 0?document:t.dom;return Tf(n)?[]:mt(n.querySelectorAll(e),U.fromDom)},Ym=(e,t)=>{const n=t===void 0?document:t.dom;return Tf(n)?x.none():x.from(n.querySelector(e)).map(U.fromDom)},bt=(e,t)=>e.dom===t.dom,ts=(e,t)=>{const n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},kf=e=>U.fromDom(e.dom.ownerDocument),lr=e=>Sf(e)?e:kf(e),Jm=e=>U.fromDom(lr(e).dom.documentElement),$a=e=>U.fromDom(lr(e).dom.defaultView),cr=e=>x.from(e.dom.parentNode).map(U.fromDom),Mi=e=>x.from(e.dom.parentElement).map(U.fromDom),Af=(e,t)=>{const n=Ke(t)?t:Ye;let r=e.dom;const s=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const o=r.parentNode,l=U.fromDom(o);if(s.push(l),n(l)===!0)break;r=o}return s},Df=e=>{const t=n=>He(n,r=>!bt(e,r));return cr(e).map(bn).map(t).getOr([])},ao=e=>x.from(e.dom.previousSibling).map(U.fromDom),Ba=e=>x.from(e.dom.nextSibling).map(U.fromDom),Rf=e=>va(xf(e,ao)),Nf=e=>xf(e,Ba),bn=e=>mt(e.dom.childNodes,U.fromDom),zi=(e,t)=>{const n=e.dom.childNodes;return x.from(n[t]).map(U.fromDom)},rc=e=>zi(e,0),sc=e=>zi(e,e.dom.childNodes.length-1),Of=e=>e.dom.childNodes.length,Qm=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return U.fromDom(t)},oc=e=>jm(e)&&fe(e.dom.host),Pf=Ke(Element.prototype.attachShadow)&&Ke(Node.prototype.getRootNode),Zm=ie(Pf),Lr=Pf?e=>U.fromDom(e.dom.getRootNode()):lr,ac=e=>oc(e)?e:Qm(lr(e)),ic=e=>oc(e)?e:U.fromDom(lr(e).dom.body),ep=e=>{const t=Lr(e);return oc(t)?x.some(t):x.none()},tp=e=>U.fromDom(e.dom.host),lc=e=>{if(Zm()&&fe(e.target)){const t=U.fromDom(e.target);if(On(t)&&$f(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return Rn(n)}}return x.from(e.target)},$f=e=>fe(e.dom.shadowRoot),Io=e=>{const t=Zn(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return ep(U.fromDom(t)).fold(()=>n.body.contains(t),qt(Io,tp))};var cc=(e,t,n,r,s)=>e(n,r)?x.some(n):Ke(s)&&s(n)?x.none():t(n,r,s);const ns=(e,t,n)=>{let r=e.dom;const s=Ke(n)?n:Ye;for(;r.parentNode;){r=r.parentNode;const o=U.fromDom(r);if(t(o))return x.some(o);if(s(o))break}return x.none()},io=(e,t,n)=>cc((s,o)=>o(s),ns,e,t,n),np=(e,t)=>{const n=e.dom;return n.parentNode?rp(U.fromDom(n.parentNode),r=>!bt(e,r)&&t(r)):x.none()},rp=(e,t)=>{const n=s=>t(U.fromDom(s));return Qt(e.dom.childNodes,n).map(U.fromDom)},sp=(e,t)=>{const n=r=>{for(let s=0;s<r.childNodes.length;s++){const o=U.fromDom(r.childNodes[s]);if(t(o))return x.some(o);const l=n(r.childNodes[s]);if(l.isSome())return l}return x.none()};return n(e.dom)},Fa=(e,t,n)=>ns(e,r=>wr(r,t),n),Lo=(e,t)=>Ym(t,e),lo=(e,t,n)=>cc((s,o)=>wr(s,o),Fa,e,t,n),op=e=>lo(e,"[contenteditable]"),Ui=(e,t=!1)=>Io(e)?e.dom.isContentEditable:op(e).fold(ie(t),n=>ap(n)==="true"),ap=e=>e.dom.contentEditable,Mo=e=>e.style!==void 0&&Ke(e.style.getPropertyValue),Wi=(e,t,n)=>{if(!V(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Mo(e)&&e.style.setProperty(t,n)},Bf=(e,t)=>{Mo(e)&&e.style.removeProperty(t)},uc=(e,t,n)=>{const r=e.dom;Wi(r,t,n)},zo=(e,t)=>{const n=e.dom;Nt(t,(r,s)=>{Wi(n,s,r)})},Mr=(e,t)=>{const n=e.dom,s=window.getComputedStyle(n).getPropertyValue(t);return s===""&&!Io(e)?Ff(n,t):s},Ff=(e,t)=>Mo(e)?e.style.getPropertyValue(t):"",Hi=(e,t)=>{const n=e.dom,r=Ff(n,t);return x.from(r).filter(s=>s.length>0)},If=e=>{const t={},n=e.dom;if(Mo(n))for(let r=0;r<n.style.length;r++){const s=n.style.item(r);t[s]=n.style[s]}return t},Uo=(e,t)=>{const n=e.dom;Bf(n,t),Po(Zr(e,"style").map(ws),"")&&vn(e,"style")},co=e=>e.dom.offsetWidth,tr=(e,t)=>{cr(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},Ts=(e,t)=>{Ba(e).fold(()=>{cr(e).each(s=>{rn(s,t)})},r=>{tr(r,t)})},Lf=(e,t)=>{rc(e).fold(()=>{rn(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},rn=(e,t)=>{e.dom.appendChild(t.dom)},Mf=(e,t)=>{tr(e,t),rn(t,e)},Wo=(e,t)=>{ue(t,(n,r)=>{const s=r===0?e:t[r-1];Ts(s,n)})},uo=(e,t)=>{ue(t,n=>{rn(e,n)})},Ho=e=>{e.dom.textContent="",ue(bn(e),t=>{Ut(t)})},Ut=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},rs=e=>{const t=bn(e);t.length>0&&Wo(e,t),Ut(e)},ip=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,bn(U.fromDom(r))},ks=e=>mt(e,U.fromDom),zf=e=>e.dom.innerHTML,ji=(e,t)=>{const r=kf(e).dom,s=U.fromDom(r.createDocumentFragment()),o=ip(t,r);uo(s,o),Ho(e),rn(e,s)},lp=e=>{const t=U.fromTag("div"),n=U.fromDom(e.dom.cloneNode(!0));return rn(t,n),zf(t)},cp=(e,t,n,r,s,o,l)=>({target:e,x:t,y:n,stop:r,prevent:s,kill:o,raw:l}),up=e=>{const t=U.fromDom(lc(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),s=Jt(r,n);return cp(t,e.clientX,e.clientY,n,r,s,e)},Vi=(e,t)=>n=>{e(n)&&t(up(n))},fp=(e,t,n,r,s)=>{const o=Vi(n,r);return e.dom.addEventListener(t,o,s),{unbind:xe(Uf,e,t,o,s)}},qi=(e,t,n,r)=>fp(e,t,n,r,!1),Uf=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},Wf=(e,t)=>({left:e,top:t,translate:(r,s)=>Wf(e+r,t+s)}),jo=Wf,dp=e=>{const t=e.getBoundingClientRect();return jo(t.left,t.top)},Vo=(e,t)=>e!==void 0?e:t!==void 0?t:0,hp=e=>{const t=e.dom.ownerDocument,n=t.body,r=t.defaultView,s=t.documentElement;if(n===e.dom)return jo(n.offsetLeft,n.offsetTop);const o=Vo(r==null?void 0:r.pageYOffset,s.scrollTop),l=Vo(r==null?void 0:r.pageXOffset,s.scrollLeft),f=Vo(s.clientTop,n.clientTop),d=Vo(s.clientLeft,n.clientLeft);return fc(e).translate(l-d,o-f)},fc=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?jo(r.offsetLeft,r.offsetTop):Io(e)?dp(t):jo(0,0)},Gi=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return jo(n,r)},Hf=(e,t,n)=>{const s=(n!==void 0?n.dom:document).defaultView;s&&s.scrollTo(e,t)},dc=(e,t)=>{Es().browser.isSafari()&&Ke(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},hc=e=>{const t=e===void 0?window:e;return Es().browser.isFirefox()?x.none():x.from(t.visualViewport)},Ia=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),jf=e=>{const t=e===void 0?window:e,n=t.document,r=Gi(U.fromDom(n));return hc(t).fold(()=>{const s=t.document.documentElement,o=s.clientWidth,l=s.clientHeight;return Ia(r.left,r.top,o,l)},s=>Ia(Math.max(s.pageLeft,r.left),Math.max(s.pageTop,r.top),s.width,s.height))},mp=(e,t)=>He(bn(e),t),Vf=(e,t)=>{let n=[];return ue(bn(e),r=>{t(r)&&(n=n.concat([r])),n=n.concat(Vf(r,t))}),n},Sn=(e,t)=>Xm(t,e),qf=(e,t,n)=>Fa(e,t,n).isSome();class sn{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,r,s){if(t){if(!s&&t[n])return t[n];if(t!==this.rootNode){let o=t[r];if(o)return o;for(let l=t.parentNode;l&&l!==this.rootNode;l=l.parentNode)if(o=l[r],o)return o}}}findPreviousNode(t,n){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!n){for(let o=r.lastChild;o;o=o.lastChild)if(!o.lastChild)return o}return r}const s=t.parentNode;if(s&&s!==this.rootNode)return s}}}const fo=e=>t=>!!t&&t.nodeType===e,La=e=>!!e&&!Object.getPrototypeOf(e),Ee=fo(1),Ki=e=>{const t=e.toLowerCase();return n=>fe(n)&&n.nodeName.toLowerCase()===t},Hn=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const r=n.nodeName.toLowerCase();return kt(t,r)}return!1}},Ma=(e,t)=>{const n=t.toLowerCase().split(" ");return r=>{if(Ee(r)){const s=r.ownerDocument.defaultView;if(s)for(let o=0;o<n.length;o++){const l=s.getComputedStyle(r,null);if((l?l.getPropertyValue(e):null)===n[o])return!0}}return!1}},Gf=e=>t=>Ee(t)&&t.hasAttribute(e),pp=(e,t)=>n=>Ee(n)&&n.getAttribute(e)===t,ho=e=>Ee(e)&&e.hasAttribute("data-mce-bogus"),gp=e=>Ee(e)&&e.getAttribute("data-mce-bogus")==="all",ss=e=>Ee(e)&&e.tagName==="TABLE",Kf=e=>t=>!!(Ee(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),mc=Hn(["textarea","input"]),ce=fo(3),vp=fo(4),bp=fo(7),As=fo(8),qo=fo(9),Xi=fo(11),Gt=Ki("br"),mo=Ki("img"),ur=Kf("true"),At=Kf("false"),za=Hn(["td","th"]),yp=Hn(["td","th","caption"]),zr=Hn(["video","audio","object","embed"]),Cp=Ki("li"),Ds="\uFEFF",dn=" ",Xf=e=>e===Ds,Yf=e=>e.replace(/\uFEFF/g,""),Go=((e,t)=>{const n=o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return r(o).getOr("")},r=o=>e(o)?x.from(o.dom.nodeValue):x.none();return{get:n,getOption:r,set:(o,l)=>{if(!e(o))throw new Error("Can only set raw "+t+" value of a "+t+" node");o.dom.nodeValue=l}}})(Zn,"text"),Yi=e=>Go.get(e),pc=e=>Go.getOption(e),gc=(e,t)=>Go.set(e,t),vc=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],wp=["td","th"],Ji=["thead","tbody","tfoot"],Sp=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Ep=["h1","h2","h3","h4","h5","h6"],_p=["li","dd","dt"],Jf=["ul","ol","dl"],xp=["pre","script","textarea","style"],Qf=["pre"].concat(Ep),Ur=e=>{let t;return n=>(t=t||Bl(e,ht),Je(t,Ft(n)))},nr=Ur(vc),Tp=e=>Ft(e)==="table",Qi=e=>On(e)&&!nr(e),po=e=>On(e)&&Ft(e)==="br",Zf=Ur(Sp),bc=Ur(Jf),Rs=Ur(_p),Ns=Ur(Ji),go=Ur(wp),b=Ur(xp),_=Ur(Qf),D=e=>_(e)||Qi(e),N=e=>{const t=[];let n=e.dom;for(;n;)t.push(U.fromDom(n)),n=n.lastChild;return t},R=e=>{const t=Sn(e,"br"),n=He(N(e).slice(-1),po);t.length===n.length&&ue(n,Ut)},q=()=>{const e=U.fromTag("br");return Zt(e,"data-mce-bogus","1"),e},te=e=>{Ho(e),rn(e,q())},se=e=>{sc(e).each(t=>{ao(t).each(n=>{nr(e)&&po(t)&&nr(n)&&Ut(t)})})},ae=Ds,Te=Xf,ge=Yf,We=Ee,Ue=ce,Be=e=>(Ue(e)&&(e=e.parentNode),We(e)&&e.hasAttribute("data-mce-caret")),Ve=e=>Ue(e)&&Te(e.data),rt=e=>Be(e)||Ve(e),pt=e=>e.firstChild!==e.lastChild||!Gt(e.firstChild),ot=(e,t)=>{var n;const s=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(ae),o=e.parentNode;if(t){const l=e.previousSibling;if(Ue(l)){if(rt(l))return l;if(it(l))return l.splitText(l.data.length-1)}o==null||o.insertBefore(s,e)}else{const l=e.nextSibling;if(Ue(l)){if(rt(l))return l;if(jn(l))return l.splitText(1),l}e.nextSibling?o==null||o.insertBefore(s,e.nextSibling):o==null||o.appendChild(s)}return s},Ot=e=>{const t=e.container();return ce(t)?t.data.charAt(e.offset())===ae||e.isAtStart()&&Ve(t.previousSibling):!1},It=e=>{const t=e.container();return ce(t)?t.data.charAt(e.offset()-1)===ae||e.isAtEnd()&&Ve(t.nextSibling):!1},os=(e,t,n)=>{var r;const o=((r=t.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(q().dom);const l=t.parentNode;return n?l==null||l.insertBefore(o,t):t.nextSibling?l==null||l.insertBefore(o,t.nextSibling):l==null||l.appendChild(o),o},jn=e=>Ue(e)&&e.data[0]===ae,it=e=>Ue(e)&&e.data[e.data.length-1]===ae,hn=e=>{var t;const n=e.getElementsByTagName("br"),r=n[n.length-1];ho(r)&&((t=r.parentNode)===null||t===void 0||t.removeChild(r))},Pn=e=>e&&e.hasAttribute("data-mce-caret")?(hn(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ko=e=>Be(e.startContainer),uC=ur,sR=At,oR=Gt,aR=ce,iR=Hn(["script","style","textarea"]),fC=Hn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),lR=Hn(["table"]),cR=rt,Wr=e=>cR(e)?!1:aR(e)?!iR(e.parentNode):fC(e)||oR(e)||lR(e)||kp(e),uR=e=>Ee(e)&&e.getAttribute("unselectable")==="true",kp=e=>!uR(e)&&sR(e),fR=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(kp(n))return!1;if(uC(n))return!0}return!0},dR=e=>kp(e)?!fn(Un(e.getElementsByTagName("*")),(t,n)=>t||uC(n),!1):!1,hR=e=>fC(e)||dR(e),dC=(e,t)=>Wr(e)&&fR(e,t),mR=/^[ \t\r\n]*$/,Ua=e=>mR.test(e),pR=e=>" \f	\v".indexOf(e)!==-1,hC=e=>e===`
`||e==="\r",gR=(e,t)=>t<e.length&&t>=0?hC(e[t]):!1,mC=(e,t=4,n=!0,r=!0)=>{const s=Wl(" ",t),o=e.replace(/\t/g,s);return fn(o,(f,d)=>pR(d)||d===dn?f.pcIsSpace||f.str===""&&n||f.str.length===o.length-1&&r||gR(o,f.str.length+1)?{pcIsSpace:!1,str:f.str+dn}:{pcIsSpace:!0,str:f.str+" "}:{pcIsSpace:hC(d),str:f.str+d},{pcIsSpace:!1,str:""}).str},vR=(e,t)=>{const n=U.fromDom(t),r=U.fromDom(e);return qf(r,"pre,code",xe(bt,n))},bR=(e,t)=>ce(e)&&Ua(e.data)&&!vR(e,t),yR=e=>Ee(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),ed=(e,t)=>Wr(e)&&!bR(e,t)||yR(e)||CR(e),CR=Gf("data-mce-bookmark"),wR=Gf("data-mce-bogus"),SR=pp("data-mce-bogus","all"),ER=(e,t)=>{let n=0;if(ed(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const s=new sn(r,e);do{if(t){if(SR(r)){r=s.next(!0);continue}if(wR(r)){r=s.next();continue}}if(Gt(r)){n++,r=s.next();continue}if(ed(r,e))return!1;r=s.next()}while(r);return n<=1}},on=(e,t=!0)=>ER(e.dom,t),yc="data-mce-block",_R=e=>He(Wn(e),t=>!/[A-Z]/.test(t)),Ap=e=>_R(e).join(","),pC=(e,t)=>fe(t.querySelector(e))?(t.setAttribute(yc,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(yc),!1),gC=(e,t)=>{const n=Ap(e.getTransparentElements()),r=Ap(e.getBlockElements());return He(t.querySelectorAll(n),s=>pC(r,s))},vC=(e,t)=>{var n;const r=t?"lastChild":"firstChild";for(let s=e[r];s;s=s[r])if(on(U.fromDom(s))){(n=s.parentNode)===null||n===void 0||n.removeChild(s);return}},xR=(e,t)=>{const n=document.createRange(),r=e.parentNode;if(r){n.setStartBefore(e),n.setEndBefore(t);const s=n.extractContents();vC(s,!0),n.setStartAfter(t),n.setEndAfter(e);const o=n.extractContents();vC(o,!1),on(U.fromDom(s))||r.insertBefore(s,e),on(U.fromDom(t))||r.insertBefore(t,e),on(U.fromDom(o))||r.insertBefore(o,e),r.removeChild(e)}},TR=(e,t,n)=>{const r=e.getBlockElements(),s=U.fromDom(t),o=f=>Ft(f)in r,l=f=>bt(f,s);ue(ks(n),f=>{ns(f,o,l).each(d=>{const g=mp(f,w=>o(w)&&!e.isValidChild(Ft(d),Ft(w)));if(g.length>0){const w=Mi(d);ue(g,C=>{ns(C,o,l).each(E=>{xR(E.dom,C.dom)})}),w.each(C=>gC(e,C.dom))}})})},kR=(e,t,n)=>{ue([...n,...Wa(e,t)?[t]:[]],r=>ue(Sn(U.fromDom(r),r.nodeName.toLowerCase()),s=>{RR(e,s.dom)&&rs(s)}))},Dp=(e,t)=>{const n=gC(e,t);TR(e,t,n),kR(e,t,n)},AR=(e,t)=>{if(Np(e,t)){const n=Ap(e.getBlockElements());pC(n,t)}},DR=(e,t,n)=>{const r=o=>bt(o,U.fromDom(t)),s=Af(U.fromDom(n),r);Ei(s,s.length-2).filter(On).fold(()=>Dp(e,t),o=>Dp(e,o.dom))},Rp=e=>e.hasAttribute(yc),td=(e,t)=>Je(e.getTransparentElements(),t),Np=(e,t)=>Ee(t)&&td(e,t.nodeName),Wa=(e,t)=>Np(e,t)&&Rp(t),RR=(e,t)=>Np(e,t)&&!Rp(t),NR=(e,t)=>t.type===1&&td(e,t.name)&&V(t.attr(yc)),bC=(e,t)=>t.type===1&&td(e,t.name)&&yt(t.attr(yc)),OR=Es().browser,yC=e=>Qt(e,On),PR=e=>OR.isFirefox()&&Ft(e)==="table"?yC(bn(e)).filter(t=>Ft(t)==="caption").bind(t=>yC(Nf(t)).map(n=>{const r=n.dom.offsetTop,s=t.dom.offsetTop,o=t.dom.offsetHeight;return r<=s?-o:0})).getOr(0):0,CC=(e,t)=>e.children&&kt(e.children,t),$R=(e,t,n)=>{let r=0,s=0;const o=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Mr(U.fromDom(e),"position")==="static"){const f=t.getBoundingClientRect();return r=f.left+(o.documentElement.scrollLeft||e.scrollLeft)-o.documentElement.clientLeft,s=f.top+(o.documentElement.scrollTop||e.scrollTop)-o.documentElement.clientTop,{x:r,y:s}}let l=t;for(;l&&l!==n&&l.nodeType&&!CC(l,n);){const f=l;r+=f.offsetLeft||0,s+=f.offsetTop||0,l=f.offsetParent}for(l=t.parentNode;l&&l!==n&&l.nodeType&&!CC(l,n);)r-=l.scrollLeft||0,s-=l.scrollTop||0,l=l.parentNode;s+=PR(U.fromDom(t))}return{x:r,y:s}},wC=(e,t={})=>{let n=0;const r={},s=U.fromDom(e),o=lr(s),l=k=>{t.referrerPolicy=k},f=k=>{t.contentCssCors=k},d=k=>{rn(ac(s),k)},g=k=>{const B=ac(s);Lo(B,"#"+k).each(Ut)},w=k=>Bt(r,k).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),C=k=>new Promise((B,j)=>{let H;const G=pe._addCacheSuffix(k),K=w(G);r[G]=K,K.count++;const oe=(Z,Se)=>{ue(Z,ys),K.status=Se,K.passed=[],K.failed=[],H&&(H.onload=null,H.onerror=null,H=null)},ye=()=>oe(K.passed,2),me=()=>oe(K.failed,3);if(B&&K.passed.push(B),j&&K.failed.push(j),K.status===1)return;if(K.status===2){ye();return}if(K.status===3){me();return}K.status=1;const ee=U.fromTag("link",o.dom);xs(ee,{rel:"stylesheet",type:"text/css",id:K.id}),t.contentCssCors&&Zt(ee,"crossOrigin","anonymous"),t.referrerPolicy&&Zt(ee,"referrerpolicy",t.referrerPolicy),H=ee.dom,H.onload=ye,H.onerror=me,d(ee),Zt(ee,"href",G)}),E=k=>Promise.allSettled(mt(k,j=>C(j).then(ie(j)))).then(j=>{const H=ga(j,G=>G.status==="fulfilled");return H.fail.length>0?Promise.reject(mt(H.fail,G=>G.reason)):mt(H.pass,G=>G.value)}),P=k=>{const B=pe._addCacheSuffix(k);Bt(r,B).each(j=>{--j.count===0&&(delete r[B],g(j.id))})};return{load:C,loadAll:E,unload:P,unloadAll:k=>{ue(k,B=>{P(B)})},_setReferrerPolicy:l,_setContentCssCors:f}},SC=(()=>{const e=new WeakMap;return{forElement:(n,r)=>{const o=Lr(n).dom;return x.from(e.get(o)).getOrThunk(()=>{const l=wC(o,r);return e.set(o,l),l})}}})(),BR=e=>e.nodeName.toLowerCase()==="span",EC=(e,t)=>fe(e)&&(ed(e,t)||Qi(U.fromDom(e))),FR=(e,t)=>{const n=new sn(e,t).prev(!1),r=new sn(e,t).next(!1),s=yt(n)||EC(n,t),o=yt(r)||EC(r,t);return s&&o},_C=e=>BR(e)&&e.getAttribute("data-mce-type")==="bookmark",IR=(e,t)=>ce(e)&&e.data.length>0&&FR(e,t),LR=e=>Ee(e)?e.childNodes.length>0:!1,MR=e=>Xi(e)||qo(e),Op=(e,t,n)=>{var r;const s=n||t;if(Ee(t)&&_C(t))return t;const o=t.childNodes;for(let l=o.length-1;l>=0;l--)Op(e,o[l],s);if(Ee(t)){const l=t.childNodes;l.length===1&&_C(l[0])&&((r=t.parentNode)===null||r===void 0||r.insertBefore(l[0],t))}return!MR(t)&&!ed(t,s)&&!LR(t)&&!IR(t,s)&&e.remove(t),t},zR=pe.makeMap,nd=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rd=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,UR=/[<>&\"\']/g,WR=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,HR={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Ha={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},jR={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},VR=e=>{const t=U.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},xC=(e,t)=>{const n={};if(e){const r=e.split(",");t=t||10;for(let s=0;s<r.length;s+=2){const o=String.fromCharCode(parseInt(r[s],t));if(!Ha[o]){const l="&"+r[s+1]+";";n[o]=l,n[l]=o}}return n}else return},Pp=xC("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),TC=(e,t)=>e.replace(t?nd:rd,n=>Ha[n]||n),qR=e=>(""+e).replace(UR,t=>Ha[t]||t),kC=(e,t)=>e.replace(t?nd:rd,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":Ha[n]||"&#"+n.charCodeAt(0)+";"),$p=(e,t,n)=>{const r=n||Pp;return e.replace(t?nd:rd,s=>Ha[s]||r[s]||s)},Xo={encodeRaw:TC,encodeAllRaw:qR,encodeNumeric:kC,encodeNamed:$p,getEncodeFunc:(e,t)=>{const n=xC(t)||Pp,r=(l,f)=>l.replace(f?nd:rd,d=>Ha[d]!==void 0?Ha[d]:n[d]!==void 0?n[d]:d.length>1?"&#"+((d.charCodeAt(0)-55296)*1024+(d.charCodeAt(1)-56320)+65536)+";":"&#"+d.charCodeAt(0)+";"),s=(l,f)=>$p(l,f,n),o=zR(e.replace(/\+/g,","));return o.named&&o.numeric?r:o.named?t?s:$p:o.numeric?kC:TC},decode:e=>e.replace(WR,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):HR[n]||String.fromCharCode(n)):jR[t]||Pp[t]||VR(t))},sd={},od={},GR={},Zi=pe.makeMap,$n=pe.each,Bp=pe.extend,AC=pe.explode,KR=pe.inArray,kn=(e,t)=>(e=pe.trim(e),e?e.split(t||" "):[]),DC=(e,t={})=>{const n=Zi(e," ",Zi(e.toUpperCase()," "));return Bp(n,t)},RC=e=>DC("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),XR=e=>{const t={};let n,r,s,o;const l=(d,g="",w="")=>{const C=kn(w),E=kn(d);let P=E.length;for(;P--;){const L=kn([n,g].join(" "));t[E[P]]={attributes:Bl(L,()=>({})),attributesOrder:L,children:Bl(C,ie(GR))}}},f=(d,g)=>{const w=kn(d),C=kn(g);let E=w.length;for(;E--;){const P=t[w[E]];for(let L=0,k=C.length;L<k;L++)P.attributes[C[L]]={},P.attributesOrder.push(C[L])}};if(sd[e])return sd[e];if(n="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",s="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const d="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav "+d,s+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){n+=" xml:lang";const d="acronym applet basefont big font strike tt";s=[s,d].join(" "),$n(kn(d),w=>{l(w,"",s)});const g="center dir isindex noframes";r=[r,g].join(" "),o=[r,s].join(" "),$n(kn(g),w=>{l(w,"",o)})}return o=o||[r,s].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),l("address dt dd div caption","",o),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",s),l("blockquote","cite",o),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",o),l("dl","","dt dd"),l("a","href target rel media hreflang type",o),l("q","cite",s),l("ins del","cite datetime",o),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",o),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),l("param","name value"),l("map","name",[o,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",o),l("th","colspan rowspan headers scope abbr",o),l("form","accept-charset action autocomplete enctype method name novalidate target",o),l("fieldset","disabled form name",[o,"legend"].join(" ")),l("label","form for",s),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?o:s),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[o,"li"].join(" ")),l("noscript","",o),e!=="html4"&&(l("wbr"),l("ruby","",[s,"rt rp"].join(" ")),l("figcaption","",o),l("mark rt rp summary bdi","",s),l("canvas","width height",o),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[s,"option"].join(" ")),l("article section nav aside main header footer","",o),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[o,"figcaption"].join(" ")),l("time","datetime",s),l("dialog","open",o),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",s),l("progress","value max",s),l("meter","value min max low high optimum",s),l("details","open",[o,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid code codebase codetype archive standby align border hspace vspace"),f("embed","align name hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br","clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li","type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),f("area","nohref"),f("body","background bgcolor text link vlink alink")),e!=="html4"&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("img","loading"),f("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&ue([t.video,t.audio],d=>{delete d.children.audio,delete d.children.video}),$n(kn("a form meter progress dfn"),d=>{t[d]&&delete t[d].children[d]}),delete t.caption.children.table,delete t.script,sd[e]=t,t},Fp=(e,t)=>{if(e){const n={};return V(e)&&(e={"*":e}),$n(e,(r,s)=>{n[s]=n[s.toUpperCase()]=t==="map"?Zi(r,/[, ]/):AC(r,/[, ]/)}),n}else return},Yo=(e={})=>{var t;const n={},r={};let s=[];const o={},l={},f=(qe,dt,Kt)=>{const St=e[qe];if(St)return Zi(St,/[, ]/,Zi(St.toUpperCase(),/[, ]/));{let Wt=od[qe];return Wt||(Wt=DC(dt,Kt),od[qe]=Wt),Wt}},d=(t=e.schema)!==null&&t!==void 0?t:"html5",g=XR(d);e.verify_html===!1&&(e.valid_elements="*[*]");const w=Fp(e.valid_styles),C=Fp(e.invalid_styles,"map"),E=Fp(e.valid_classes,"map"),P=f("whitespace_elements","pre script noscript style textarea video audio iframe object code"),L=f("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),k=f("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),B=f("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),j="td th iframe video audio object script code",H=f("non_empty_elements",j+" pre",k),G=f("move_caret_before_on_enter_elements",j+" table",k),K=f("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),oe=f("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",K),ye=f("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),me=f("transparent_elements","a ins del canvas map");$n("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),qe=>{l[qe]=new RegExp("</"+qe+"[^>]*>","gi")});const ee=qe=>new RegExp("^"+qe.replace(/([?+*])/g,".$1")+"$"),Z=qe=>{const dt=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Kt=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,St=/[*?+]/;if(qe){const Wt=kn(qe,",");let jt,Pt;n["@"]&&(jt=n["@"].attributes,Pt=n["@"].attributesOrder);for(let Yt=0,Rr=Wt.length;Yt<Rr;Yt++){let xn=dt.exec(Wt[Yt]);if(xn){const hs=xn[1],hr=xn[2],gi=xn[3],vi=xn[5],ms={},Vr=[],tn={attributes:ms,attributesOrder:Vr};if(hs==="#"&&(tn.paddEmpty=!0),hs==="-"&&(tn.removeEmpty=!0),xn[4]==="!"&&(tn.removeEmptyAttrs=!0),jt&&(Nt(jt,(Nr,ps)=>{ms[ps]=Nr}),Pt&&Vr.push(...Pt)),vi){const Nr=kn(vi,"|");for(let ps=0,Or=Nr.length;ps<Or;ps++)if(xn=Kt.exec(Nr[ps]),xn){const Pr={},Hs=xn[1],An=xn[2].replace(/[\\:]:/g,":"),So=xn[3],js=xn[4];if(Hs==="!"&&(tn.attributesRequired=tn.attributesRequired||[],tn.attributesRequired.push(An),Pr.required=!0),Hs==="-"){delete ms[An],Vr.splice(KR(Vr,An),1);continue}if(So&&(So==="="&&(tn.attributesDefault=tn.attributesDefault||[],tn.attributesDefault.push({name:An,value:js}),Pr.defaultValue=js),So==="~"&&(tn.attributesForced=tn.attributesForced||[],tn.attributesForced.push({name:An,value:js}),Pr.forcedValue=js),So==="<"&&(Pr.validValues=Zi(js,"?"))),St.test(An)){const qr=Pr;tn.attributePatterns=tn.attributePatterns||[],qr.pattern=ee(An),tn.attributePatterns.push(qr)}else ms[An]||Vr.push(An),ms[An]=Pr}}if(!jt&&hr==="@"&&(jt=ms,Pt=Vr),gi&&(tn.outputName=hr,n[gi]=tn),St.test(hr)){const Nr=tn;Nr.pattern=ee(hr),s.push(Nr)}else n[hr]=tn}}}},Se=qe=>{s=[],ue(Wn(n),dt=>{delete n[dt]}),Z(qe),$n(g,(dt,Kt)=>{r[Kt]=dt.children})},Ne=qe=>{const dt=/^(~)?(.+)$/;qe&&(delete od.text_block_elements,delete od.block_elements,$n(kn(qe,","),Kt=>{const St=dt.exec(Kt);if(St){const Wt=St[1]==="~",jt=Wt?"span":"div",Pt=St[2];if(r[Pt]=r[jt],o[Pt]=jt,H[Pt.toUpperCase()]={},H[Pt]={},Wt||(oe[Pt.toUpperCase()]={},oe[Pt]={}),!n[Pt]){let Yt=n[jt];Yt=Bp({},Yt),delete Yt.removeEmptyAttrs,delete Yt.removeEmpty,n[Pt]=Yt}$n(r,(Yt,Rr)=>{Yt[jt]&&(r[Rr]=Yt=Bp({},r[Rr]),Yt[Pt]=Yt[jt])})}}))},Ie=qe=>{const dt=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete sd[d],qe&&$n(kn(qe,","),Kt=>{const St=dt.exec(Kt);if(St){const Wt=St[1];let jt;Wt?jt=r[St[2]]:jt=r[St[2]]={"#comment":{}},jt=r[St[2]],$n(kn(St[3],"|"),Pt=>{Wt==="-"?delete jt[Pt]:jt[Pt]={}})}})},Ge=qe=>{const dt=n[qe];if(dt)return dt;let Kt=s.length;for(;Kt--;){const St=s[Kt];if(St.pattern.test(qe))return St}};e.valid_elements?Se(e.valid_elements):($n(g,(qe,dt)=>{n[dt]={attributes:qe.attributes,attributesOrder:qe.attributesOrder},r[dt]=qe.children}),$n(kn("strong/b em/i"),qe=>{const dt=kn(qe,"/");n[dt[1]].outputName=dt[0]}),$n(ye,(qe,dt)=>{n[dt]&&(e.padd_empty_block_inline_children&&(n[dt].paddInEmptyBlock=!0),n[dt].removeEmpty=!0)}),$n(kn("ol ul blockquote a table tbody"),qe=>{n[qe]&&(n[qe].removeEmpty=!0)}),$n(kn("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),qe=>{n[qe].paddEmpty=!0}),$n(kn("span"),qe=>{n[qe].removeEmptyAttrs=!0})),Ne(e.custom_elements),Ie(e.valid_children),Z(e.extended_valid_elements),Ie("+ol[ul|ol],+ul[ul|ol]"),$n({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(qe,dt)=>{n[dt]&&(n[dt].parentsRequired=kn(qe))}),e.invalid_elements&&$n(AC(e.invalid_elements),qe=>{n[qe]&&delete n[qe]}),Ge("span")||Z("span[!data-mce-type|*]");const nt=ie(w),gt=ie(C),wt=ie(E),Ht=ie(B),_n=ie(oe),an=ie(K),de=ie(ye),De=ie(Object.seal(k)),lt=ie(L),Ce=ie(H),Fe=ie(G),Le=ie(P),we=ie(me),et=ie(Object.seal(l)),Ze=(qe,dt)=>{const Kt=r[qe.toLowerCase()];return!!(Kt&&Kt[dt.toLowerCase()])},cn=(qe,dt)=>{const Kt=Ge(qe);if(Kt)if(dt){if(Kt.attributes[dt])return!0;const St=Kt.attributePatterns;if(St){let Wt=St.length;for(;Wt--;)if(St[Wt].pattern.test(dt))return!0}}else return!0;return!1},Rt=ie(o);return{type:d,children:r,elements:n,getValidStyles:nt,getValidClasses:wt,getBlockElements:_n,getInvalidStyles:gt,getVoidElements:De,getTextBlockElements:an,getTextInlineElements:de,getBoolAttrs:Ht,getElementRule:Ge,getSelfClosingElements:lt,getNonEmptyElements:Ce,getMoveCaretBeforeOnEnterElements:Fe,getWhitespaceElements:Le,getTransparentElements:we,getSpecialElements:et,isValidChild:Ze,isValid:cn,getCustomElements:Rt,addValidElements:Z,setValidElements:Se,addCustomElements:Ne,addValidChildren:Ie}},Ip=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,o={};let l,f;const d=Ds;t&&(l=t.getValidStyles(),f=t.getInvalidStyles());const g=(`\\" \\' \\; \\: ; : `+d).split(" ");for(let C=0;C<g.length;C++)o[g[C]]=d+C,o[d+C]=g[C];const w={parse:C=>{const E={};let P=!1;const L=e.url_converter,k=e.url_converter_scope||w,B=(ee,Z,Se)=>{const Ne=E[ee+"-top"+Z];if(!Ne)return;const Ie=E[ee+"-right"+Z];if(!Ie)return;const Ge=E[ee+"-bottom"+Z];if(!Ge)return;const nt=E[ee+"-left"+Z];if(!nt)return;const gt=[Ne,Ie,Ge,nt];let wt=gt.length-1;for(;wt--&&gt[wt]===gt[wt+1];);wt>-1&&Se||(E[ee+Z]=wt===-1?gt[0]:gt.join(" "),delete E[ee+"-top"+Z],delete E[ee+"-right"+Z],delete E[ee+"-bottom"+Z],delete E[ee+"-left"+Z])},j=ee=>{const Z=E[ee];if(!Z)return;const Se=Z.split(" ");let Ne=Se.length;for(;Ne--;)if(Se[Ne]!==Se[0])return!1;return E[ee]=Se[0],!0},H=(ee,Z,Se,Ne)=>{j(Z)&&j(Se)&&j(Ne)&&(E[ee]=E[Z]+" "+E[Se]+" "+E[Ne],delete E[Z],delete E[Se],delete E[Ne])},G=ee=>(P=!0,o[ee]),K=(ee,Z)=>(P&&(ee=ee.replace(/\uFEFF[0-9]/g,Se=>o[Se])),Z||(ee=ee.replace(/\\([\'\";:])/g,"$1")),ee),oe=ee=>String.fromCharCode(parseInt(ee.slice(1),16)),ye=ee=>ee.replace(/\\[0-9a-f]+/gi,oe),me=(ee,Z,Se,Ne,Ie,Ge)=>{if(Ie=Ie||Ge,Ie)return Ie=K(Ie),"'"+Ie.replace(/\'/g,"\\'")+"'";if(Z=K(Z||Se||Ne||""),!e.allow_script_urls){const nt=Z.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(nt)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(nt))return""}return L&&(Z=L.call(k,Z,"style")),"url('"+Z.replace(/\'/g,"\\'")+"')"};if(C){C=C.replace(/[\u0000-\u001F]/g,""),C=C.replace(/\\[\"\';:\uFEFF]/g,G).replace(/\"[^\"]+\"|\'[^\']+\'/g,Z=>Z.replace(/[;:]/g,G));let ee;for(;ee=r.exec(C);){r.lastIndex=ee.index+ee[0].length;let Z=ee[1].replace(s,"").toLowerCase(),Se=ee[2].replace(s,"");if(Z&&Se){if(Z=ye(Z),Se=ye(Se),Z.indexOf(d)!==-1||Z.indexOf('"')!==-1||!e.allow_script_urls&&(Z==="behavior"||/expression\s*\(|\/\*|\*\//.test(Se)))continue;Z==="font-weight"&&Se==="700"?Se="bold":(Z==="color"||Z==="background-color")&&(Se=Se.toLowerCase()),Se=Se.replace(n,me),E[Z]=P?K(Se,!0):Se}}B("border","",!0),B("border","-width"),B("border","-color"),B("border","-style"),B("padding",""),B("margin",""),H("border","border-width","border-style","border-color"),E.border==="medium none"&&delete E.border,E["border-image"]==="none"&&delete E["border-image"]}return E},serialize:(C,E)=>{let P="";const L=(B,j)=>{const H=j[B];if(H)for(let G=0,K=H.length;G<K;G++){const oe=H[G],ye=C[oe];ye&&(P+=(P.length>0?" ":"")+oe+": "+ye+";")}},k=(B,j)=>{if(!f||!j)return!0;let H=f["*"];return H&&H[B]?!1:(H=f[j],!(H&&H[B]))};return E&&l?(L("*",l),L(E,l)):Nt(C,(B,j)=>{B&&k(j,E)&&(P+=(P.length>0?" ":"")+j+": "+B+";")}),P}};return w},YR={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},JR=e=>e instanceof Event||Ke(e.initEvent),QR=e=>e.isDefaultPrevented===ht||e.isDefaultPrevented===Ye,ZR=e=>at(e.preventDefault)||JR(e),NC=(e,t)=>{const n=t??{};for(const r in e)Je(YR,r)||(n[r]=e[r]);return fe(e.composedPath)&&(n.composedPath=()=>e.composedPath()),n},Lp=(e,t,n,r)=>{var s;const o=NC(t,r);return o.type=e,at(o.target)&&(o.target=(s=o.srcElement)!==null&&s!==void 0?s:n),ZR(t)&&(o.preventDefault=()=>{o.defaultPrevented=!0,o.isDefaultPrevented=ht,Ke(t.preventDefault)&&t.preventDefault()},o.stopPropagation=()=>{o.cancelBubble=!0,o.isPropagationStopped=ht,Ke(t.stopPropagation)&&t.stopPropagation()},o.stopImmediatePropagation=()=>{o.isImmediatePropagationStopped=ht,o.stopPropagation()},QR(o)||(o.isDefaultPrevented=o.defaultPrevented===!0?ht:Ye,o.isPropagationStopped=o.cancelBubble===!0?ht:Ye,o.isImmediatePropagationStopped=Ye)),o},eN="mce-data-",tN=/^(?:mouse|contextmenu)|click/,Mp=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},ad=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},nN=e=>fe(e)&&tN.test(e.type),Cc=(e,t)=>{const n=Lp(e.type,e,document,t);if(nN(e)&&yt(e.pageX)&&!yt(e.clientX)){const r=n.target.ownerDocument||document,s=r.documentElement,o=r.body,l=n;l.pageX=e.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),l.pageY=e.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}return n},rN=(e,t,n)=>{const r=e.document,s={type:"ready"};if(n.domLoaded){t(s);return}const o=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,l=()=>{ad(e,"DOMContentLoaded",l),ad(e,"load",l),n.domLoaded||(n.domLoaded=!0,t(s)),e=null};o()?l():Mp(e,"DOMContentLoaded",l),n.domLoaded||Mp(e,"load",l)};class ja{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=eN+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,r,s){const o=this;let l;const f=window,d=E=>{o.executeHandlers(Cc(E||f.event),g)};if(!t||ce(t)||As(t))return r;let g;t[o.expando]?g=t[o.expando]:(g=o.count++,t[o.expando]=g,o.events[g]={}),s=s||t;const w=n.split(" ");let C=w.length;for(;C--;){let E=w[C],P=d,L=!1,k=!1;if(E==="DOMContentLoaded"&&(E="ready"),o.domLoaded&&E==="ready"&&t.readyState==="complete"){r.call(s,Cc({type:E}));continue}!o.hasFocusIn&&(E==="focusin"||E==="focusout")&&(L=!0,k=E==="focusin"?"focus":"blur",P=B=>{const j=Cc(B||f.event);j.type=j.type==="focus"?"focusin":"focusout",o.executeHandlers(j,g)}),l=o.events[g][E],l?E==="ready"&&o.domLoaded?r(Cc({type:E})):l.push({func:r,scope:s}):(o.events[g][E]=l=[{func:r,scope:s}],l.fakeName=k,l.capture=L,l.nativeHandler=P,E==="ready"?rN(t,P,o):Mp(t,k||E,P,L))}return t=l=null,r}unbind(t,n,r){if(!t||ce(t)||As(t))return this;const s=t[this.expando];if(s){let o=this.events[s];if(n){const l=n.split(" ");let f=l.length;for(;f--;){const d=l[f],g=o[d];if(g){if(r){let w=g.length;for(;w--;)if(g[w].func===r){const C=g.nativeHandler,E=g.fakeName,P=g.capture,L=g.slice(0,w).concat(g.slice(w+1));L.nativeHandler=C,L.fakeName=E,L.capture=P,o[d]=L}}(!r||g.length===0)&&(delete o[d],ad(t,g.fakeName||d,g.nativeHandler,g.capture))}}}else Nt(o,(l,f)=>{ad(t,l.fakeName||f,l.nativeHandler,l.capture)}),o={};for(const l in o)if(Je(o,l))return this;delete this.events[s];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,r){return this.dispatch(t,n,r)}dispatch(t,n,r){if(!t||ce(t)||As(t))return this;const s=Cc({type:n,target:t},r);do{const o=t[this.expando];o&&this.executeHandlers(s,o),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!s.isPropagationStopped());return this}clean(t){if(!t||ce(t)||As(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let r=n.length;for(;r--;)t=n[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const r=this.events[n],s=r&&r[t.type];if(s)for(let o=0,l=s.length;o<l;o++){const f=s[o];if(f&&f.func.call(f.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}ja.Event=new ja;const zp=pe.each,sN=pe.grep,Up="data-mce-style",oN=pe.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),wc=(e,t,n)=>{at(n)||n===""?vn(e,t):Zt(e,t,n)},OC=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),el=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,s=e.previousSibling;s;s=s.previousSibling){const o=s.nodeType;t&&ce(s)&&(o===r||!s.data.length)||(n++,r=o)}return n},PC=(e,t)=>{const n=er(t,"style"),r=e.serialize(e.parse(n),Ft(t));wc(t,Up,r)},aN=(e,t)=>Mt(e)?Je(oN,t)?e+"":e+"px":e,$C=(e,t,n)=>{const r=OC(t);at(n)||n===""?Uo(e,r):uc(e,r,aN(n,r))},iN=(e,t,n)=>{const r=t.keep_values,s={set:(l,f,d)=>{const g=U.fromDom(l);Ke(t.url_converter)&&fe(f)&&(f=t.url_converter.call(t.url_converter_scope||n(),String(f),d,l));const w="data-mce-"+d;wc(g,w,f),wc(g,d,f)},get:(l,f)=>{const d=U.fromDom(l);return er(d,"data-mce-"+f)||er(d,f)}},o={style:{set:(l,f)=>{const d=U.fromDom(l);r&&wc(d,Up,f),vn(d,"style"),V(f)&&zo(d,e.parse(f))},get:l=>{const f=U.fromDom(l),d=er(f,Up)||er(f,"style");return e.serialize(e.parse(d),Ft(f))}}};return r&&(o.href=o.src=s),o},Dt=(e,t={})=>{const n={},r=window,s={};let o=0;const l=!0,f=!0,d=SC.forElement(U.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),g=[],w=t.schema?t.schema:Yo({}),C=Ip({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),E=t.ownEvents?new ja:ja.Event,P=w.getBlockElements(),L=Y=>V(Y)?Je(P,Y):Ee(Y)&&(Je(P,Y.nodeName)||Wa(w,Y)),k=Y=>Y&&e&&V(Y)?e.getElementById(Y):Y,B=Y=>{const J=k(Y);return fe(J)?U.fromDom(J):null},j=(Y,J,he="")=>{let le;const Oe=B(Y);if(fe(Oe)&&On(Oe)){const ct=xl[J];ct&&ct.get?le=ct.get(Oe.dom,J):le=er(Oe,J)}return fe(le)?le:he},H=Y=>{const J=k(Y);return at(J)?[]:J.attributes},G=(Y,J,he)=>{De(Y,le=>{if(Ee(le)){const Oe=U.fromDom(le),ct=he===""?null:he,_t=er(Oe,J),xt=xl[J];xt&&xt.set?xt.set(Oe.dom,ct,J):wc(Oe,J,ct),_t!==ct&&t.onSetAttrib&&t.onSetAttrib({attrElm:Oe.dom,attrName:J,attrValue:ct})}})},K=(Y,J)=>Y.cloneNode(J),oe=()=>t.root_element||e.body,ye=Y=>{const J=jf(Y);return{x:J.x,y:J.y,w:J.width,h:J.height}},me=(Y,J)=>$R(e.body,k(Y),J),ee=(Y,J,he)=>{De(Y,le=>{const Oe=U.fromDom(le);$C(Oe,J,he),t.update_styles&&PC(C,Oe)})},Z=(Y,J)=>{De(Y,he=>{const le=U.fromDom(he);Nt(J,(Oe,ct)=>{$C(le,ct,Oe)}),t.update_styles&&PC(C,le)})},Se=(Y,J,he)=>{const le=k(Y);if(!(at(le)||!Ee(le)))return he?Mr(U.fromDom(le),OC(J)):(J=J.replace(/-(\D)/g,(Oe,ct)=>ct.toUpperCase()),J==="float"&&(J="cssFloat"),le.style?le.style[J]:void 0)},Ne=Y=>{const J=k(Y);if(!J)return{w:0,h:0};let he=Se(J,"width"),le=Se(J,"height");return(!he||he.indexOf("px")===-1)&&(he="0"),(!le||le.indexOf("px")===-1)&&(le="0"),{w:parseInt(he,10)||J.offsetWidth||J.clientWidth,h:parseInt(le,10)||J.offsetHeight||J.clientHeight}},Ie=Y=>{const J=k(Y),he=me(J),le=Ne(J);return{x:he.x,y:he.y,w:le.w,h:le.h}},Ge=(Y,J)=>{if(!Y)return!1;const he=$e(Y)?Y:[Y];return Xt(he,le=>wr(U.fromDom(le),J))},nt=(Y,J,he,le)=>{const Oe=[];let ct=k(Y);le=le===void 0;const _t=he||(oe().nodeName!=="BODY"?oe().parentNode:null);if(V(J))if(J==="*")J=Ee;else{const xt=J;J=bi=>Ge(bi,xt)}for(;ct&&!(ct===_t||at(ct.nodeType)||qo(ct)||Xi(ct));){if(!J||J(ct))if(le)Oe.push(ct);else return[ct];ct=ct.parentNode}return le?Oe:null},gt=(Y,J,he)=>{const le=nt(Y,J,he,!1);return le&&le.length>0?le[0]:null},wt=(Y,J,he)=>{let le=J;if(Y){V(J)&&(le=Oe=>Ge(Oe,J));for(let Oe=Y[he];Oe;Oe=Oe[he])if(Ke(le)&&le(Oe))return Oe}return null},Ht=(Y,J)=>wt(Y,J,"nextSibling"),_n=(Y,J)=>wt(Y,J,"previousSibling"),an=Y=>Ke(Y.querySelectorAll),de=(Y,J)=>{var he,le;const Oe=(le=(he=k(J))!==null&&he!==void 0?he:t.root_element)!==null&&le!==void 0?le:e;return an(Oe)?Un(Oe.querySelectorAll(Y)):[]},De=function(Y,J,he){const le=he??this;if($e(Y)){const Oe=[];return zp(Y,(ct,_t)=>{const xt=k(ct);xt&&Oe.push(J.call(le,xt,_t))}),Oe}else{const Oe=k(Y);return Oe?J.call(le,Oe):!1}},lt=(Y,J)=>{De(Y,he=>{Nt(J,(le,Oe)=>{G(he,Oe,le)})})},Ce=(Y,J)=>{De(Y,he=>{const le=U.fromDom(he);ji(le,J)})},Fe=(Y,J,he,le,Oe)=>De(Y,ct=>{const _t=V(J)?e.createElement(J):J;return fe(he)&&lt(_t,he),le&&(!V(le)&&le.nodeType?_t.appendChild(le):V(le)&&Ce(_t,le)),Oe?_t:ct.appendChild(_t)}),Le=(Y,J,he)=>Fe(e.createElement(Y),Y,J,he,!0),we=Xo.decode,et=Xo.encodeAllRaw,Ze=(Y,J,he="")=>{let le="<"+Y;for(const Oe in J)Cs(J,Oe)&&(le+=" "+Oe+'="'+et(J[Oe])+'"');return no(he)&&Je(w.getVoidElements(),Y)?le+" />":le+">"+he+"</"+Y+">"},cn=Y=>{const J=e.createElement("div"),he=e.createDocumentFragment();he.appendChild(J),Y&&(J.innerHTML=Y);let le;for(;le=J.firstChild;)he.appendChild(le);return he.removeChild(J),he},Rt=(Y,J)=>De(Y,he=>{const le=U.fromDom(he);return J&&ue(bn(le),Oe=>{Zn(Oe)&&Oe.dom.length===0?Ut(Oe):tr(le,Oe)}),Ut(le),le.dom}),qe=Y=>De(Y,J=>{const he=J.attributes;for(let le=he.length-1;le>=0;le--)J.removeAttributeNode(he.item(le))}),dt=Y=>C.parse(Y),Kt=(Y,J)=>C.serialize(Y,J),St=Y=>{if(gs!==Dt.DOM&&e===document){if(n[Y])return;n[Y]=!0}let J=e.getElementById("mceDefaultStyles");if(!J){J=e.createElement("style"),J.id="mceDefaultStyles",J.type="text/css";const he=e.head;he.firstChild?he.insertBefore(J,he.firstChild):he.appendChild(J)}J.styleSheet?J.styleSheet.cssText+=Y:J.appendChild(e.createTextNode(Y))},Wt=Y=>{Y||(Y=""),ue(Y.split(","),J=>{s[J]=!0,d.load(J).catch(ze)})},jt=(Y,J,he)=>{De(Y,le=>{if(Ee(le)){const Oe=U.fromDom(le),ct=J.split(" ");ue(ct,_t=>{fe(he)?(he?Cr:Fo)(Oe,_t):Vm(Oe,_t)})}})},Pt=(Y,J)=>{jt(Y,J,!0)},Yt=(Y,J)=>{jt(Y,J,!1)},Rr=(Y,J)=>{const he=B(Y),le=J.split(" ");return fe(he)&&vr(le,Oe=>nc(he,Oe))},xn=Y=>{De(Y,J=>Uo(U.fromDom(J),"display"))},hs=Y=>{De(Y,J=>uc(U.fromDom(J),"display","none"))},hr=Y=>{const J=B(Y);return fe(J)&&Po(Hi(J,"display"),"none")},gi=Y=>(Y||"mce_")+o++,vi=Y=>{const J=B(Y);return fe(J)?Ee(J.dom)?J.dom.outerHTML:lp(J):""},ms=(Y,J)=>{De(Y,he=>{Ee(he)&&(he.outerHTML=J)})},Vr=(Y,J)=>{const he=k(J);return De(Y,le=>{const Oe=he==null?void 0:he.parentNode,ct=he==null?void 0:he.nextSibling;return Oe&&(ct?Oe.insertBefore(le,ct):Oe.appendChild(le)),le})},tn=(Y,J,he)=>De(J,le=>{var Oe;const ct=$e(J)?Y.cloneNode(!0):Y;return he&&zp(sN(le.childNodes),_t=>{ct.appendChild(_t)}),(Oe=le.parentNode)===null||Oe===void 0||Oe.replaceChild(ct,le),le}),Nr=(Y,J)=>{if(Y.nodeName!==J.toUpperCase()){const he=Le(J);return zp(H(Y),le=>{G(he,le.nodeName,j(Y,le.nodeName))}),tn(he,Y,!0),he}else return Y},ps=(Y,J)=>{let he=Y;for(;he;){let le=J;for(;le&&he!==le;)le=le.parentNode;if(he===le)break;he=he.parentNode}return!he&&Y.ownerDocument?Y.ownerDocument.documentElement:he},Or=Y=>{if(Ee(Y)){const J=Y.nodeName.toLowerCase()==="a"&&!j(Y,"href")&&j(Y,"id");if(j(Y,"name")||j(Y,"data-mce-bookmark")||J)return!0}return!1},Pr=(Y,J)=>{let he=0;if(Or(Y))return!1;const le=Y.firstChild;if(le){const Oe=new sn(le,Y),ct=w?w.getWhitespaceElements():{},_t=J||(w?w.getNonEmptyElements():null);let xt=le;do{if(Ee(xt)){const bi=xt.getAttribute("data-mce-bogus");if(bi){xt=Oe.next(bi==="all");continue}const bu=xt.nodeName.toLowerCase();if(_t&&_t[bu]){if(bu==="br"){he++,xt=Oe.next();continue}return!1}if(Or(xt))return!1}if(As(xt)||ce(xt)&&!Ua(xt.data)||ce(xt)&&xt.parentNode&&ct[xt.parentNode.nodeName]&&Ua(xt.data))return!1;xt=Oe.next()}while(xt)}return he<=1},Hs=()=>e.createRange(),An=(Y,J,he)=>{let le=Hs(),Oe,ct;if(Y&&J&&Y.parentNode&&J.parentNode){const _t=Y.parentNode;return le.setStart(_t,el(Y)),le.setEnd(J.parentNode,el(J)),Oe=le.extractContents(),le=Hs(),le.setStart(J.parentNode,el(J)+1),le.setEnd(_t,el(Y)+1),ct=le.extractContents(),_t.insertBefore(Op(gs,Oe),Y),he?_t.insertBefore(he,Y):_t.insertBefore(J,Y),_t.insertBefore(Op(gs,ct),Y),Rt(Y),he||J}else return},So=(Y,J,he,le)=>{if($e(Y)){let Oe=Y.length;const ct=[];for(;Oe--;)ct[Oe]=So(Y[Oe],J,he,le);return ct}else return t.collect&&(Y===e||Y===r)&&g.push([Y,J,he,le]),E.bind(Y,J,he,le||gs)},js=(Y,J,he)=>{if($e(Y)){let le=Y.length;const Oe=[];for(;le--;)Oe[le]=js(Y[le],J,he);return Oe}else{if(g.length>0&&(Y===e||Y===r)){let le=g.length;for(;le--;){const[Oe,ct,_t]=g[le];Y===Oe&&(!J||J===ct)&&(!he||he===_t)&&E.unbind(Oe,ct,_t)}}return E.unbind(Y,J,he)}},qr=(Y,J,he)=>E.dispatch(Y,J,he),ua=(Y,J,he)=>E.dispatch(Y,J,he),vu=Y=>{if(Y&&Ee(Y)){const J=Y.getAttribute("data-mce-contenteditable");return J&&J!=="inherit"?J:Y.contentEditable!=="inherit"?Y.contentEditable:null}else return null},gs={doc:e,settings:t,win:r,files:s,stdMode:l,boxModel:f,styleSheetLoader:d,boundEvents:g,styles:C,schema:w,events:E,isBlock:L,root:null,clone:K,getRoot:oe,getViewPort:ye,getRect:Ie,getSize:Ne,getParent:gt,getParents:nt,get:k,getNext:Ht,getPrev:_n,select:de,is:Ge,add:Fe,create:Le,createHTML:Ze,createFragment:cn,remove:Rt,setStyle:ee,getStyle:Se,setStyles:Z,removeAllAttribs:qe,setAttrib:G,setAttribs:lt,getAttrib:j,getPos:me,parseStyle:dt,serializeStyle:Kt,addStyle:St,loadCSS:Wt,addClass:Pt,removeClass:Yt,hasClass:Rr,toggleClass:jt,show:xn,hide:hs,isHidden:hr,uniqueId:gi,setHTML:Ce,getOuterHTML:vi,setOuterHTML:ms,decode:we,encode:et,insertAfter:Vr,replace:tn,rename:Nr,findCommonAncestor:ps,run:De,getAttribs:H,isEmpty:Pr,createRng:Hs,nodeIndex:el,split:An,bind:So,unbind:js,fire:ua,dispatch:qr,getContentEditable:vu,getContentEditableParent:Y=>{const J=oe();let he=null;for(let le=Y;le&&le!==J&&(he=vu(le),he===null);le=le.parentNode);return he},isEditable:Y=>{if(fe(Y)){const J=Ee(Y)?Y:Y.parentElement,he=vu(oe())==="true";return fe(J)&&Ui(U.fromDom(J),he)}else return!1},destroy:()=>{if(g.length>0){let Y=g.length;for(;Y--;){const[J,he,le]=g[Y];E.unbind(J,he,le)}}Nt(s,(Y,J)=>{d.unload(J),delete s[J]})},isChildOf:(Y,J)=>Y===J||J.contains(Y),dumpRng:Y=>"startContainer: "+Y.startContainer.nodeName+", startOffset: "+Y.startOffset+", endContainer: "+Y.endContainer.nodeName+", endOffset: "+Y.endOffset},xl=iN(C,t,ie(gs));return gs};Dt.DOM=Dt(document),Dt.nodeIndex=el;const lN=Dt.DOM,cN=0,uN=1,id=2,BC=3;class vo{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,r)=>{const s=lN;let o;const l=()=>{s.remove(g),o&&(o.onerror=o.onload=o=null)},f=()=>{l(),n()},d=()=>{l(),r("Failed to load script: "+t)},g=s.uniqueId();o=document.createElement("script"),o.id=g,o.type="text/javascript",o.src=pe._addCacheSuffix(t),this.settings.referrerPolicy&&s.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=f,o.onerror=d,(document.getElementsByTagName("head")[0]||document.body).appendChild(o)})}isDone(t){return this.states[t]===id}markDone(t){this.states[t]=id}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=cN),new Promise((s,o)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:s,reject:o})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,r=(d,g)=>{Bt(n.scriptLoadedCallbacks,g).each(w=>{ue(w,C=>C[d](g))}),delete n.scriptLoadedCallbacks[g]},s=d=>{const g=He(d,w=>w.status==="rejected");return g.length>0?Promise.reject(Ir(g,({reason:w})=>$e(w)?w:[w])):Promise.resolve()},o=d=>Promise.allSettled(mt(d,g=>n.states[g]===id?(r("resolve",g),Promise.resolve()):n.states[g]===BC?(r("reject",g),Promise.reject(g)):(n.states[g]=uN,n.loadScript(g).then(()=>{n.states[g]=id,r("resolve",g);const w=n.queue;return w.length>0?(n.queue=[],o(w).then(s)):Promise.resolve()},()=>(n.states[g]=BC,r("reject",g),Promise.reject(g)))))),l=d=>(n.loading=!0,o(d).then(g=>{n.loading=!1;const w=n.queueLoadedCallbacks.shift();return x.from(w).each(ys),s(g)})),f=Jr(t);return n.loading?new Promise((d,g)=>{n.queueLoadedCallbacks.push(()=>l(f).then(d,g))}):l(f)}}vo.ScriptLoader=new vo;const yn=e=>{let t=e;return{get:()=>t,set:s=>{t=s}}},fN=e=>be(e)&&Je(e,"raw"),dN=e=>$e(e)&&e.length>1,Sc={},Wp=yn("en"),FC=()=>Bt(Sc,Wp.get()),as={getData:()=>xi(Sc,e=>({...e})),setCode:e=>{e&&Wp.set(e)},getCode:()=>Wp.get(),add:(e,t)=>{let n=Sc[e];n||(Sc[e]=n={}),Nt(t,(r,s)=>{n[s.toLowerCase()]=r})},translate:e=>{const t=FC().getOr({}),n=l=>Ke(l)?Object.prototype.toString.call(l):r(l)?"":""+l,r=l=>l===""||l===null||l===void 0,s=l=>{const f=n(l);return Bt(t,f.toLowerCase()).map(n).getOr(f)},o=l=>l.replace(/{context:\w+}$/,"");if(r(e))return"";if(fN(e))return n(e.raw);if(dN(e)){const l=e.slice(1),f=s(e[0]).replace(/\{([0-9]+)\}/g,(d,g)=>Je(l,g)?n(l[g]):d);return o(f)}return o(s(e))},isRtl:()=>FC().bind(e=>Bt(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Je(Sc,e)},Fn=()=>{const e=[],t={},n={},r=[],s=(k,B)=>{const j=He(r,H=>H.name===k&&H.state===B);ue(j,H=>H.resolve())},o=k=>Je(t,k),l=k=>Je(n,k),f=k=>{if(n[k])return n[k].instance},d=(k,B)=>{const j=as.getCode(),H=","+(B||"")+",";!j||B&&H.indexOf(","+j+",")===-1||vo.ScriptLoader.add(t[k]+"/langs/"+j+".js")},g=(k,B)=>{Fn.languageLoad!==!1&&(o(k)?d(k,B):L(k,"loaded").then(()=>d(k,B)))},w=(k,B)=>(e.push(B),n[k]={instance:B},s(k,"added"),B),C=k=>{delete t[k],delete n[k]},E=(k,B)=>V(B)?V(k)?{prefix:"",resource:B,suffix:""}:{prefix:k.prefix,resource:B,suffix:k.suffix}:B,P=(k,B)=>{if(t[k])return Promise.resolve();let j=V(B)?B:B.prefix+B.resource+B.suffix;j.indexOf("/")!==0&&j.indexOf("://")===-1&&(j=Fn.baseURL+"/"+j),t[k]=j.substring(0,j.lastIndexOf("/"));const H=()=>(s(k,"loaded"),Promise.resolve());return n[k]?H():vo.ScriptLoader.add(j).then(H)},L=(k,B="added")=>B==="added"&&l(k)||B==="loaded"&&o(k)?Promise.resolve():new Promise(j=>{r.push({name:k,state:B,resolve:j})});return{items:e,urls:t,lookup:n,get:f,requireLangPack:g,add:w,remove:C,createUrl:E,load:P,waitFor:L}};Fn.languageLoad=!0,Fn.baseURL="",Fn.PluginManager=Fn(),Fn.ThemeManager=Fn(),Fn.ModelManager=Fn();const hN=e=>{const t=yn(x.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(x.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:f=>{n(),t.set(x.some(f))}}},mN=e=>{const t=yn(x.none()),n=()=>t.get().each(f=>clearInterval(f));return{clear:()=>{n(),t.set(x.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:f=>{n(),t.set(x.some(setInterval(f,e)))}}},Jo=()=>{const e=hN(ze);return{...e,on:n=>e.get().each(n)}},ld=(e,t)=>{let n=null;return{cancel:()=>{tt(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{tt(n)&&(n=setTimeout(()=>{n=null,e.apply(null,o)},t))}}},Hp=(e,t)=>{let n=null;const r=()=>{tt(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...o)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,o)},t)}}},Ec=ie("mce-annotation"),Va=ie("data-mce-annotation"),tl=ie("data-mce-annotation-uid"),_c=ie("data-mce-annotation-active"),xc=ie("data-mce-annotation-classes"),Tc=ie("data-mce-annotation-attrs"),IC=e=>t=>bt(t,e),LC=(e,t)=>{const n=e.selection.getRng(),r=U.fromDom(n.startContainer),s=U.fromDom(e.getBody()),o=t.fold(()=>"."+Ec(),d=>`[${Va()}="${d}"]`),l=zi(r,n.startOffset).getOr(r);return lo(l,o,IC(s)).bind(d=>Zr(d,`${tl()}`).bind(g=>Zr(d,`${Va()}`).map(w=>{const C=zC(e,g);return{uid:g,name:w,elements:C}})))},pN=e=>On(e)&&nc(e,Ec()),MC=(e,t)=>Bi(e,"data-mce-bogus")||qf(e,'[data-mce-bogus="all"]',IC(t)),zC=(e,t)=>{const n=U.fromDom(e.getBody()),r=Sn(n,`[${tl()}="${t}"]`);return He(r,s=>!MC(s,n))},UC=(e,t)=>{const n=U.fromDom(e.getBody()),r=Sn(n,`[${Va()}="${t}"]`),s={};return ue(r,o=>{if(!MC(o,n)){const l=er(o,tl()),f=Bt(s,l).getOr([]);s[l]=f.concat([o])}}),s},gN=(e,t)=>{const n=yn({}),r=()=>({listeners:[],previous:Jo()}),s=(C,E)=>{o(C,P=>(E(P),P))},o=(C,E)=>{const P=n.get(),L=Bt(P,C).getOrThunk(r),k=E(L);P[C]=k,n.set(P)},l=(C,E,P)=>{s(C,L=>{ue(L.listeners,k=>k(!0,C,{uid:E,nodes:mt(P,B=>B.dom)}))})},f=C=>{s(C,E=>{ue(E.listeners,P=>P(!1,C))})},d=(C,E)=>{ue(zC(e,C),P=>{E?Zt(P,_c(),"true"):vn(P,_c())})},g=Hp(()=>{const C=Ys(t.getNames());ue(C,E=>{o(E,P=>{const L=P.previous.get();return LC(e,x.some(E)).fold(()=>{L.each(k=>{f(E),P.previous.clear(),d(k,!1)})},({uid:k,name:B,elements:j})=>{Po(L,k)||(L.each(H=>d(H,!1)),l(B,k,j),P.previous.set(k),d(k,!0))}),{previous:P.previous,listeners:P.listeners}})})},30);return e.on("remove",()=>{g.cancel()}),e.on("NodeChange",()=>{g.throttle()}),{addListener:(C,E)=>{o(C,P=>({previous:P.previous,listeners:P.listeners.concat([E])}))}}},vN=(e,t)=>{const n=Va(),r=o=>x.from(o.attr(n)).bind(t.lookup),s=o=>{var l,f;o.attr(tl(),null),o.attr(Va(),null),o.attr(_c(),null);const d=x.from(o.attr(Tc())).map(E=>E.split(",")).getOr([]),g=x.from(o.attr(xc())).map(E=>E.split(",")).getOr([]);ue(d,E=>o.attr(E,null));const w=(f=(l=o.attr("class"))===null||l===void 0?void 0:l.split(" "))!==null&&f!==void 0?f:[],C=Xr(w,[Ec()].concat(g));o.attr("class",C.length>0?C.join(" "):null),o.attr(xc(),null),o.attr(Tc(),null)};e.serializer.addTempAttr(_c()),e.serializer.addAttributeFilter(n,o=>{for(const l of o)r(l).each(f=>{f.persistent===!1&&(l.name==="span"?l.unwrap():s(l))})})},bN=()=>{const e={};return{register:(s,o)=>{e[s]={name:s,settings:o}},lookup:s=>Bt(e,s).map(o=>o.settings),getNames:()=>Wn(e)}};let WC=0;const HC=e=>{const n=new Date().getTime(),r=Math.floor(Math.random()*1e9);return WC++,e+"_"+r+WC+String(n)},yN=(e,t)=>{ue(t,n=>{Cr(e,n)})},CN=(e,t)=>{ue(t,n=>{Fo(e,n)})},jC=(e,t)=>U.fromDom(e.dom.cloneNode(t)),qa=e=>jC(e,!1),VC=e=>jC(e,!0),wN=(e,t)=>{const n=U.fromTag(t),r=Ql(e);return xs(n,r),n},SN=(e,t)=>{const n=wN(e,t);Ts(e,n);const r=bn(e);return uo(n,r),Ut(e),n},qC=(e,t,n=Ye)=>{const r=new sn(e,t),s=o=>{let l;do l=r[o]();while(l&&!ce(l)&&!n(l));return x.from(l).filter(ce)};return{current:()=>x.from(r.current()).filter(ce),next:()=>s("next"),prev:()=>s("prev"),prev2:()=>s("prev2")}},Ga=(e,t)=>{const n=t||(l=>e.isBlock(l)||Gt(l)||At(l)),r=(l,f,d,g)=>{if(ce(l)){const w=g(l,f,l.data);if(w!==-1)return x.some({container:l,offset:w})}return d().bind(w=>r(w.container,w.offset,d,g))};return{backwards:(l,f,d,g)=>{const w=qC(l,g??e.getRoot(),n);return r(l,f,()=>w.prev().map(C=>({container:C,offset:C.length})),d).getOrNull()},forwards:(l,f,d,g)=>{const w=qC(l,g??e.getRoot(),n);return r(l,f,()=>w.next().map(C=>({container:C,offset:0})),d).getOrNull()}}},nl=Math.round,Ka=e=>e?{left:nl(e.left),top:nl(e.top),bottom:nl(e.bottom),right:nl(e.right),width:nl(e.width),height:nl(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},GC=(e,t)=>(e=Ka(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),EN=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,KC=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,kc=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:KC(t.top-e.bottom,e,t)},Ac=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:KC(t.bottom-e.top,e,t),_N=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,xN=e=>fn(e,(t,n)=>t.fold(()=>x.some(n),r=>{const s=Math.min(n.left,r.left),o=Math.min(n.top,r.top),l=Math.max(n.right,r.right),f=Math.max(n.bottom,r.bottom);return x.some({top:o,right:l,bottom:f,left:s,width:l-s,height:f-o})}),x.none()),XC=(e,t,n)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),s=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-s)*(n-s))},TN=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),kN=(e,t,n)=>Math.min(Math.max(e,t),n),cd=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Qo=(e,t)=>{if(Ee(e)&&e.hasChildNodes()){const n=e.childNodes,r=kN(t,0,n.length-1);return n[r]}else return e},AN=(e,t)=>{if(!(t<0&&Ee(e)&&e.hasChildNodes()))return Qo(e,t)},DN=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),YC=e=>V(e)&&e.charCodeAt(0)>=768&&DN.test(e),RN=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},NN=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},JC=Ee,ON=Wr,QC=Ma("display","block table"),PN=Ma("float","left right"),Dc=NN(JC,ON,ir(PN)),$N=ir(Ma("white-space","pre pre-line pre-wrap")),Rc=ce,jp=Gt,ZC=Dt.nodeIndex,ud=AN,Vp=e=>e?e.createRange():Dt.DOM.createRng(),qp=e=>V(e)&&/[\r\n\t ]/.test(e),e0=e=>!!e.setStart&&!!e.setEnd,Gp=e=>{const t=e.startContainer,n=e.startOffset;if(qp(e.toString())&&$N(t.parentNode)&&ce(t)){const r=t.data;if(qp(r[n-1])||qp(r[n+1]))return!0}return!1},BN=e=>{const t=e.ownerDocument,n=Vp(t),r=t.createTextNode(dn),s=e.parentNode;s.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);const o=Ka(n.getBoundingClientRect());return s.removeChild(r),o},FN=e=>{const t=e.startContainer,n=e.endContainer,r=e.startOffset,s=e.endOffset;if(t===n&&ce(n)&&r===0&&s===1){const o=e.cloneRange();return o.setEndAfter(n),Zo(o)}else return null},t0=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Zo=e=>{var t;let n;const r=e.getClientRects();return r.length>0?n=Ka(r[0]):n=Ka(e.getBoundingClientRect()),!e0(e)&&jp(e)&&t0(n)?BN(e):t0(n)&&e0(e)&&(t=FN(e))!==null&&t!==void 0?t:n},Xa=(e,t)=>{const n=GC(e,t);return n.width=1,n.right=n.left+1,n},IN=e=>{const t=[],n=l=>{l.height!==0&&(t.length>0&&EN(l,t[t.length-1])||t.push(l))},r=(l,f)=>{const d=Vp(l.ownerDocument);if(f<l.data.length){if(YC(l.data[f]))return;if(YC(l.data[f-1])&&(d.setStart(l,f),d.setEnd(l,f+1),!Gp(d))){n(Xa(Zo(d),!1));return}}f>0&&(d.setStart(l,f-1),d.setEnd(l,f),Gp(d)||n(Xa(Zo(d),!1))),f<l.data.length&&(d.setStart(l,f),d.setEnd(l,f+1),Gp(d)||n(Xa(Zo(d),!0)))},s=e.container(),o=e.offset();if(Rc(s))return r(s,o),t;if(JC(s))if(e.isAtEnd()){const l=ud(s,o);Rc(l)&&r(l,l.data.length),Dc(l)&&!jp(l)&&n(Xa(Zo(l),!1))}else{const l=ud(s,o);if(Rc(l)&&r(l,0),Dc(l)&&e.isAtEnd())return n(Xa(Zo(l),!1)),t;const f=ud(e.container(),e.offset()-1);Dc(f)&&!jp(f)&&(QC(f)||QC(l)||!Dc(l))&&n(Xa(Zo(f),!1)),Dc(l)&&n(Xa(Zo(l),!0))}return t},re=(e,t,n)=>{const r=()=>(Rc(e),t===0),s=()=>Rc(e)?t>=e.data.length:t>=e.childNodes.length,o=()=>{const w=Vp(e.ownerDocument);return w.setStart(e,t),w.setEnd(e,t),w},l=()=>(n||(n=IN(re(e,t))),n),f=()=>l().length>0,d=w=>w&&e===w.container()&&t===w.offset(),g=w=>ud(e,w?t-1:t);return{container:ie(e),offset:ie(t),toRange:o,getClientRects:l,isVisible:f,isAtStart:r,isAtEnd:s,isEqual:d,getNode:g}};re.fromRangeStart=e=>re(e.startContainer,e.startOffset),re.fromRangeEnd=e=>re(e.endContainer,e.endOffset),re.after=e=>re(e.parentNode,ZC(e)+1),re.before=e=>re(e.parentNode,ZC(e)),re.isAbove=(e,t)=>Nn(Rn(t.getClientRects()),Js(e.getClientRects()),kc).getOr(!1),re.isBelow=(e,t)=>Nn(Js(t.getClientRects()),Rn(e.getClientRects()),Ac).getOr(!1),re.isAtStart=e=>e?e.isAtStart():!1,re.isAtEnd=e=>e?e.isAtEnd():!1,re.isTextPosition=e=>e?ce(e.container()):!1,re.isElementPosition=e=>!re.isTextPosition(e);const fd=(e,t)=>{ce(t)&&t.data.length===0&&e.remove(t)},LN=(e,t,n)=>{t.insertNode(n),fd(e,n.previousSibling),fd(e,n.nextSibling)},MN=(e,t,n)=>{const r=x.from(n.firstChild),s=x.from(n.lastChild);t.insertNode(n),r.each(o=>fd(e,o.previousSibling)),s.each(o=>fd(e,o.nextSibling))},Kp=(e,t,n)=>{Xi(n)?MN(e,t,n):LN(e,t,n)},is=ce,n0=ho,r0=Dt.nodeIndex,s0=e=>{const t=e.parentNode;return n0(t)?s0(t):t},Xp=e=>e?wn(e.childNodes,(t,n)=>(n0(n)&&n.nodeName!=="BR"?t=t.concat(Xp(n)):t.push(n),t),[]):[],zN=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&is(n);)t+=n.data.length;return t},o0=e=>t=>e===t,UN=e=>{let t,n;t=Xp(s0(e)),n=Vu(t,o0(e),e),t=t.slice(0,n+1);const r=wn(t,(s,o,l)=>(is(o)&&is(t[l-1])&&s++,s),0);return t=Ro(t,Hn([e.nodeName])),n=Vu(t,o0(e),e),n-r},a0=e=>(is(e)?"text()":e.nodeName.toLowerCase())+"["+UN(e)+"]",WN=(e,t,n)=>{const r=[];for(let s=t.parentNode;s&&s!==e&&!(n&&n(s));s=s.parentNode)r.push(s);return r},i0=(e,t)=>{let n=[],r=t.container(),s=t.offset(),o;if(is(r))o=zN(r,s);else{const f=r.childNodes;s>=f.length?(o="after",s=f.length-1):o="before",r=f[s]}n.push(a0(r));let l=WN(e,r);return l=Ro(l,ir(ho)),n=n.concat(ki(l,f=>a0(f))),n.reverse().join("/")+","+o},HN=(e,t,n)=>{let r=Xp(e);return r=Ro(r,(s,o)=>!is(s)||!is(r[o-1])),r=Ro(r,Hn([t])),r[n]},jN=(e,t)=>{let n=e,r=0;for(;is(n);){const s=n.data.length;if(t>=r&&t<=r+s){e=n,t=t-r;break}if(!is(n.nextSibling)){e=n,t=s;break}r+=s,n=n.nextSibling}return is(e)&&t>e.data.length&&(t=e.data.length),re(e,t)},l0=(e,t)=>{if(!t)return null;const n=t.split(","),r=n[0].split("/"),s=n.length>1?n[1]:"before",o=wn(r,(l,f)=>{const d=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(f);return d?(d[1]==="text()"&&(d[1]="#text"),HN(l,d[1],parseInt(d[2],10))):null},e);if(!o)return null;if(!is(o)&&o.parentNode){let l;return s==="after"?l=r0(o)+1:l=r0(o),re(o.parentNode,l)}return jN(o,parseInt(s,10))},dd=At,VN=(e,t,n)=>{let r=e(t.data.slice(0,n)).length;for(let s=t.previousSibling;s&&ce(s);s=s.previousSibling)r+=e(s.data).length;return r},c0=(e,t,n,r,s)=>{const o=s?r.startContainer:r.endContainer;let l=s?r.startOffset:r.endOffset;const f=[],d=e.getRoot();if(ce(o))f.push(n?VN(t,o,l):l);else{let g=0;const w=o.childNodes;l>=w.length&&w.length&&(g=1,l=Math.max(0,w.length-1)),f.push(e.nodeIndex(w[l],n)+g)}for(let g=o;g&&g!==d;g=g.parentNode)f.push(e.nodeIndex(g,n));return f},qN=(e,t,n,r)=>{const s=t.dom,o=c0(s,e,n,r,!0),l=t.isForward(),f=Ko(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:o,forward:l,...f};{const d=c0(s,e,n,r,!1);return{start:o,end:d,forward:l,...f}}},Yp=(e,t,n)=>{let r=0;return pe.each(e.select(t),s=>{if(s.getAttribute("data-mce-bogus")!=="all"){if(s===n)return!1;r++;return}}),r},u0=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(Ee(n)&&n.nodeName==="TR"){const s=n.childNodes;n=s[Math.min(t?r:r-1,s.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},f0=e=>(u0(e,!0),u0(e,!1),e),d0=(e,t)=>{if(Ee(e)&&(e=Qo(e,t),dd(e)))return e;if(rt(e)){ce(e)&&Be(e)&&(e=e.parentNode);let n=e.previousSibling;if(dd(n)||(n=e.nextSibling,dd(n)))return n}},GN=e=>d0(e.startContainer,e.startOffset)||d0(e.endContainer,e.endOffset),h0=(e,t,n)=>{const r=n.getNode(),s=n.getRng();if(r.nodeName==="IMG"||dd(r)){const l=r.nodeName;return{name:l,index:Yp(n.dom,l,r)}}const o=GN(s);if(o){const l=o.tagName;return{name:l,index:Yp(n.dom,l,o)}}return qN(e,n,t,s)},KN=e=>{const t=e.getRng();return{start:i0(e.dom.getRoot(),re.fromRangeStart(t)),end:i0(e.dom.getRoot(),re.fromRangeEnd(t)),forward:e.isForward()}},XN=e=>({rng:e.getRng(),forward:e.isForward()}),m0=(e,t,n)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},p0=(e,t)=>{const n=e.dom;let r=e.getRng();const s=n.uniqueId(),o=e.isCollapsed(),l=e.getNode(),f=l.nodeName,d=e.isForward();if(f==="IMG")return{name:f,index:Yp(n,f,l)};const g=f0(r.cloneRange());if(!o){g.collapse(!1);const C=m0(n,s+"_end",t);Kp(n,g,C)}r=f0(r),r.collapse(!0);const w=m0(n,s+"_start",t);return Kp(n,r,w),e.moveToBookmark({id:s,keep:!0,forward:d}),{id:s,forward:d}},YN=(e,t,n=!1)=>t===2?h0(ge,n,e):t===3?KN(e):t?XN(e):p0(e,!1),Jp=xe(h0,zt,!0),g0=e=>{const t=o=>o(e),n=ie(e),r=()=>s,s={tag:!0,inner:e,fold:(o,l)=>l(e),isValue:ht,isError:Ye,map:o=>Vn.value(o(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:o=>{o(e)},toOptional:()=>x.some(e)};return s},v0=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(r,s)=>r(e),isValue:Ye,isError:ht,map:t,mapError:r=>Vn.error(r(e)),bind:t,exists:Ye,forall:ht,getOr:zt,or:zt,getOrThunk:To,orThunk:To,getOrDie:bs(String(e)),each:ze,toOptional:x.none};return n},Vn={value:g0,error:v0,fromOption:(e,t)=>e.fold(()=>v0(t),g0)},Os={generate:e=>{if(!$e(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return ue(e,(r,s)=>{const o=Wn(r);if(o.length!==1)throw new Error("one and only one name per case");const l=o[0],f=r[l];if(n[l]!==void 0)throw new Error("duplicate key detected:"+l);if(l==="cata")throw new Error("cannot have a case named cata (sorry)");if(!$e(f))throw new Error("case arguments must be an array");t.push(l),n[l]=(...d)=>{const g=d.length;if(g!==f.length)throw new Error("Wrong number of arguments to case "+l+". Expected "+f.length+" ("+f+"), got "+g);return{fold:(...C)=>{if(C.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+C.length);return C[s].apply(null,d)},match:C=>{const E=Wn(C);if(t.length!==E.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+E.join(","));if(!vr(t,L=>kt(E,L)))throw new Error("Not all branches were specified when using match. Specified: "+E.join(", ")+`
Required: `+t.join(", "));return C[l].apply(null,d)},log:C=>{console.log(C,{constructors:t,constructor:l,params:d})}}}}),n}};Os.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const JN=e=>{const t=[],n=[];return ue(e,r=>{r.fold(s=>{t.push(s)},s=>{n.push(s)})}),{errors:t,values:n}},QN=e=>e.type==="inline-command"||e.type==="inline-format",ZN=e=>e.type==="block-command"||e.type==="block-format",eO=e=>{const t=r=>Vn.error({message:r,pattern:e}),n=(r,s,o)=>{if(e.format!==void 0){let l;if($e(e.format)){if(!vr(e.format,V))return t(r+" pattern has non-string items in the `format` array");l=e.format}else if(V(e.format))l=[e.format];else return t(r+" pattern has non-string `format` parameter");return Vn.value(s(l))}else return e.cmd!==void 0?V(e.cmd)?Vn.value(o(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!be(e))return t("Raw pattern is not an object");if(!V(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!V(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,s=e.end;return s.length===0&&(s=r,r=""),n("Inline",o=>({type:"inline-format",start:r,end:s,format:o}),(o,l)=>({type:"inline-command",start:r,end:s,cmd:o,value:l}))}else return e.replacement!==void 0?V(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):Vn.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?t("Block pattern has empty `start` parameter"):n("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,s)=>({type:"block-command",start:e.start,cmd:r,value:s}))},b0=e=>He(e,ZN),y0=e=>He(e,QN),tO=(e,t)=>({inlinePatterns:y0(e),blockPatterns:b0(e),dynamicPatternsLookup:t}),C0=e=>{const t=JN(mt(e,eO));return ue(t.errors,n=>console.error(n.message,n.pattern)),t.values},nO=e=>t=>{const n=e(t);return C0(n)},Qp=Es().deviceType,rO=Qp.isTouch(),sO=Dt.DOM,oO=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return fn(t,(n,r)=>{const s=r.split("="),o=s[0],l=s.length>1?s[1]:o;return n[ws(o)]=ws(l),n},{})},w0=e=>O(e,RegExp),ke=e=>t=>t.options.get(e),Zp=e=>V(e)||be(e),S0=(e,t="")=>n=>{const r=V(n);if(r)if(n.indexOf("=")!==-1){const s=oO(n);return{value:Bt(s,e.id).getOr(t),valid:r}}else return{value:n,valid:r};else return{valid:!1,message:"Must be a string."}},aO=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:S0(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:S0(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const r=V(n)&&br(n);return r?{value:n,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const r=kt(["block","linebreak","invert","default"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>ut(n)?{valid:!0,value:n}:V(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const r=n===!1||V(n)||ft(n,V);return r?V(n)?{value:mt(n.split(","),ws),valid:r}:$e(n)?{value:n,valid:r}:n===!1?{value:[],valid:r}:{value:n,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:ng(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const r=V(n)||ft(n,V);return r?{value:$e(n)?n:mt(n.split(","),ws),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const r=ut(n)||V(n);return r?n===!1||Qp.isiPhone()||Qp.isiPad()?{value:"",valid:r}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!rO}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||V(n)||Ke(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const r=n===!1||V(n);return r?{value:n===!1?"":n,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Zp}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Zp}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Zp}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>V(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>ft(n,be)||n===!1?{value:C0(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:n=>Ke(n)?{value:nO(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>ft(n,w0)?{value:n,valid:!0}:w0(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:as.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:sO.getAttrib(e.getElement(),"placeholder")})})},iO=ke("iframe_attrs"),lO=ke("doctype"),E0=ke("document_base_url"),cO=ke("body_id"),uO=ke("body_class"),_0=ke("content_security_policy"),fO=ke("br_in_pre"),fr=ke("forced_root_block"),Nc=ke("forced_root_block_attrs"),dO=ke("newline_behavior"),hO=ke("br_newline_selector"),mO=ke("no_newline_selector"),pO=ke("keep_styles"),gO=ke("end_container_on_empty_block"),x0=ke("automatic_uploads"),T0=ke("images_reuse_filename"),vO=ke("images_replace_blob_uris"),k0=ke("icons"),bO=ke("icons_url"),yO=ke("images_upload_url"),CO=ke("images_upload_base_path"),wO=ke("images_upload_credentials"),SO=ke("images_upload_handler"),EO=ke("content_css_cors"),eg=ke("referrer_policy"),A0=ke("language"),_O=ke("language_url"),D0=ke("indent_use_margin"),xO=ke("indentation"),TO=ke("content_css"),kO=ke("content_style"),R0=ke("font_css"),AO=ke("directionality"),DO=ke("inline_boundaries_selector"),N0=ke("object_resizing"),RO=ke("resize_img_proportional"),NO=ke("placeholder"),O0=ke("event_root"),OO=ke("service_message"),rl=ke("theme"),PO=ke("theme_url"),tg=ke("model"),$O=ke("model_url"),Oc=ke("inline_boundaries"),BO=ke("formats"),FO=ke("preview_styles"),IO=ke("format_empty_lines"),LO=ke("format_noneditable_selector"),MO=ke("custom_ui_selector"),ng=ke("inline"),zO=ke("hidden_input"),UO=ke("submit_patch"),WO=ke("add_form_submit_trigger"),HO=ke("add_unload_trigger"),jO=ke("custom_undo_redo_levels"),VO=ke("disable_nodechange"),P0=ke("readonly"),$0=ke("content_css_cors"),hd=ke("plugins"),qO=ke("external_plugins"),GO=ke("block_unsupported_drop"),KO=ke("visual"),XO=ke("visual_table_class"),B0=ke("visual_anchor_class"),YO=ke("iframe_aria_text"),JO=ke("setup"),QO=ke("init_instance_callback"),ZO=ke("urlconverter_callback"),eP=ke("auto_focus"),tP=ke("browser_spellcheck"),nP=ke("protect"),rP=ke("paste_block_drop"),md=ke("paste_data_images"),sP=ke("paste_preprocess"),oP=ke("paste_postprocess"),aP=ke("paste_webkit_styles"),iP=ke("paste_remove_styles_if_webkit"),lP=ke("paste_merge_formats"),cP=ke("smart_paste"),uP=ke("paste_as_text"),fP=ke("paste_tab_spaces"),dP=ke("allow_html_data_urls"),hP=ke("text_patterns"),mP=ke("text_patterns_lookup"),F0=ke("noneditable_class"),pP=ke("editable_class"),gP=ke("noneditable_regexp"),vP=ke("preserve_cdata"),bP=ke("highlight_on_focus"),rg=ke("xss_sanitization"),yP=e=>e.options.isSet("text_patterns_lookup"),CP=e=>pe.explode(e.options.get("font_size_style_values")),wP=e=>pe.explode(e.options.get("font_size_classes")),SP=e=>e.options.get("encoding")==="xml",I0=e=>pe.explode(e.options.get("images_file_types")),EP=ke("table_tab_navigation"),_P=Ee,L0=ce,M0=e=>{const t=e.parentNode;t&&t.removeChild(e)},z0=e=>{const t=ge(e);return{count:e.length-t.length,text:t}},U0=e=>{let t;for(;(t=e.data.lastIndexOf(ae))!==-1;)e.deleteData(t,1)},W0=(e,t)=>(Ya(e),t),xP=(e,t)=>{const n=z0(e.data.substr(0,t.offset())),r=z0(e.data.substr(t.offset()));return(n.text+r.text).length>0?(U0(e),re(e,t.offset()-n.count)):t},TP=(e,t)=>{const n=t.container(),r=wi(Un(n.childNodes),e).map(s=>s<t.offset()?re(n,t.offset()-1):t).getOr(t);return Ya(e),r},kP=(e,t)=>L0(e)&&t.container()===e?xP(e,t):W0(e,t),AP=(e,t)=>t.container()===e.parentNode?TP(e,t):W0(e,t),DP=(e,t)=>re.isTextPosition(t)?kP(e,t):AP(e,t),Ya=e=>{_P(e)&&rt(e)&&(pt(e)?e.removeAttribute("data-mce-caret"):M0(e)),L0(e)&&(U0(e),e.data.length===0&&M0(e))},RP=At,NP=zr,OP=za,PP="*[contentEditable=false],video,audio,embed,object",H0=(e,t,n)=>{const r=GC(t.getBoundingClientRect(),n);let s,o;if(e.tagName==="BODY"){const f=e.ownerDocument.documentElement;s=e.scrollLeft||f.scrollLeft,o=e.scrollTop||f.scrollTop}else{const f=e.getBoundingClientRect();s=e.scrollLeft-f.left,o=e.scrollTop-f.top}r.left+=s,r.right+=s,r.top+=o,r.bottom+=o,r.width=1;let l=t.offsetWidth-t.clientWidth;return l>0&&(n&&(l*=-1),r.left+=l,r.right+=l),r},$P=e=>{var t,n;const r=Sn(U.fromDom(e),PP);for(let s=0;s<r.length;s++){const o=r[s].dom;let l=o.previousSibling;if(it(l)){const f=l.data;f.length===1?(t=l.parentNode)===null||t===void 0||t.removeChild(l):l.deleteData(f.length-1,1)}l=o.nextSibling,jn(l)&&(l.data.length===1?(n=l.parentNode)===null||n===void 0||n.removeChild(l):l.deleteData(0,1))}},BP=(e,t,n,r)=>{const s=Jo();let o,l;const f=fr(e),d=e.dom,g=(k,B)=>{let j;if(w(),OP(B))return null;if(n(B)){const H=os(f,B,k),G=H0(t,B,k);d.setStyle(H,"top",G.top),l=H;const K=d.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});d.setStyles(K,{...G}),d.add(t,K),s.set({caret:K,element:B,before:k}),k&&d.addClass(K,"mce-visual-caret-before"),C(),j=B.ownerDocument.createRange(),j.setStart(H,0),j.setEnd(H,0)}else return l=ot(B,k),j=B.ownerDocument.createRange(),Pc(l.nextSibling)?(j.setStart(l,0),j.setEnd(l,0)):(j.setStart(l,1),j.setEnd(l,1)),j;return j},w=()=>{$P(t),l&&(Ya(l),l=null),s.on(k=>{d.remove(k.caret),s.clear()}),o&&(clearInterval(o),o=void 0)},C=()=>{o=setInterval(()=>{s.on(k=>{r()?d.toggleClass(k.caret,"mce-visual-caret-hidden"):d.addClass(k.caret,"mce-visual-caret-hidden")})},500)};return{show:g,hide:w,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{s.on(k=>{const B=H0(t,k.element,k.before);d.setStyles(k.caret,{...B})})},destroy:()=>clearInterval(o)}},j0=()=>vt.browser.isFirefox(),Pc=e=>RP(e)||NP(e),$c=e=>(Pc(e)||ss(e)&&j0())&&Mi(U.fromDom(e)).exists(Ui),FP=ur,sg=At,IP=zr,V0=Ma("display","block table table-cell table-caption list-item"),q0=rt,G0=Be,LP=Ee,MP=ce,zP=Wr,sl=e=>e>0,Ja=e=>e<0,pd=(e,t)=>{let n;for(;n=e(t);)if(!G0(n))return n;return null},Bc=(e,t,n,r,s)=>{const o=new sn(e,r),l=sg(e)||G0(e);let f;if(Ja(t)){if(l&&(f=pd(o.prev.bind(o),!0),n(f)))return f;for(;f=pd(o.prev.bind(o),s);)if(n(f))return f}if(sl(t)){if(l&&(f=pd(o.next.bind(o),!0),n(f)))return f;for(;f=pd(o.next.bind(o),s);)if(n(f))return f}return null},UP=(e,t)=>{const n=s=>FP(s.dom),r=s=>s.dom===t;return ns(U.fromDom(e),n,r).map(s=>s.dom).getOr(t)},ea=(e,t)=>{for(;e&&e!==t;){if(V0(e))return e;e=e.parentNode}return null},Ps=(e,t,n)=>ea(e.container(),n)===ea(t.container(),n),og=(e,t)=>{if(!t)return x.none();const n=t.container(),r=t.offset();return LP(n)?x.from(n.childNodes[r+e]):x.none()},K0=(e,t)=>{var n;const s=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),s},WP=(e,t,n)=>ea(t,e)===ea(n,e),X0=(e,t,n)=>{const r=e?"previousSibling":"nextSibling";let s=n;for(;s&&s!==t;){let o=s[r];if(o&&q0(o)&&(o=o[r]),sg(o)||IP(o)){if(WP(t,o,s))return o;break}if(zP(o))break;s=s.parentNode}return null},Fc=xe(K0,!0),Ic=xe(K0,!1),ag=(e,t,n)=>{let r;const s=xe(X0,!0,t),o=xe(X0,!1,t),l=n.startContainer,f=n.startOffset;if(Be(l)){const d=MP(l)?l.parentNode:l,g=d.getAttribute("data-mce-caret");if(g==="before"&&(r=d.nextSibling,$c(r)))return Fc(r);if(g==="after"&&(r=d.previousSibling,$c(r)))return Ic(r)}if(!n.collapsed)return n;if(ce(l)){if(q0(l)){if(e===1){if(r=o(l),r)return Fc(r);if(r=s(l),r)return Ic(r)}if(e===-1){if(r=s(l),r)return Ic(r);if(r=o(l),r)return Fc(r)}return n}if(it(l)&&f>=l.data.length-1)return e===1&&(r=o(l),r)?Fc(r):n;if(jn(l)&&f<=1)return e===-1&&(r=s(l),r)?Ic(r):n;if(f===l.data.length)return r=o(l),r?Fc(r):n;if(f===0)return r=s(l),r?Ic(r):n}return n},Y0=(e,t)=>og(e?0:-1,t).filter(sg),Lc=(e,t,n)=>{const r=ag(e,t,n);return e===-1?re.fromRangeStart(r):re.fromRangeEnd(r)},gd=e=>x.from(e.getNode()).map(U.fromDom),HP=e=>x.from(e.getNode(!0)).map(U.fromDom),ig=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},vd=(e,t)=>{const n=Ps(e,t);return!n&&Gt(e.getNode())?!0:n};var Cn;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Cn||(Cn={}));const jP=At,$s=ce,J0=Ee,lg=Gt,ol=Wr,Q0=hR,bd=dC,VP=(e,t)=>{const n=[];let r=e;for(;r&&r!==t;)n.push(r),r=r.parentNode;return n},Z0=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,ew=(e,t)=>{if(sl(e)){if(ol(t.previousSibling)&&!$s(t.previousSibling))return re.before(t);if($s(t))return re(t,0)}if(Ja(e)){if(ol(t.nextSibling)&&!$s(t.nextSibling))return re.after(t);if($s(t))return re(t,t.data.length)}return Ja(e)?lg(t)?re.before(t):re.after(t):re.before(t)},qP=(e,t)=>{const n=t.nextSibling;return n&&ol(n)?$s(n)?re(n,0):re.before(n):cg(Cn.Forwards,re.after(t),e)},cg=(e,t,n)=>{let r,s,o,l;if(!J0(n)||!t)return null;if(t.isEqual(re.after(n))&&n.lastChild){if(l=re.after(n.lastChild),Ja(e)&&ol(n.lastChild)&&J0(n.lastChild))return lg(n.lastChild)?re.before(n.lastChild):l}else l=t;const f=l.container();let d=l.offset();if($s(f)){if(Ja(e)&&d>0)return re(f,--d);if(sl(e)&&d<f.length)return re(f,++d);r=f}else{if(Ja(e)&&d>0&&(s=Z0(f,d-1),ol(s)))return!Q0(s)&&(o=Bc(s,e,bd,s),o)?$s(o)?re(o,o.data.length):re.after(o):$s(s)?re(s,s.data.length):re.before(s);if(sl(e)&&d<f.childNodes.length&&(s=Z0(f,d),ol(s)))return lg(s)?qP(n,s):!Q0(s)&&(o=Bc(s,e,bd,s),o)?$s(o)?re(o,0):re.before(o):$s(s)?re(s,0):re.after(s);r=s||l.getNode()}if(r&&(sl(e)&&l.isAtEnd()||Ja(e)&&l.isAtStart())&&(r=Bc(r,e,ht,n,!0),bd(r,n)))return ew(e,r);s=r&&Bc(r,e,bd,n);const g=Zs(He(VP(f,n),jP));return g&&(!s||!g.contains(s))?(sl(e)?l=re.after(g):l=re.before(g),l):s?ew(e,s):null},Bs=e=>({next:t=>cg(Cn.Forwards,t,e),prev:t=>cg(Cn.Backwards,t,e)}),GP=(e,t,n)=>{const r=e?re.before(n):re.after(n);return Sr(e,t,r)},KP=e=>Gt(e)?re.before(e):re.after(e),tw=e=>re.isTextPosition(e)?e.offset()===0:Wr(e.getNode()),nw=e=>{if(re.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return Wr(e.getNode(!0))},rw=(e,t)=>!re.isTextPosition(e)&&!re.isTextPosition(t)&&e.getNode()===t.getNode(!0),XP=e=>!re.isTextPosition(e)&&Gt(e.getNode()),YP=(e,t,n)=>e?!rw(t,n)&&!XP(t)&&nw(t)&&tw(n):!rw(n,t)&&tw(t)&&nw(n),Sr=(e,t,n)=>{const r=Bs(t);return x.from(e?r.next(n):r.prev(n))},yd=(e,t,n)=>Sr(e,t,n).bind(r=>Ps(n,r,t)&&YP(e,n,r)?Sr(e,t,r):x.some(r)),sw=(e,t,n,r)=>yd(e,t,n).bind(s=>r(s)?sw(e,t,s,r):x.some(s)),al=(e,t)=>{const n=e?t.firstChild:t.lastChild;return ce(n)?x.some(re(n,e?0:n.data.length)):n?Wr(n)?x.some(e?re.before(n):KP(n)):GP(e,t,n):x.none()},rr=xe(Sr,!0),Er=xe(Sr,!1),qn=xe(al,!0),Fs=xe(al,!1),ug="_mce_caret",Hr=e=>Ee(e)&&e.id===ug,Qa=(e,t)=>{let n=t;for(;n&&n!==e;){if(Hr(n))return n;n=n.parentNode}return null},JP=e=>V(e.start),QP=e=>Je(e,"rng"),ZP=e=>Je(e,"id"),ow=e=>Je(e,"name"),aw=e=>pe.isArray(e.start),Cd=e=>!ow(e)&&ut(e.forward)?e.forward:!0,iw=(e,t)=>(Ee(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),e$=(e,t)=>{const n=x.from(l0(e.getRoot(),t.start)),r=x.from(l0(e.getRoot(),t.end));return Nn(n,r,(s,o)=>{const l=e.createRng();return l.setStart(s.container(),s.offset()),l.setEnd(o.container(),o.offset()),{range:l,forward:Cd(t)}})},t$=(e,t)=>{var n;const s=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(ae);e.appendChild(s),t.setStart(s,0),t.setEnd(s,0)},n$=e=>!e.hasChildNodes(),r$=(e,t)=>Fs(e).fold(Ye,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),lw=(e,t,n)=>n$(t)&&Qa(e,t)?(t$(t,n),!0):!1,cw=(e,t,n,r)=>{const s=n[t?"start":"end"],o=e.getRoot();if(s){let l=o,f=s[0];for(let d=s.length-1;l&&d>=1;d--){const g=l.childNodes;if(lw(o,l,r))return!0;if(s[d]>g.length-1)return lw(o,l,r)?!0:r$(l,r);l=g[s[d]]}ce(l)&&(f=Math.min(s[0],l.data.length)),Ee(l)&&(f=Math.min(s[0],l.childNodes.length)),t?r.setStart(l,f):r.setEnd(l,f)}return!0},fg=e=>ce(e)&&e.data.length>0,uw=(e,t,n)=>{const r=e.get(n.id+"_"+t),s=r==null?void 0:r.parentNode,o=n.keep;if(r&&s){let l,f;if(t==="start"?o?r.hasChildNodes()?(l=r.firstChild,f=1):fg(r.nextSibling)?(l=r.nextSibling,f=0):fg(r.previousSibling)?(l=r.previousSibling,f=r.previousSibling.data.length):(l=s,f=e.nodeIndex(r)+1):(l=s,f=e.nodeIndex(r)):o?r.hasChildNodes()?(l=r.firstChild,f=1):fg(r.previousSibling)?(l=r.previousSibling,f=r.previousSibling.data.length):(l=s,f=e.nodeIndex(r)):(l=s,f=e.nodeIndex(r)),!o){const d=r.previousSibling,g=r.nextSibling;pe.each(pe.grep(r.childNodes),C=>{ce(C)&&(C.data=C.data.replace(/\uFEFF/g,""))});let w;for(;w=e.get(n.id+"_"+t);)e.remove(w,!0);if(ce(g)&&ce(d)&&!vt.browser.isOpera()){const C=d.data.length;d.appendData(g.data),e.remove(g),l=d,f=C}}return x.some(re(l,f))}else return x.none()},s$=(e,t)=>{const n=e.createRng();return cw(e,!0,t,n)&&cw(e,!1,t,n)?x.some({range:n,forward:Cd(t)}):x.none()},o$=(e,t)=>{const n=uw(e,"start",t),r=uw(e,"end",t);return Nn(n,r.or(n),(s,o)=>{const l=e.createRng();return l.setStart(iw(e,s.container()),s.offset()),l.setEnd(iw(e,o.container()),o.offset()),{range:l,forward:Cd(t)}})},a$=(e,t)=>x.from(e.select(t.name)[t.index]).map(n=>{const r=e.createRng();return r.selectNode(n),{range:r,forward:!0}}),i$=(e,t)=>{const n=e.dom;if(t){if(aw(t))return s$(n,t);if(JP(t))return e$(n,t);if(ZP(t))return o$(n,t);if(ow(t))return a$(n,t);if(QP(t))return x.some({range:t.rng,forward:Cd(t)})}return x.none()},l$=(e,t,n)=>YN(e,t,n),c$=(e,t)=>{i$(e,t).each(({range:n,forward:r})=>{e.setRng(n,r)})},_r=e=>Ee(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",wd=(e=>t=>e===t)(dn),il=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,dg=e=>!il(e)&&!wd(e)&&!Xf(e),u$=e=>({value:f$(e)}),f$=e=>Xu(e,"#").toUpperCase(),hg=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},d$=e=>{const t=hg(e.red)+hg(e.green)+hg(e.blue);return u$(t)},h$=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,m$=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,fw=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),dw=(e,t,n,r)=>{const s=parseInt(e,10),o=parseInt(t,10),l=parseInt(n,10),f=parseFloat(r);return fw(s,o,l,f)},p$=e=>{if(e==="transparent")return x.some(fw(0,0,0,0));const t=h$.exec(e);if(t!==null)return x.some(dw(t[1],t[2],t[3],"1"));const n=m$.exec(e);return n!==null?x.some(dw(n[1],n[2],n[3],n[4])):x.none()},Sd=e=>p$(e).map(d$).map(t=>"#"+t.value).getOr(e),mg=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},g$=e=>Ir(e,t=>{const n=cd(t);return n?[U.fromDom(n)]:[]}),v$=e=>mg(e).length>1,b$=e=>He(g$(e),go),y$=e=>Sn(e,"td[data-mce-selected],th[data-mce-selected]"),hw=(e,t)=>{const n=y$(t);return n.length>0?n:b$(e)},ll=e=>hw(mg(e.selection.getSel()),U.fromDom(e.getBody())),Mc=(e,t)=>Fa(e,"table",t),C$=e=>{const t=e.startContainer,n=e.startOffset;return ce(t)?n===0?x.some(U.fromDom(t)):x.none():x.from(t.childNodes[n]).map(U.fromDom)},w$=e=>{const t=e.endContainer,n=e.endOffset;return ce(t)?n===t.data.length?x.some(U.fromDom(t)):x.none():x.from(t.childNodes[n-1]).map(U.fromDom)},mw=e=>rc(e).fold(ie([e]),t=>[e].concat(mw(t))),pg=e=>sc(e).fold(ie([e]),t=>Ft(t)==="br"?ao(t).map(n=>[e].concat(pg(n))).getOr([]):[e].concat(pg(t))),gg=(e,t)=>Nn(C$(t),w$(t),(n,r)=>{const s=Qt(mw(e),xe(bt,n)),o=Qt(pg(e),xe(bt,r));return s.isSome()&&o.isSome()}).getOr(!1),vg=(e,t,n,r)=>{const s=n,o=new sn(n,s),l=Yr(e.schema.getMoveCaretBeforeOnEnterElements(),(d,g)=>!kt(["td","th","table"],g.toLowerCase()));let f=n;do{if(ce(f)&&pe.trim(f.data).length!==0){r?t.setStart(f,0):t.setEnd(f,f.data.length);return}if(l[f.nodeName]){r?t.setStartBefore(f):f.nodeName==="BR"?t.setEndBefore(f):t.setEndAfter(f);return}}while(f=r?o.next():o.prev());s.nodeName==="BODY"&&(r?t.setStart(s,0):t.setEnd(s,s.childNodes.length))},Ed=e=>{const t=e.selection.getSel();return fe(t)&&t.rangeCount>0},bg=(e,t)=>{const n=ll(e);n.length>0?ue(n,r=>{const s=r.dom,o=e.dom.createRng();o.setStartBefore(s),o.setEndAfter(s),t(o,!0)}):t(e.selection.getRng(),!1)},pw=(e,t,n)=>{const r=p0(e,t);n(r),e.moveToBookmark(r)},_d=e=>Mt(e==null?void 0:e.nodeType),yg=e=>Ee(e)&&!_r(e)&&!Hr(e)&&!ho(e),S$=(e,t)=>{if(yg(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}else return!1},Za=e=>e.isContentEditable===!0,gw=(e,t,n)=>{const{selection:r,dom:s}=e,o=r.getNode(),l=At(o);pw(r,!0,()=>{t()}),l&&At(o)&&s.isChildOf(o,e.getBody())?e.selection.select(o):n(r.getStart())&&E$(s,r)},E$=(e,t)=>{var n,r;const s=t.getRng(),{startContainer:o,startOffset:l}=s,f=t.getNode();if(!S$(e,f)&&Ee(o)){const d=o.childNodes,g=e.getRoot();let w;if(l<d.length){const C=d[l];w=new sn(C,(n=e.getParent(C,e.isBlock))!==null&&n!==void 0?n:g)}else{const C=d[d.length-1];w=new sn(C,(r=e.getParent(C,e.isBlock))!==null&&r!==void 0?r:g),w.next(!0)}for(let C=w.current();C;C=w.next()){if(e.getContentEditable(C)==="false")return;if(ce(C)&&!wg(C)){s.setStart(C,0),t.setRng(s);return}}}},vw=(e,t,n)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(Ee(e)||!wg(e))return e}},Cg=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Wa(e,t),cl=(e,t,n)=>e.schema.isValidChild(t,n),wg=(e,t=!1)=>{if(fe(e)&&ce(e)){const n=t?e.data.replace(/ /g," "):e.data;return Ua(n)}else return!1},_$=e=>fe(e)&&ce(e)&&e.length===0,x$=(e,t)=>{const n="[data-mce-cef-wrappable]",r=LO(e),s=no(r)?n:`${n},${r}`;return wr(U.fromDom(t),s)},bw=(e,t)=>{const n=e.dom;return yg(t)&&n.getContentEditable(t)==="false"&&x$(e,t)&&n.select('[contenteditable="true"]',t).length===0},ta=(e,t)=>Ke(e)?e(t):(fe(t)&&(e=e.replace(/%(\w+)/g,(n,r)=>t[r]||n)),e),Sg=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Eg=(e,t)=>{if(at(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=Sd(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},xd=(e,t,n)=>{const r=e.getStyle(t,n);return Eg(r,n)},yw=(e,t)=>{let n;return e.getParent(t,r=>Ee(r)?(n=e.getStyle(r,"text-decoration"),!!n&&n!=="none"):!1),n},Td=(e,t,n)=>e.getParents(t,n,e.getRoot()),_g=(e,t,n)=>{const r=e.formatter.get(t);return fe(r)&&Xt(r,n)},T$=(e,t)=>_g(e,t,r=>{const s=o=>Ke(o)||o.length>1&&o.charAt(0)==="%";return Xt(["styles","attributes"],o=>Bt(r,o).exists(l=>{const f=$e(l)?l:Ll(l);return Xt(f,s)}))}),k$=(e,t,n)=>{const r=["inline","block","selector","attributes","styles","classes"],s=o=>Yr(o,(l,f)=>Xt(r,d=>d===f));return _g(e,t,o=>{const l=s(o);return _g(e,n,f=>{const d=s(f);return Nm(l,d)})})},Is=e=>Cs(e,"block"),A$=e=>Is(e)&&e.wrapper===!0,D$=e=>Is(e)&&e.wrapper!==!0,xr=e=>Cs(e,"selector"),mn=e=>Cs(e,"inline"),R$=e=>xr(e)&&mn(e)&&Po(Bt(e,"mixed"),!0),xg=e=>xr(e)&&e.expand!==!1&&!mn(e),ul=_r,Cw=Td,ww=wg,N$=Cg,O$=e=>Gt(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Sw=(e,t)=>{let n=t;for(;n;){if(Ee(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},Ew=(e,t,n,r)=>{const s=t.data;if(e){for(let o=n;o>0;o--)if(r(s.charAt(o-1)))return o}else for(let o=n;o<s.length;o++)if(r(s.charAt(o)))return o;return-1},P$=(e,t,n)=>Ew(e,t,n,r=>wd(r)||il(r)),$$=(e,t,n)=>Ew(e,t,n,dg),_w=(e,t,n,r,s,o)=>{let l;const f=e.getParent(n,e.isBlock)||t,d=(w,C,E)=>{const P=Ga(e),L=s?P.backwards:P.forwards;return x.from(L(w,C,(k,B)=>ul(k.parentNode)?-1:(l=k,E(s,k,B)),f))};return d(n,r,P$).bind(w=>o?d(w.container,w.offset+(s?-1:0),$$):x.some(w)).orThunk(()=>l?x.some({container:l,offset:s?0:l.length}):x.none())},xw=(e,t,n,r,s)=>{const o=r[s];ce(r)&&no(r.data)&&o&&(r=o);const l=Cw(e,r);for(let f=0;f<l.length;f++)for(let d=0;d<t.length;d++){const g=t[d];if(!(fe(g.collapsed)&&g.collapsed!==n.collapsed)&&xr(g)&&e.is(l[f],g.selector))return l[f]}return r},Tw=(e,t,n,r)=>{var s;let o=n;const l=e.getRoot(),f=t[0];if(Is(f)&&(o=f.wrapper?null:e.getParent(n,f.block,l)),!o){const d=(s=e.getParent(n,"LI,TD,TH"))!==null&&s!==void 0?s:l;o=e.getParent(ce(n)?n.parentNode:n,g=>g!==l&&N$(e.schema,g),d)}if(o&&Is(f)&&f.wrapper&&(o=Cw(e,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o&&o[r]&&!e.isBlock(o[r])&&(o=o[r],!Sg(o,"br")););return o||n},kw=(e,t,n,r)=>{const s=n.parentNode;return fe(n[r])?!1:s===t||at(s)||e.isBlock(s)?!0:kw(e,t,s,r)},kd=(e,t,n,r,s)=>{let o=n;const l=s?"previousSibling":"nextSibling",f=e.getRoot();if(ce(n)&&!ww(n)&&(s?r>0:r<n.data.length))return n;for(;o;){if(!t[0].block_expand&&e.isBlock(o))return o;for(let d=o[l];d;d=d[l]){const g=ce(d)&&!kw(e,f,d,l);if(!ul(d)&&!O$(d)&&!ww(d,g))return o}if(o===f||o.parentNode===f){n=o;break}o=o.parentNode}return n},Aw=e=>ul(e.parentNode)||ul(e),ei=(e,t,n,r=!1)=>{let{startContainer:s,startOffset:o,endContainer:l,endOffset:f}=t;const d=n[0];return Ee(s)&&s.hasChildNodes()&&(s=Qo(s,o),ce(s)&&(o=0)),Ee(l)&&l.hasChildNodes()&&(l=Qo(l,t.collapsed?f:f-1),ce(l)&&(f=l.data.length)),s=Sw(e,s),l=Sw(e,l),Aw(s)&&(s=ul(s)?s:s.parentNode,t.collapsed?s=s.previousSibling||s:s=s.nextSibling||s,ce(s)&&(o=t.collapsed?s.length:0)),Aw(l)&&(l=ul(l)?l:l.parentNode,t.collapsed?l=l.nextSibling||l:l=l.previousSibling||l,ce(l)&&(f=t.collapsed?0:l.length)),t.collapsed&&(_w(e,e.getRoot(),s,o,!0,r).each(({container:C,offset:E})=>{s=C,o=E}),_w(e,e.getRoot(),l,f,!1,r).each(({container:C,offset:E})=>{l=C,f=E})),(mn(d)||d.block_expand)&&((!mn(d)||!ce(s)||o===0)&&(s=kd(e,n,s,o,!0)),(!mn(d)||!ce(l)||f===l.data.length)&&(l=kd(e,n,l,f,!1))),xg(d)&&(s=xw(e,n,t,s,"previousSibling"),l=xw(e,n,t,l,"nextSibling")),(Is(d)||xr(d))&&(s=Tw(e,n,s,"previousSibling"),l=Tw(e,n,l,"nextSibling"),Is(d)&&(e.isBlock(s)||(s=kd(e,n,s,o,!0)),e.isBlock(l)||(l=kd(e,n,l,f,!1)))),Ee(s)&&s.parentNode&&(o=e.nodeIndex(s),s=s.parentNode),Ee(l)&&l.parentNode&&(f=e.nodeIndex(l)+1,l=l.parentNode),{startContainer:s,startOffset:o,endContainer:l,endOffset:f}},zc=(e,t,n)=>{var r;const s=t.startOffset,o=Qo(t.startContainer,s),l=t.endOffset,f=Qo(t.endContainer,l-1),d=B=>{const j=B[0];ce(j)&&j===o&&s>=j.data.length&&B.splice(0,1);const H=B[B.length-1];return l===0&&B.length>0&&H===f&&ce(H)&&B.splice(B.length-1,1),B},g=(B,j,H)=>{const G=[];for(;B&&B!==H;B=B[j])G.push(B);return G},w=(B,j)=>e.getParent(B,H=>H.parentNode===j,j),C=(B,j,H)=>{const G=H?"nextSibling":"previousSibling";for(let K=B,oe=K.parentNode;K&&K!==j;K=oe){oe=K.parentNode;const ye=g(K===B?K:K[G],G);ye.length&&(H||ye.reverse(),n(d(ye)))}};if(o===f)return n(d([o]));const E=(r=e.findCommonAncestor(o,f))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(o,f))return C(o,E,!0);if(e.isChildOf(f,o))return C(f,E);const P=w(o,E)||o,L=w(f,E)||f;C(o,P,!0);const k=g(P===o?P:P.nextSibling,"nextSibling",L===f?L.nextSibling:L);k.length&&n(d(k)),C(f,L)},B$=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],F$=e=>Zn(e)&&Yi(e)===ae,I$=(e,t,n,r)=>cr(t).fold(()=>"skipping",s=>r==="br"||F$(t)?"valid":pN(t)?"existing":Hr(t.dom)?"caret":Xt(B$,o=>wr(t,o))?"valid-block":!cl(e,n,r)||!cl(e,Ft(s),n)?"invalid-child":"valid"),L$=(e,t)=>{const n=ei(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Dw=(e,t,n,r,s,o)=>{const{uid:l=t,...f}=n;Cr(e,Ec()),Zt(e,`${tl()}`,l),Zt(e,`${Va()}`,r);const{attributes:d={},classes:g=[]}=s(l,f);if(xs(e,d),yN(e,g),o){g.length>0&&Zt(e,`${xc()}`,g.join(","));const w=Wn(d);w.length>0&&Zt(e,`${Tc()}`,w.join(","))}},M$=e=>{Fo(e,Ec()),vn(e,`${tl()}`),vn(e,`${Va()}`),vn(e,`${_c()}`);const t=Zr(e,`${Tc()}`).map(r=>r.split(",")).getOr([]),n=Zr(e,`${xc()}`).map(r=>r.split(",")).getOr([]);ue(t,r=>vn(e,r)),CN(e,n),vn(e,`${xc()}`),vn(e,`${Tc()}`)},Rw=(e,t,n,r,s)=>{const o=U.fromTag("span",e);return Dw(o,t,n,r,s,!1),o},z$=(e,t,n,r,s,o)=>{const l=[],f=Rw(e.getDoc(),n,o,r,s),d=Jo(),g=()=>{d.clear()},w=()=>d.get().getOrThunk(()=>{const L=qa(f);return l.push(L),d.set(L),L}),C=L=>{ue(L,E)},E=L=>{switch(I$(e,L,"span",Ft(L))){case"invalid-child":{g();const B=bn(L);C(B),g();break}case"valid-block":{g(),Dw(L,n,o,r,s,!0);break}case"valid":{const B=w();Mf(L,B);break}}},P=L=>{const k=mt(L,U.fromDom);C(k)};return zc(e.dom,t,L=>{g(),P(L)}),l},U$=(e,t,n,r)=>{e.undoManager.transact(()=>{const s=e.selection,o=s.getRng(),l=ll(e).length>0,f=HC("mce-annotation");if(o.collapsed&&!l&&L$(e,o),s.getRng().collapsed&&!l){const d=Rw(e.getDoc(),f,r,t,n.decorate);ji(d,dn),s.getRng().insertNode(d.dom),s.select(d.dom)}else pw(s,!1,()=>{bg(e,d=>{z$(e,d,f,t,n.decorate,r)})})})},Nw=e=>{const t=bN();vN(e,t);const n=gN(e,t),r=Jl("span"),s=o=>{ue(o,l=>{r(l)?rs(l):M$(l)})};return{register:(o,l)=>{t.register(o,l)},annotate:(o,l)=>{t.lookup(o).each(f=>{U$(e,o,f,l)})},annotationChanged:(o,l)=>{n.addListener(o,l)},remove:o=>{LC(e,x.some(o)).each(({elements:l})=>{const f=e.selection.getBookmark();s(l),e.selection.moveToBookmark(f)})},removeAll:o=>{const l=e.selection.getBookmark();Nt(UC(e,o),(f,d)=>{s(f)}),e.selection.moveToBookmark(l)},getAll:o=>{const l=UC(e,o);return xi(l,f=>mt(f,d=>d.dom))}}},Uc=e=>({getBookmark:xe(l$,e),moveToBookmark:xe(c$,e)});Uc.isBookmarkNode=_r;const Ow=(e,t,n)=>n.collapsed?!1:Xt(n.getClientRects(),r=>_N(r,e,t)),W$=(e,t)=>e.dispatch("PreProcess",t),H$=(e,t)=>e.dispatch("PostProcess",t),j$=e=>{e.dispatch("remove")},V$=e=>{e.dispatch("detach")},q$=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},G$=(e,t,n,r,s)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:r,origin:s})},K$=(e,t,n,r,s)=>{e.dispatch("ObjectResized",{target:t,width:n,height:r,origin:s})},X$=e=>{e.dispatch("PreInit")},Y$=e=>{e.dispatch("PostRender")},J$=e=>{e.dispatch("Init")},Q$=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},Pw=(e,t,n)=>{e.dispatch(t,n)},$w=(e,t,n,r)=>{e.dispatch("FormatApply",{format:t,node:n,vars:r})},Bw=(e,t,n,r)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:r})},Z$=(e,t)=>e.dispatch("BeforeSetContent",t),Fw=(e,t)=>e.dispatch("SetContent",t),eB=(e,t)=>e.dispatch("BeforeGetContent",t),Iw=(e,t)=>e.dispatch("GetContent",t),tB=(e,t)=>{e.dispatch("AutocompleterStart",t)},nB=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},rB=e=>{e.dispatch("AutocompleterEnd")},sB=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),oB=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),Lw=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Re={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Re.metaKeyPressed(e),metaKeyPressed:e=>vt.os.isMacOS()||vt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},ti="data-mce-selected",aB="table,img,figure.image,hr,video,span.mce-preview-object",Mw=Math.abs,Ad=Math.round,Tg={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},iB=e=>e.type==="longpress"||e.type.indexOf("touch")===0,zw=(e,t)=>{const n=t.dom,r=t.getDoc(),s=document,o=t.getBody();let l,f,d,g,w,C,E,P,L,k,B,j,H,G,K,oe,ye;const me=we=>fe(we)&&(mo(we)||n.is(we,"figure.image")),ee=we=>zr(we)||n.hasClass(we,"mce-preview-object"),Z=(we,et)=>{if(iB(we)){const Ze=we.touches[0];return me(we.target)&&!Ow(Ze.clientX,Ze.clientY,et)}else return me(we.target)&&!Ow(we.clientX,we.clientY,et)},Se=we=>{const et=we.target;Z(we,t.selection.getRng())&&!we.isDefaultPrevented()&&t.selection.select(et)},Ne=we=>n.hasClass(we,"mce-preview-object")&&fe(we.firstElementChild)?[we,we.firstElementChild]:n.is(we,"figure.image")?[we.querySelector("img")]:[we],Ie=we=>{const et=N0(t);return!et||we.getAttribute("data-mce-resize")==="false"||we===t.getBody()?!1:n.hasClass(we,"mce-preview-object")&&fe(we.firstElementChild)?wr(U.fromDom(we.firstElementChild),et):wr(U.fromDom(we),et)},Ge=we=>ee(we)?n.create("img",{src:vt.transparentSrc}):we.cloneNode(!0),nt=(we,et,Ze)=>{if(fe(Ze)){const cn=Ne(we);ue(cn,Rt=>{Rt.style[et]||!t.schema.isValid(Rt.nodeName.toLowerCase(),et)?n.setStyle(Rt,et,Ze):n.setAttrib(Rt,et,""+Ze)})}},gt=(we,et,Ze)=>{nt(we,"width",et),nt(we,"height",Ze)},wt=we=>{let et,Ze,cn,Rt,qe;et=we.screenX-C,Ze=we.screenY-E,G=et*g[2]+k,K=Ze*g[3]+B,G=G<5?5:G,K=K<5?5:K,(me(l)||ee(l))&&RO(t)!==!1?cn=!Re.modifierPressed(we):cn=Re.modifierPressed(we),cn&&(Mw(et)>Mw(Ze)?(K=Ad(G*j),G=Ad(K/j)):(G=Ad(K/j),K=Ad(G*j))),gt(f,G,K),Rt=g.startPos.x+et,qe=g.startPos.y+Ze,Rt=Rt>0?Rt:0,qe=qe>0?qe:0,n.setStyles(d,{left:Rt,top:qe,display:"block"}),d.innerHTML=G+" &times; "+K,g[2]<0&&f.clientWidth<=G&&n.setStyle(f,"left",P+(k-G)),g[3]<0&&f.clientHeight<=K&&n.setStyle(f,"top",L+(B-K)),et=o.scrollWidth-oe,Ze=o.scrollHeight-ye,et+Ze!==0&&n.setStyles(d,{left:Rt-et,top:qe-Ze}),H||(G$(t,l,k,B,"corner-"+g.name),H=!0)},Ht=()=>{const we=H;H=!1,we&&(nt(l,"width",G),nt(l,"height",K)),n.unbind(r,"mousemove",wt),n.unbind(r,"mouseup",Ht),s!==r&&(n.unbind(s,"mousemove",wt),n.unbind(s,"mouseup",Ht)),n.remove(f),n.remove(d),n.remove(w),_n(l),we&&(K$(t,l,G,K,"corner-"+g.name),n.setAttrib(l,"style",n.getAttrib(l,"style"))),t.nodeChanged()},_n=we=>{Ce();const et=n.getPos(we,o),Ze=et.x,cn=et.y,Rt=we.getBoundingClientRect(),qe=Rt.width||Rt.right-Rt.left,dt=Rt.height||Rt.bottom-Rt.top;l!==we&&(de(),l=we,G=K=0);const Kt=t.dispatch("ObjectSelected",{target:we});Ie(we)&&!Kt.isDefaultPrevented()?Nt(Tg,(St,Wt)=>{const jt=Yt=>{const Rr=Ne(l)[0];C=Yt.screenX,E=Yt.screenY,k=Rr.clientWidth,B=Rr.clientHeight,j=B/k,g=St,g.name=Wt,g.startPos={x:qe*St[0]+Ze,y:dt*St[1]+cn},oe=o.scrollWidth,ye=o.scrollHeight,w=n.add(o,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(w,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),f=Ge(l),n.addClass(f,"mce-clonedresizable"),n.setAttrib(f,"data-mce-bogus","all"),f.contentEditable="false",n.setStyles(f,{left:Ze,top:cn,margin:0}),gt(f,qe,dt),f.removeAttribute(ti),o.appendChild(f),n.bind(r,"mousemove",wt),n.bind(r,"mouseup",Ht),s!==r&&(n.bind(s,"mousemove",wt),n.bind(s,"mouseup",Ht)),d=n.add(o,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},k+" &times; "+B)};let Pt=n.get("mceResizeHandle"+Wt);Pt&&n.remove(Pt),Pt=n.add(o,"div",{id:"mceResizeHandle"+Wt,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Wt+"-resize; margin:0; padding:0"}),n.bind(Pt,"mousedown",Yt=>{Yt.stopImmediatePropagation(),Yt.preventDefault(),jt(Yt)}),St.elm=Pt,n.setStyles(Pt,{left:qe*St[0]+Ze-Pt.offsetWidth/2,top:dt*St[1]+cn-Pt.offsetHeight/2})}):de(!1)},an=ld(_n,0),de=(we=!0)=>{an.cancel(),Ce(),l&&we&&l.removeAttribute(ti),Nt(Tg,(et,Ze)=>{const cn=n.get("mceResizeHandle"+Ze);cn&&(n.unbind(cn),n.remove(cn))})},De=(we,et)=>n.isChildOf(we,et),lt=we=>{if(H||t.removed||t.composing)return;const et=we.type==="mousedown"?we.target:e.getNode(),Ze=lo(U.fromDom(et),aB).map(Rt=>Rt.dom).filter(Rt=>n.isEditable(Rt.parentElement)).getOrUndefined(),cn=fe(Ze)?n.getAttrib(Ze,ti,"1"):"1";if(ue(n.select(`img[${ti}],hr[${ti}]`),Rt=>{Rt.removeAttribute(ti)}),fe(Ze)&&De(Ze,o)){Fe();const Rt=e.getStart(!0);if(De(Rt,Ze)&&De(e.getEnd(!0),Ze)){n.setAttrib(Ze,ti,cn),an.throttle(Ze);return}}de()},Ce=()=>{Nt(Tg,we=>{we.elm&&(n.unbind(we.elm),delete we.elm)})},Fe=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Fe(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",lt),t.on("keyup compositionend",we=>{l&&l.nodeName==="TABLE"&&lt(we)}),t.on("hide blur",de),t.on("contextmenu longpress",Se,!0)}),t.on("remove",Ce),{isResizable:Ie,showResizeRect:_n,hideResizeRect:de,updateResizeRect:lt,destroy:()=>{an.cancel(),l=f=w=null}}},lB=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,r)=>{e.setStart(n.dom,r)},n=>{e.setStartAfter(n.dom)})},cB=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,r)=>{e.setEnd(n.dom,r)},n=>{e.setEndAfter(n.dom)})},Uw=(e,t,n)=>{const r=e.document.createRange();return lB(r,t),cB(r,n),r},kg=(e,t,n,r,s)=>{const o=e.document.createRange();return o.setStart(t.dom,n),o.setEnd(r.dom,s),o},Wc=Os.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ww=(e,t,n)=>t(U.fromDom(n.startContainer),n.startOffset,U.fromDom(n.endContainer),n.endOffset),uB=(e,t)=>t.match({domRange:n=>({ltr:ie(n),rtl:x.none}),relative:(n,r)=>({ltr:eo(()=>Uw(e,n,r)),rtl:eo(()=>x.some(Uw(e,r,n)))}),exact:(n,r,s,o)=>({ltr:eo(()=>kg(e,n,r,s,o)),rtl:eo(()=>x.some(kg(e,s,o,n,r)))})}),fB=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(s=>s.collapsed===!1).map(s=>Wc.rtl(U.fromDom(s.endContainer),s.endOffset,U.fromDom(s.startContainer),s.startOffset)).getOrThunk(()=>Ww(e,Wc.ltr,n)):Ww(e,Wc.ltr,n)},dB=(e,t)=>{const n=uB(e,t);return fB(e,n)};Wc.ltr,Wc.rtl;const Hw={create:(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r})},hB=(e,t,n)=>{var r,s;return x.from((s=(r=e.dom).caretPositionFromPoint)===null||s===void 0?void 0:s.call(r,t,n)).bind(o=>{if(o.offsetNode===null)return x.none();const l=e.dom.createRange();return l.setStart(o.offsetNode,o.offset),l.collapse(),x.some(l)})},mB=(e,t,n)=>{var r,s;return x.from((s=(r=e.dom).caretRangeFromPoint)===null||s===void 0?void 0:s.call(r,t,n))},pB=(()=>document.caretPositionFromPoint?hB:document.caretRangeFromPoint?mB:x.none)(),gB=(e,t,n)=>{const r=U.fromDom(e.document);return pB(r,t,n).map(s=>Hw.create(U.fromDom(s.startContainer),s.startOffset,U.fromDom(s.endContainer),s.endOffset))},Ag=Os.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),vB=(e,t,n,r)=>e.fold(t,n,r),bB=e=>e.fold(zt,zt,zt),yB=Ag.before,CB=Ag.on,wB=Ag.after,bo={before:yB,on:CB,after:wB,cata:vB,getStart:bB},Dd=Os.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),SB=e=>Dd.exact(e.start,e.soffset,e.finish,e.foffset),EB=e=>e.match({domRange:t=>U.fromDom(t.startContainer),relative:(t,n)=>bo.getStart(t),exact:(t,n,r,s)=>t}),_B=Dd.domRange,xB=Dd.relative,TB=Dd.exact,kB=e=>{const t=EB(e);return $a(t)},AB=Hw.create,fl={domRange:_B,relative:xB,exact:TB,exactFromRange:SB,getWin:kB,range:AB},Rd=(e,t)=>{const n=Ft(e);return n==="input"?bo.after(e):kt(["br","img"],n)?t===0?bo.before(e):bo.after(e):bo.on(e,t)},DB=(e,t)=>{const n=e.fold(bo.before,Rd,bo.after),r=t.fold(bo.before,Rd,bo.after);return fl.relative(n,r)},jw=(e,t,n,r)=>{const s=Rd(e,t),o=Rd(n,r);return fl.relative(s,o)},RB=e=>e.match({domRange:t=>{const n=U.fromDom(t.startContainer),r=U.fromDom(t.endContainer);return jw(n,t.startOffset,r,t.endOffset)},relative:DB,exact:jw}),Dg=(e,t)=>{const r=(t||document).createDocumentFragment();return ue(e,s=>{r.appendChild(s.dom)}),U.fromDom(r)},NB=e=>{const t=fl.getWin(e).dom,n=(s,o,l,f)=>kg(t,s,o,l,f),r=RB(e);return dB(t,r).match({ltr:n,rtl:n})},OB=(e,t,n)=>gB(e,t,n),Vw=(e,t,n)=>{const r=$a(U.fromDom(n));return OB(r.dom,e,t).map(s=>{const o=n.createRange();return o.setStart(s.start.dom,s.soffset),o.setEnd(s.finish.dom,s.foffset),o}).getOrUndefined()},Rg=(e,t)=>fe(e)&&fe(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,PB=(e,t,n)=>{let r=e;for(;r&&r!==t;){if(n(r))return r;r=r.parentNode}return null},qw=(e,t,n)=>PB(e,t,n)!==null,$B=(e,t,n)=>qw(e,t,r=>r.nodeName===n),BB=(e,t)=>rt(e)&&!qw(e,t,Hr),Gw=(e,t,n)=>{const r=t.parentNode;if(r){const s=new sn(t,e.getParent(r,e.isBlock)||e.getRoot());let o;for(;o=s[n?"prev":"next"]();)if(Gt(o))return!0}return!1},FB=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},IB=(e,t)=>{let n=t;for(;n&&n!==e;){if(At(n))return!0;n=n.parentNode}return!1},Ng=(e,t,n,r,s)=>{const o=e.getRoot(),l=e.schema.getNonEmptyElements(),f=s.parentNode;let d,g;if(!f)return x.none();const w=e.getParent(f,e.isBlock)||o;if(r&&Gt(s)&&t&&e.isEmpty(w))return x.some(re(f,e.nodeIndex(s)));const C=new sn(s,w);for(;g=C[r?"prev":"next"]();){if(e.getContentEditableParent(g)==="false"||BB(g,o))return x.none();if(ce(g)&&g.data.length>0)return $B(g,o,"A")?x.none():x.some(re(g,r?g.data.length:0));if(e.isBlock(g)||l[g.nodeName.toLowerCase()])return x.none();d=g}return As(d)?x.none():n&&d?x.some(re(d,0)):x.none()},Kw=(e,t,n,r)=>{const s=e.getRoot();let o,l=!1,f=n?r.startContainer:r.endContainer,d=n?r.startOffset:r.endOffset;const g=Ee(f)&&d===f.childNodes.length,w=e.schema.getNonEmptyElements();let C=n;if(rt(f))return x.none();if(Ee(f)&&d>f.childNodes.length-1&&(C=!1),qo(f)&&(f=s,d=0),f===s){if(C&&(o=f.childNodes[d>0?d-1:0],o&&(rt(o)||w[o.nodeName]||ss(o))))return x.none();if(f.hasChildNodes()){if(d=Math.min(!C&&d>0?d-1:d,f.childNodes.length-1),f=f.childNodes[d],d=ce(f)&&g?f.data.length:0,!t&&f===s.lastChild&&ss(f)||IB(s,f)||rt(f))return x.none();if(f.hasChildNodes()&&!ss(f)){o=f;const E=new sn(f,s);do{if(At(o)||rt(o)){l=!1;break}if(ce(o)&&o.data.length>0){d=C?0:o.data.length,f=o,l=!0;break}if(w[o.nodeName.toLowerCase()]&&!yp(o)){d=e.nodeIndex(o),f=o.parentNode,C||d++,l=!0;break}}while(o=C?E.next():E.prev())}}}return t&&(ce(f)&&d===0&&Ng(e,g,t,!0,f).each(E=>{f=E.container(),d=E.offset(),l=!0}),Ee(f)&&(o=f.childNodes[d],o||(o=f.childNodes[d-1]),o&&Gt(o)&&!FB(o,"A")&&!Gw(e,o,!1)&&!Gw(e,o,!0)&&Ng(e,g,t,!0,o).each(E=>{f=E.container(),d=E.offset(),l=!0}))),C&&!t&&ce(f)&&d===f.data.length&&Ng(e,g,t,!1,f).each(E=>{f=E.container(),d=E.offset(),l=!0}),l&&f?x.some(re(f,d)):x.none()},Nd=(e,t)=>{const n=t.collapsed,r=t.cloneRange(),s=re.fromRangeStart(t);return Kw(e,n,!0,r).each(o=>{(!n||!re.isAbove(s,o))&&r.setStart(o.container(),o.offset())}),n||Kw(e,n,!1,r).each(o=>{r.setEnd(o.container(),o.offset())}),n&&r.collapse(!0),Rg(t,r)?x.none():x.some(r)},Od=(e,t)=>e.splitText(t),Pd=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,s=e.endOffset;if(t===r&&ce(t)){if(n>0&&n<t.data.length)if(r=Od(t,n),t=r.previousSibling,s>n){s=s-n;const o=Od(r,s).previousSibling;t=r=o,s=o.data.length,n=0}else s=0}else if(ce(t)&&n>0&&n<t.data.length&&(t=Od(t,n),n=0),ce(r)&&s>0&&s<r.data.length){const o=Od(r,s).previousSibling;r=o,s=o.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:s}},ni=e=>({walk:(o,l)=>zc(e,o,l),split:Pd,expand:(o,l={type:"word"})=>{if(l.type==="word"){const f=ei(e,o,[{inline:"span"}]),d=e.createRng();return d.setStart(f.startContainer,f.startOffset),d.setEnd(f.endContainer,f.endOffset),d}return o},normalize:o=>Nd(e,o).fold(Ye,l=>(o.setStart(l.startContainer,l.startOffset),o.setEnd(l.endContainer,l.endOffset),!0))});ni.compareRanges=Rg,ni.getCaretRangeFromPoint=Vw,ni.getSelectedNode=cd,ni.getNode=Qo;const LB=((e,t)=>{const n=(f,d)=>{if(!Mt(d)&&!d.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+d);const g=f.dom;Mo(g)&&(g.style[e]=d+"px")},r=f=>{const d=t(f);if(d<=0||d===null){const g=Mr(f,e);return parseFloat(g)||0}return d},s=r,o=(f,d)=>fn(d,(g,w)=>{const C=Mr(f,w),E=C===void 0?0:parseInt(C,10);return isNaN(E)?g:g+E},0);return{set:n,get:r,getOuter:s,aggregate:o,max:(f,d,g)=>{const w=o(f,g);return d>w?d-w:0}}})("height",e=>{const t=e.dom;return Io(e)?t.getBoundingClientRect().height:t.offsetHeight}),MB=e=>LB.get(e),Xw=()=>U.fromDom(document),Yw=(e,t)=>e.view(t).fold(ie([]),r=>{const s=e.owner(r),o=Yw(e,s);return[r].concat(o)}),zB=(e,t)=>{const n=t.owner(e);return Yw(t,n)};var UB=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?x.none():x.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(U.fromDom)},owner:e=>lr(e)});const WB=e=>{const t=Xw(),n=Gi(t),r=zB(e,UB),s=fc(e),o=Jn(r,(l,f)=>{const d=fc(f);return{left:l.left+d.left,top:l.top+d.top}},{left:0,top:0});return jo(o.left+s.left+n.left,o.top+s.top+n.top)},Og=e=>Ft(e)==="textarea",HB=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),jB=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},VB=(e,t)=>{const n=bn(e);if(n.length===0||Og(e))return{element:e,offset:t};if(t<n.length&&!Og(n[t]))return{element:n[t],offset:0};{const r=n[n.length-1];return Og(r)?{element:e,offset:t}:Ft(r)==="img"?{element:r,offset:1}:Zn(r)?{element:r,offset:Yi(r).length}:{element:r,offset:bn(r).length}}},Jw=(e,t)=>{const n=hp(e),r=MB(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},qB=(e,t)=>{const n=VB(e,t),r=U.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ae+"</span>");return tr(n.element,r),Jw(r,()=>Ut(r))},GB=e=>Jw(U.fromDom(e),ze),Qw=(e,t,n,r)=>{XB(e,(s,o)=>KB(e,t,n,r),n)},Zw=(e,t,n,r,s)=>{const o={elm:r.element.dom,alignToTop:s};if(HB(e,o))return;const l=Gi(t).top;n(t,l,r,s),jB(e,o)},KB=(e,t,n,r)=>{const s=U.fromDom(e.getBody()),o=U.fromDom(e.getDoc());co(s);const l=qB(U.fromDom(n.startContainer),n.startOffset);Zw(e,o,t,l,r),l.cleanup()},eS=(e,t,n,r)=>{const s=U.fromDom(e.getDoc());Zw(e,s,n,GB(t),r)},XB=(e,t,n)=>{const r=n.startContainer,s=n.startOffset,o=n.endContainer,l=n.endOffset;t(U.fromDom(r),U.fromDom(o));const f=e.dom.createRng();f.setStart(r,s),f.setEnd(o,l),e.selection.setRng(n)},Pg=(e,t,n,r)=>{const s=e.pos;if(n)Hf(s.left,s.top,r);else{const o=s.top-t+e.height;Hf(s.left,o,r)}},tS=(e,t,n,r,s)=>{const o=n+t,l=r.pos.top,f=r.bottom,d=f-l>=n;l<t?Pg(r,n,s!==!1,e):l>o?Pg(r,n,d?s!==!1:s===!0,e):f>o&&!d&&Pg(r,n,s===!0,e)},nS=(e,t,n,r)=>{const s=$a(e).dom.innerHeight;tS(e,t,s,n,r)},rS=(e,t,n,r)=>{const s=$a(e).dom.innerHeight;tS(e,t,s,n,r);const o=WB(n.element),l=jf(window);o.top<l.y?dc(n.element,r!==!1):o.top>l.bottom&&dc(n.element,r===!0)},YB=(e,t,n)=>Qw(e,nS,t,n),JB=(e,t,n)=>eS(e,t,nS,n),QB=(e,t,n)=>Qw(e,rS,t,n),ZB=(e,t,n)=>eS(e,t,rS,n),eF=(e,t,n)=>{(e.inline?JB:ZB)(e,t,n)},Hc=(e,t,n)=>{(e.inline?YB:QB)(e,t,n)},sS=e=>e.dom.focus(),oS=e=>{const t=Lr(e).dom;return e.dom===t.activeElement},$g=(e=Xw())=>x.from(e.dom.activeElement).map(U.fromDom),tF=e=>$g(Lr(e)).filter(t=>e.dom.contains(t.dom)),aS=(e,t)=>{const n=Zn(t)?Yi(t).length:bn(t).length+1;return e>n?n:e<0?0:e},nF=e=>fl.range(e.start,aS(e.soffset,e.start),e.finish,aS(e.foffset,e.finish)),iS=(e,t)=>!La(t.dom)&&(ts(e,t)||bt(e,t)),lS=e=>t=>iS(e,t.start)&&iS(e,t.finish),rF=e=>e.inline||vt.browser.isFirefox(),sF=e=>fl.range(U.fromDom(e.startContainer),e.startOffset,U.fromDom(e.endContainer),e.endOffset),oF=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?x.none():x.from(t.getRangeAt(0))).map(sF)},aF=e=>{const t=$a(e);return oF(t.dom).filter(lS(e))},iF=(e,t)=>x.from(t).filter(lS(e)).map(nF),lF=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),x.some(t)}catch{return x.none()}},Bg=e=>{const t=rF(e)?aF(U.fromDom(e.getBody())):x.none();e.bookmark=t.isSome()?t:e.bookmark},Fg=e=>(e.bookmark?e.bookmark:x.none()).bind(n=>iF(U.fromDom(e.getBody()),n)).bind(lF),cF=e=>{Fg(e).each(t=>e.selection.setRng(t))},cS={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},uF=(e,t)=>(Mt(t)||(t=0),setTimeout(e,t)),fF=(e,t)=>(Mt(t)||(t=0),setInterval(e,t)),Tr={setEditorTimeout:(e,t,n)=>uF(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const r=fF(()=>{e.removed?clearInterval(r):t()},n);return r}},dF=e=>e.type==="nodechange"&&e.selectionChange,hF=(e,t)=>{const n=()=>{t.throttle()};Dt.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Dt.DOM.unbind(document,"mouseup",n)})},mF=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},pF=(e,t)=>{mF(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{dF(n)||Bg(e)})},gF=e=>{const t=ld(()=>{Bg(e)},0);e.on("init",()=>{e.inline&&hF(e,t),pF(e,t)}),e.on("remove",()=>{t.cancel()})};let dl;const Ig=Dt.DOM,vF=e=>Ee(e)&&cS.isEditorUIElement(e),Lg=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},$d=(e,t)=>{const n=MO(e);return Ig.getParent(t,s=>vF(s)||(n?e.dom.is(s,n):!1))!==null},Mg=e=>{try{const t=Lr(U.fromDom(e.getElement()));return $g(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},bF=(e,t)=>{const n=t.editor;gF(n);const r=(s,o)=>{if(bP(s)&&s.inline!==!0){const l=U.fromDom(s.getContainer());o(l,"tox-edit-focus")}};n.on("focusin",()=>{const s=e.focusedEditor;Lg(Mg(n))&&r(n,Cr),s!==n&&(s&&s.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:s}),n.focus(!0))}),n.on("focusout",()=>{Tr.setEditorTimeout(n,()=>{const s=e.focusedEditor;(!Lg(Mg(n))||s!==n)&&r(n,Fo),!$d(n,Mg(n))&&s===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),dl||(dl=s=>{const o=e.activeEditor;o&&lc(s).each(l=>{const f=l;f.ownerDocument===document&&f!==document.body&&!$d(o,f)&&e.focusedEditor===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},Ig.bind(document,"focusin",dl))},yF=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&dl&&(Ig.unbind(document,"focusin",dl),dl=null)},CF=e=>{e.on("AddEditor",xe(bF,e)),e.on("RemoveEditor",xe(yF,e))},wF=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),SF=e=>e.collapsed?x.from(Qo(e.startContainer,e.startOffset)).map(U.fromDom):x.none(),EF=(e,t)=>SF(t).bind(n=>Ns(n)?x.some(n):ts(e,n)?x.none():x.some(e)),uS=(e,t)=>{EF(U.fromDom(e.getBody()),t).bind(n=>qn(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},zg=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},_F=e=>oS(e)||tF(e).isSome(),xF=e=>fe(e.iframeElement)&&oS(U.fromDom(e.iframeElement)),TF=e=>{const t=e.getBody();return t&&_F(U.fromDom(t))},kF=e=>{const t=Lr(U.fromDom(e.getElement()));return $g(t).filter(n=>!Lg(n.dom)&&$d(e,n.dom)).isSome()},ri=e=>e.inline?TF(e):xF(e),AF=e=>ri(e)||kF(e),DF=e=>{const t=e.selection,n=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable(),fe(e.bookmark)&&!ri(e)&&Fg(e).each(o=>{e.selection.setRng(o),r=o});const s=wF(e,t.getNode());if(s&&e.dom.isChildOf(s,n)){zg(s),uS(e,r),Ug(e);return}e.inline||(vt.browser.isOpera()||zg(n),e.getWin().focus()),(vt.browser.isFirefox()||e.inline)&&(zg(n),uS(e,r)),Ug(e)},Ug=e=>e.editorManager.setActive(e),RF=(e,t)=>{e.removed||(t?Ug(e):DF(e))},fS=(e,t,n,r,s)=>{const o=n?t.startContainer:t.endContainer,l=n?t.startOffset:t.endOffset;return x.from(o).map(U.fromDom).map(f=>!r||!t.collapsed?zi(f,s(f,l)).getOr(f):f).bind(f=>On(f)?x.some(f):cr(f).filter(On)).map(f=>f.dom).getOr(e)},dS=(e,t,n=!1)=>fS(e,t,!0,n,(r,s)=>Math.min(Of(r),s)),hS=(e,t,n=!1)=>fS(e,t,!1,n,(r,s)=>s>0?s-1:s),mS=(e,t)=>{const n=e;for(;e&&ce(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},NF=(e,t)=>{if(!t)return e;let n=t.startContainer,r=t.endContainer;const s=t.startOffset,o=t.endOffset;let l=t.commonAncestorContainer;t.collapsed||(n===r&&o-s<2&&n.hasChildNodes()&&(l=n.childNodes[s]),ce(n)&&ce(r)&&(n.length===s?n=mS(n.nextSibling,!0):n=n.parentNode,o===0?r=mS(r.previousSibling,!1):r=r.parentNode,n&&n===r&&(l=n)));const f=ce(l)?l.parentNode:l;return Ee(f)?f:e},OF=(e,t,n,r)=>{const s=[],o=e.getRoot(),l=e.getParent(n||dS(o,t,t.collapsed),e.isBlock),f=e.getParent(r||hS(o,t,t.collapsed),e.isBlock);if(l&&l!==o&&s.push(l),l&&f&&l!==f){let d;const g=new sn(l,o);for(;(d=g.next())&&d!==f;)e.isBlock(d)&&s.push(d)}return f&&l!==f&&f!==o&&s.push(f),s},PF=(e,t,n)=>x.from(t).bind(r=>x.from(r.parentNode).map(s=>{const o=e.nodeIndex(r),l=e.createRng();return l.setStart(s,o),l.setEnd(s,o+1),n&&(vg(e,l,r,!0),vg(e,l,r,!1)),l})),Wg=(e,t)=>mt(t,n=>{const r=e.dispatch("GetSelectionRange",{range:n});return r.range!==n?r.range:n}),$F=e=>Ft(e)==="img"?1:pc(e).fold(()=>bn(e).length,t=>t.length),BF=e=>pc(e).filter(t=>t.trim().length!==0||t.indexOf(dn)>-1).isSome(),FF=e=>wf(e)&&er(e,"contenteditable")==="false",IF=["img","br"],pS=e=>BF(e)||kt(IF,Ft(e))||FF(e),LF=e=>sp(e,pS),MF=e=>zF(e,pS),zF=(e,t)=>{const n=r=>{const s=bn(r);for(let o=s.length-1;o>=0;o--){const l=s[o];if(t(l))return x.some(l);const f=n(l);if(f.isSome())return f}return x.none()};return n(e)},gS="[data-mce-autocompleter]",UF=(e,t)=>{if(vS(U.fromDom(e.getBody())).isNone()){const n=U.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());rn(n,U.fromDom(t.extractContents())),t.insertNode(n.dom),cr(n).each(r=>r.dom.normalize()),MF(n).map(r=>{e.selection.setCursorLocation(r.dom,$F(r))})}},WF=e=>lo(e,gS),vS=e=>Lo(e,gS),HF=(e,t)=>vS(t).each(n=>{const r=e.selection.getBookmark();rs(n),e.selection.moveToBookmark(r)}),jF={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Bd=(e,t,n)=>{const r=n?"lastChild":"firstChild",s=n?"prev":"next";if(e[r])return e[r];if(e!==t){let o=e[s];if(o)return o;for(let l=e.parent;l&&l!==t;l=l.parent)if(o=l[s],o)return o}},VF=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!Ua(n))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(n))},bS=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Gn{constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}static create(t,n){const r=new Gn(t,jF[t]||1);return n&&Nt(n,(s,o)=>{r.attr(o,s)}),r}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const r=this;if(!V(t))return fe(t)&&Nt(t,(o,l)=>{r.attr(l,o)}),r;const s=r.attributes;if(s){if(n!==void 0){if(n===null){if(t in s.map){delete s.map[t];let o=s.length;for(;o--;)if(s[o].name===t)return s.splice(o,1),r}return r}if(t in s.map){let o=s.length;for(;o--;)if(s[o].name===t){s[o].value=n;break}}else s.push({name:t,value:n});return s.map[t]=n,r}return s.map[t]}}clone(){const t=this,n=new Gn(t.name,t.type),r=t.attributes;if(r){const s=[];s.map={};for(let o=0,l=r.length;o<l;o++){const f=r[o];f.name!=="id"&&(s[s.length]={name:f.name,value:f.value},s.map[f.name]=f.value)}n.attributes=s}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const r=n.next;t.insert(n,t,!0),n=r}t.remove()}remove(){const t=this,n=t.parent,r=t.next,s=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):s&&(s.next=r),n.lastChild===t?(n.lastChild=s,s&&(s.next=null)):r&&(r.prev=s),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,r){t.parent&&t.remove();const s=n.parent||this;return r?(n===s.firstChild?s.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===s.lastChild?s.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=s,t}getAll(t){const n=this,r=[];for(let s=n.firstChild;s;s=Bd(s,n))s.name===t&&r.push(s);return r}children(){const t=this,n=[];for(let r=t.firstChild;r;r=r.next)n.push(r);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let s=t.firstChild;s;s=Bd(s,t))n.push(s);let r=n.length;for(;r--;){const s=n[r];s.parent=s.firstChild=s.lastChild=s.next=s.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},r){var s;const o=this;let l=o.firstChild;if(bS(o))return!1;if(l)do{if(l.type===1){if(l.attr("data-mce-bogus"))continue;if(t[l.name]||bS(l))return!1}if(l.type===8||l.type===3&&!VF(l)||l.type===3&&l.parent&&n[l.parent.name]&&Ua((s=l.value)!==null&&s!==void 0?s:"")||r&&r(l))return!1}while(l=Bd(l,o));return!0}walk(t){return Bd(this,null,t)}}const qF=(e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)),yS=(e,t,n=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",n)!==-1&&qF(r,n)){const s=r.indexOf("[endif]",n);return r.indexOf(">",s)}else if(t){const s=r.indexOf(">",n);return s!==-1?s:r.length}else{const s=/--!?>/g;s.lastIndex=n;const o=s.exec(e);return o?o.index+o[0].length:r.length}},GF=(e,t,n)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,s=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,o=e.getVoidElements();let l=1,f=n;for(;l!==0;)for(r.lastIndex=f;;){const d=r.exec(t);if(d===null)return f;if(d[1]==="!"){gn(d[2],"--")?f=yS(t,!1,d.index+3):f=yS(t,!0,d.index+1);break}else{s.lastIndex=r.lastIndex;const g=s.exec(t);if(tt(g)||g.index!==r.lastIndex)continue;d[1]==="/"?l-=1:Je(o,d[2])||(l+=1),f=r.lastIndex+g[0].length;break}}return f},KF=(e,t)=>{const n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},CS=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let s=KF(e.getTempAttrs(),t);const o=r.getVoidElements();let l;for(;l=n.exec(s);){const f=n.lastIndex,d=l[0].length;let g;o[l[1]]?g=f:g=GF(r,s,f),s=s.substring(0,f-d)+s.substring(g),n.lastIndex=f-d}return ge(s)},XF=CS,wS=e=>{const t=Sn(e,"[data-mce-bogus]");ue(t,n=>{er(n,"data-mce-bogus")==="all"?Ut(n):po(n)?(tr(n,U.fromText(Ds)),Ut(n)):rs(n)})},SS=e=>{const t=Sn(e,"input");ue(t,n=>{vn(n,"name")})},YF=(e,t)=>{const n=fr(e),r=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},JF=(e,t)=>{const n=e.getDoc(),r=Lr(U.fromDom(e.getBody())),s=U.fromTag("div",n);Zt(s,"data-mce-bogus","all"),zo(s,{position:"fixed",left:"-9999999px",top:"0"}),ji(s,t.innerHTML),wS(s),SS(s);const o=ic(r);rn(o,s);const l=ge(s.dom.innerText);return Ut(s),l},QF=(e,t,n)=>{let r;return t.format==="raw"?r=pe.trim(XF(e.serializer,n.innerHTML)):t.format==="text"?r=JF(e,n):t.format==="tree"?r=e.serializer.serialize(n,t):r=YF(e,e.serializer.serialize(n,t)),t.format!=="text"&&!b(U.fromDom(n))&&V(r)?pe.trim(r):r},ZF=(e,t)=>x.from(e.getBody()).fold(ie(t.format==="tree"?new Gn("body",11):""),n=>QF(e,t,n)),ES=pe.makeMap,_S=e=>{const t=[];e=e||{};const n=e.indent,r=ES(e.indent_before||""),s=ES(e.indent_after||""),o=Xo.getEncodeFunc(e.entity_encoding||"raw",e.entities),l=e.element_format!=="xhtml";return{start:(f,d,g)=>{if(n&&r[f]&&t.length>0){const w=t[t.length-1];w.length>0&&w!==`
`&&t.push(`
`)}if(t.push("<",f),d)for(let w=0,C=d.length;w<C;w++){const E=d[w];t.push(" ",E.name,'="',o(E.value,!0),'"')}if(!g||l?t[t.length]=">":t[t.length]=" />",g&&n&&s[f]&&t.length>0){const w=t[t.length-1];w.length>0&&w!==`
`&&t.push(`
`)}},end:f=>{let d;t.push("</",f,">"),n&&s[f]&&t.length>0&&(d=t[t.length-1],d.length>0&&d!==`
`&&t.push(`
`))},text:(f,d)=>{f.length>0&&(t[t.length]=d?f:o(f))},cdata:f=>{t.push("<![CDATA[",f,"]]>")},comment:f=>{t.push("<!--",f,"-->")},pi:(f,d)=>{d?t.push("<?",f," ",o(d),"?>"):t.push("<?",f,"?>"),n&&t.push(`
`)},doctype:f=>{t.push("<!DOCTYPE",f,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},na=(e={},t=Yo())=>{const n=_S(e);return e.validate="validate"in e?e.validate:!0,{serialize:s=>{const o=e.validate,l={3:d=>{var g;n.text((g=d.value)!==null&&g!==void 0?g:"",d.raw)},8:d=>{var g;n.comment((g=d.value)!==null&&g!==void 0?g:"")},7:d=>{n.pi(d.name,d.value)},10:d=>{var g;n.doctype((g=d.value)!==null&&g!==void 0?g:"")},4:d=>{var g;n.cdata((g=d.value)!==null&&g!==void 0?g:"")},11:d=>{let g=d;if(g=g.firstChild)do f(g);while(g=g.next)}};n.reset();const f=d=>{var g;const w=l[d.type];if(w)w(d);else{const C=d.name,E=C in t.getVoidElements();let P=d.attributes;if(o&&P&&P.length>1){const L=[];L.map={};const k=t.getElementRule(d.name);if(k){for(let B=0,j=k.attributesOrder.length;B<j;B++){const H=k.attributesOrder[B];if(H in P.map){const G=P.map[H];L.map[H]=G,L.push({name:H,value:G})}}for(let B=0,j=P.length;B<j;B++){const H=P[B].name;if(!(H in L.map)){const G=P.map[H];L.map[H]=G,L.push({name:H,value:G})}}P=L}}if(n.start(C,P,E),!E){let L=d.firstChild;if(L){(C==="pre"||C==="textarea")&&L.type===3&&((g=L.value)===null||g===void 0?void 0:g[0])===`
`&&n.text(`
`,!0);do f(L);while(L=L.next)}n.end(C)}}};return s.type===1&&!e.inner?f(s):s.type===3?l[3](s):l[11](s),n.getContent()}}},xS=new Set;ue(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{xS.add(t)});const TS=["font","text-decoration","text-emphasis"],Hg=(e,t)=>Wn(e.parseStyle(e.getAttrib(t,"style"))),eI=e=>xS.has(e),tI=(e,t)=>vr(Hg(e,t),n=>!eI(n)),nI=e=>He(e,t=>Xt(TS,n=>gn(t,n))),rI=(e,t,n)=>{const r=Hg(e,t),s=Hg(e,n),o=l=>{var f,d;const g=(f=e.getStyle(t,l))!==null&&f!==void 0?f:"",w=(d=e.getStyle(n,l))!==null&&d!==void 0?d:"";return br(g)&&br(w)&&g!==w};return Xt(r,l=>{const f=d=>Xt(d,g=>g===l);if(!f(s)&&f(TS)){const d=nI(s);return Xt(d,o)}else return o(l)})},kS=(e,t,n)=>x.from(n.container()).filter(ce).exists(r=>{const s=e?0:-1;return t(r.data.charAt(n.offset()+s))}),jg=xe(kS,!0,il),Vg=xe(kS,!1,il),sI=e=>{const t=e.container();return ce(t)&&(t.data.length===0||Te(t.data)&&Uc.isBookmarkNode(t.parentNode))},ra=(e,t)=>n=>og(e?0:-1,n).filter(t).isSome(),AS=e=>mo(e)&&Mr(U.fromDom(e),"display")==="block",DS=e=>At(e)&&!gp(e),oI=ra(!0,AS),aI=ra(!1,AS),jc=ra(!0,zr),Vc=ra(!1,zr),RS=ra(!0,ss),NS=ra(!1,ss),sa=ra(!0,DS),oa=ra(!1,DS),iI=e=>e.slice(0,-1),lI=(e,t,n)=>ts(t,e)?iI(Af(e,r=>n(r)||bt(r,t))):[],OS=(e,t)=>lI(e,t,Ye),yo=(e,t)=>[e].concat(OS(e,t)),qg=(e,t,n)=>sw(e,t,n,sI),PS=(e,t)=>Qt(yo(U.fromDom(t.container()),e),nr),$S=(e,t,n)=>qg(e,t.dom,n).forall(r=>PS(t,n).fold(()=>!Ps(r,n,t.dom),s=>!Ps(r,n,t.dom)&&ts(s,U.fromDom(r.container())))),BS=(e,t,n)=>PS(t,n).fold(()=>qg(e,t.dom,n).forall(r=>!Ps(r,n,t.dom)),r=>qg(e,r.dom,n).isNone()),Gg=xe(BS,!1),FS=xe(BS,!0),cI=xe($S,!1),uI=xe($S,!0),fI=e=>gd(e).exists(po),Fd=(e,t,n)=>{const r=He(yo(U.fromDom(n.container()),t),nr),s=Rn(r).getOr(t);return Sr(e,s.dom,n).filter(fI)},Kg=(e,t)=>gd(t).exists(po)||Fd(!0,e,t).isSome(),Xg=(e,t)=>HP(t).exists(po)||Fd(!1,e,t).isSome(),dI=xe(Fd,!1),hI=xe(Fd,!0),IS=e=>re.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),LS=(e,t)=>{const n=He(yo(U.fromDom(t.container()),e),nr);return Rn(n).getOr(e)},MS=(e,t)=>IS(t)?Vg(t):Vg(t)||Er(LS(e,t).dom,t).exists(Vg),zS=(e,t)=>IS(t)?jg(t):jg(t)||rr(LS(e,t).dom,t).exists(jg),mI=e=>kt(["pre","pre-wrap"],e),Yg=e=>gd(e).bind(t=>io(t,On)).exists(t=>mI(Mr(t,"white-space"))),pI=(e,t)=>Er(e.dom,t).isNone(),gI=(e,t)=>rr(e.dom,t).isNone(),vI=(e,t)=>pI(e,t)||gI(e,t)||Gg(e,t)||FS(e,t)||Xg(e,t)||Kg(e,t),bI=e=>fe(e)&&At(e)&&V0(e),US=(e,t)=>n=>bI(new sn(n,e)[t]()),yI=(e,t)=>{const n=rr(e.dom,t).getOr(t),r=US(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(n.container()))},CI=(e,t)=>{const n=Er(e.dom,t).getOr(t),r=US(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(n.container()))},wI=(e,t)=>Yg(t)?!1:vI(e,t)||MS(e,t)||zS(e,t),qc=(e,t)=>Yg(t)?!1:Gg(e,t)||cI(e,t)||Xg(e,t)||MS(e,t)||CI(e,t),SI=e=>{const t=e.container(),n=e.offset();return ce(t)&&n<t.data.length?re(t,n+1):e},Gc=(e,t)=>Yg(t)?!1:FS(e,t)||uI(e,t)||Kg(e,t)||zS(e,t)||yI(e,t),Jg=(e,t)=>qc(e,t)||Gc(e,SI(t)),WS=(e,t)=>wd(e.charAt(t)),HS=(e,t)=>il(e.charAt(t)),EI=e=>{const t=e.container();return ce(t)&&ln(t.data,dn)},_I=e=>{const t=e.split("");return mt(t,(n,r)=>wd(n)&&r>0&&r<t.length-1&&dg(t[r-1])&&dg(t[r+1])?" ":n).join("")},jS=(e,t,n)=>{const r=t.data,s=re(t,0);return!n&&WS(r,0)&&!Jg(e,s)?(t.data=" "+r.slice(1),!0):n&&HS(r,0)&&qc(e,s)?(t.data=dn+r.slice(1),!0):!1},xI=e=>{const t=e.data,n=_I(t);return n!==t?(e.data=n,!0):!1},VS=(e,t,n)=>{const r=t.data,s=re(t,r.length-1);return!n&&WS(r,r.length-1)&&!Jg(e,s)?(t.data=r.slice(0,-1)+" ",!0):n&&HS(r,r.length-1)&&Gc(e,s)?(t.data=r.slice(0,-1)+dn,!0):!1},TI=(e,t)=>{const n=t.container();if(!ce(n))return x.none();if(EI(t)){const r=jS(e,n,!1)||xI(n)||VS(e,n,!1);return $o(r,t)}else if(Jg(e,t)){const r=jS(e,n,!0)||VS(e,n,!0);return $o(r,t)}else return x.none()},kI=e=>{const t=U.fromDom(e.getBody());e.selection.isCollapsed()&&TI(t,re.fromRangeStart(e.selection.getRng())).each(n=>{e.selection.setRng(n.toRange())})},qS=(e,t,n)=>{if(n===0)return;const r=U.fromDom(e),s=ns(r,nr).getOr(r),o=e.data.slice(t,t+n),l=t+n>=e.data.length&&Gc(s,re(e,e.data.length)),f=t===0&&qc(s,re(e,0));e.replaceData(t,n,mC(o,4,f,l))},Id=(e,t)=>{const n=e.data.slice(t),r=n.length-Ul(n).length;qS(e,t,r)},Qg=(e,t)=>{const n=e.data.slice(0,t),r=n.length-Ea(n).length;qS(e,t-r,r)},Zg=(e,t,n,r=!0)=>{const s=Ea(e.data).length,o=r?e:t,l=r?t:e;return r?o.appendData(l.data):o.insertData(0,l.data),Ut(U.fromDom(l)),n&&Id(o,s),o},AI=(e,t)=>{const n=e.container(),r=e.offset();return!re.isTextPosition(e)&&n===t.parentNode&&r>re.before(t).offset()},DI=(e,t)=>AI(t,e)?re(t.container(),t.offset()-1):t,RI=e=>ce(e)?re(e,0):re.before(e),NI=e=>ce(e)?re(e,e.data.length):re.after(e),GS=e=>Wr(e.previousSibling)?x.some(NI(e.previousSibling)):e.previousSibling?Fs(e.previousSibling):x.none(),KS=e=>Wr(e.nextSibling)?x.some(RI(e.nextSibling)):e.nextSibling?qn(e.nextSibling):x.none(),OI=(e,t)=>x.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>Er(e,re.before(n))).orThunk(()=>rr(e,re.after(t))),PI=(e,t)=>rr(e,re.after(t)).orThunk(()=>Er(e,re.before(t))),$I=(e,t)=>GS(t).orThunk(()=>KS(t)).orThunk(()=>OI(e,t)),BI=(e,t)=>KS(t).orThunk(()=>GS(t)).orThunk(()=>PI(e,t)),FI=(e,t,n)=>e?BI(t,n):$I(t,n),II=(e,t,n)=>FI(e,t,n).map(xe(DI,n)),XS=(e,t,n)=>{n.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},LI=e=>t=>t.dom===e,MI=(e,t)=>t&&Je(e.schema.getBlockElements(),Ft(t)),zI=e=>{if(on(e)){const t=U.fromHtml('<br data-mce-bogus="1">');return Ho(e),rn(e,t),x.some(re.before(t.dom))}else return x.none()},UI=(e,t,n)=>{const r=ao(e).filter(Zn),s=Ba(e).filter(Zn);return Ut(e),zm(r,s,t,(o,l,f)=>{const d=o.dom,g=l.dom,w=d.data.length;return Zg(d,g,n),f.container()===g?re(d,w):f}).orThunk(()=>(n&&(r.each(o=>Qg(o.dom,o.dom.length)),s.each(o=>Id(o.dom,0))),t))},WI=(e,t)=>Je(e.schema.getTextInlineElements(),Ft(t)),si=(e,t,n,r=!0)=>{const s=II(t,e.getBody(),n.dom),o=ns(n,xe(MI,e),LI(e.getBody())),l=UI(n,s,WI(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):o.bind(zI).fold(()=>{r&&XS(e,t,l)},f=>{r&&XS(e,t,x.some(f))})},HI=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,jI=e=>HI.test(e),oi=(e,t)=>wr(U.fromDom(t),DO(e))&&!Wa(e.schema,t)&&e.dom.isEditable(t),VI=e=>{var t;return Dt.DOM.getStyle(e,"direction",!0)==="rtl"||jI((t=e.textContent)!==null&&t!==void 0?t:"")},qI=(e,t,n)=>He(Dt.DOM.getParents(n.container(),"*",t),e),aa=(e,t,n)=>{const r=qI(e,t,n);return x.from(r[r.length-1])},GI=(e,t,n)=>{const r=ea(t,e),s=ea(n,e);return fe(r)&&r===s},KI=e=>Ot(e)||It(e),kr=(e,t)=>{const n=t.container(),r=t.offset();return e?Ve(n)?ce(n.nextSibling)?re(n.nextSibling,0):re.after(n):Ot(t)?re(n,r+1):t:Ve(n)?ce(n.previousSibling)?re(n.previousSibling,n.previousSibling.data.length):re.before(n):It(t)?re(n,r-1):t},YS=xe(kr,!0),JS=xe(kr,!1),QS=(e,t)=>{const n=r=>r.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},XI=e=>{e.execCommand("delete")},ev=e=>QS(e,"Delete"),YI=e=>QS(e,"ForwardDelete"),JI=e=>t=>Po(cr(t),e,bt),QI=e=>Zf(e)||Rs(e),Ld=(e,t)=>ts(e,t)?io(t,QI,JI(e)):x.none(),tv=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},ZI=(e,t,n)=>Nn(qn(n),Fs(n),(r,s)=>{const o=kr(!0,r),l=kr(!1,s),f=kr(!1,t);return e?rr(n,f).exists(d=>d.isEqual(l)&&t.isEqual(o)):Er(n,f).exists(d=>d.isEqual(o)&&t.isEqual(l))}).getOr(!0),ZS=e=>(Cf(e)?ao(e):sc(e)).bind(ZS).orThunk(()=>x.some(e)),eE=(e,t,n,r=!0)=>{var s;t.deleteContents();const o=ZS(n).getOr(n),l=U.fromDom((s=e.dom.getParent(o.dom,e.dom.isBlock))!==null&&s!==void 0?s:n.dom);if(l.dom===e.getBody()?tv(e,r):on(l)&&(te(l),r&&e.selection.setCursorLocation(l.dom,0)),!bt(n,l)){const f=Po(cr(l),n)?[]:Df(l);ue(f.concat(bn(n)),d=>{!bt(d,l)&&!ts(d,l)&&on(d)&&Ut(d)})}},eL=e=>t=>bt(e,t),nv=e=>Sn(e,"td,th"),tL=(e,t)=>{const n=g=>Mc(U.fromDom(g),t),r=n(e.startContainer),s=n(e.endContainer),o=r.isSome(),l=s.isSome(),f=Nn(r,s,bt).getOr(!1);return{startTable:r,endTable:s,isStartInTable:o,isEndInTable:l,isSameTable:f,isMultiTable:!f&&o&&l}},rv=(e,t)=>({start:e,end:t}),nL=(e,t,n)=>({rng:e,table:t,cells:n}),Kc=Os.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Md=(e,t)=>lo(U.fromDom(e),"td,th",t),tE=e=>!bt(e.start,e.end),nE=(e,t)=>Mc(e.start,t).bind(n=>Mc(e.end,t).bind(r=>$o(bt(n,r),n))),rL=(e,t)=>!tE(e)&&nE(e,t).exists(n=>{const r=n.dom.rows;return r.length===1&&r[0].cells.length===1}),sL=(e,t)=>{const n=Md(e.startContainer,t),r=Md(e.endContainer,t);return Nn(n,r,rv)},oL=e=>t=>Mc(t,e).bind(n=>Js(nv(n)).map(r=>rv(t,r))),aL=e=>t=>Mc(t,e).bind(n=>Rn(nv(n)).map(r=>rv(r,t))),sv=e=>t=>nE(t,e).map(n=>nL(t,n,nv(n))),rE=(e,t,n,r)=>{if(n.collapsed||!e.forall(tE))return x.none();if(t.isSameTable){const s=e.bind(sv(r));return x.some({start:s,end:s})}else{const s=Md(n.startContainer,r),o=Md(n.endContainer,r),l=s.bind(oL(r)).bind(sv(r)),f=o.bind(aL(r)).bind(sv(r));return x.some({start:l,end:f})}},sE=(e,t)=>Do(e,n=>bt(n,t)),ov=e=>Nn(sE(e.cells,e.rng.start),sE(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),iL=(e,t,n)=>e.exists(r=>rL(r,n)&&gg(r.start,t)),oE=(e,t)=>{const{startTable:n,endTable:r}=t,s=e.cloneRange();return n.each(o=>s.setStartAfter(o.dom)),r.each(o=>s.setEndBefore(o.dom)),s},lL=(e,t,n,r)=>rE(e,t,n,r).bind(({start:s,end:o})=>s.or(o)).bind(s=>{const{isSameTable:o}=t,l=ov(s).getOr([]);if(o&&s.cells.length===l.length)return x.some(Kc.fullTable(s.table));if(l.length>0){if(o)return x.some(Kc.partialTable(l,x.none()));{const f=oE(n,t);return x.some(Kc.partialTable(l,x.some({...t,rng:f})))}}else return x.none()}),cL=(e,t,n,r)=>rE(e,t,n,r).bind(({start:s,end:o})=>{const l=s.bind(ov).getOr([]),f=o.bind(ov).getOr([]);if(l.length>0&&f.length>0){const d=oE(n,t);return x.some(Kc.multiTable(l,f,d))}else return x.none()}),uL=(e,t)=>{const n=eL(e),r=sL(t,n),s=tL(t,n);return iL(r,t,n)?r.map(o=>Kc.singleCellTable(t,o.start)):s.isMultiTable?cL(r,s,t,n):lL(r,s,t,n)},aE=e=>ue(e,t=>{vn(t,"contenteditable"),te(t)}),fL=(e,t)=>x.from(e.dom.getParent(t,e.dom.isBlock)).map(U.fromDom),dL=(e,t,n)=>{n.each(r=>{t?Ut(r):(te(r),e.selection.setCursorLocation(r.dom,0))})},av=(e,t,n,r)=>{const s=n.cloneRange();r?(s.setStart(n.startContainer,n.startOffset),s.setEndAfter(t.dom.lastChild)):(s.setStartBefore(t.dom.firstChild),s.setEnd(n.endContainer,n.endOffset)),iv(e,s,t,!1).each(o=>o())},iE=e=>{const t=ll(e),n=U.fromDom(e.selection.getNode());za(n.dom)&&on(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Xt(t,r=>bt(r,n))&&Zt(n,"data-mce-selected","1")},lE=(e,t,n)=>x.some(()=>{const r=e.selection.getRng(),s=n.bind(({rng:o,isStartInTable:l})=>{const f=fL(e,l?o.endContainer:o.startContainer);o.deleteContents(),dL(e,l,f.filter(on));const d=l?t[0]:t[t.length-1];return av(e,d,r,l),on(d)?x.none():x.some(l?t.slice(1):t.slice(0,-1))}).getOr(t);aE(s),iE(e)}),hL=(e,t,n,r)=>x.some(()=>{const s=e.selection.getRng(),o=t[0],l=n[n.length-1];av(e,o,s,!0),av(e,l,s,!1);const f=on(o)?t:t.slice(1),d=on(l)?n:n.slice(0,-1);aE(f.concat(d)),r.deleteContents(),iE(e)}),iv=(e,t,n,r=!0)=>x.some(()=>{eE(e,t,n,r)}),mL=(e,t)=>x.some(()=>si(e,!1,t)),pL=(e,t,n)=>uL(t,n).bind(r=>r.fold(xe(iv,e),xe(mL,e),xe(lE,e),xe(hL,e))),gL=(e,t)=>zd(e,t),vL=(e,t,n,r)=>lv(t,r).fold(()=>pL(e,t,n),s=>gL(e,s)),bL=(e,t,n)=>{const r=U.fromDom(e.getBody()),s=e.selection.getRng();return n.length!==0?lE(e,n,x.none()):vL(e,r,s,t)},cE=(e,t)=>Qt(yo(t,e),go),lv=(e,t)=>Qt(yo(t,e),Jl("caption")),yL=(e,t,n,r,s)=>yd(n,e.getBody(),s).bind(o=>cE(t,U.fromDom(o.getNode())).bind(l=>bt(l,r)?x.none():x.some(ze))),zd=(e,t)=>x.some(()=>{te(t),e.selection.setCursorLocation(t.dom,0)}),CL=(e,t,n,r)=>qn(e.dom).bind(s=>Fs(e.dom).map(o=>t?n.isEqual(s)&&r.isEqual(o):n.isEqual(o)&&r.isEqual(s))).getOr(!0),wL=(e,t)=>zd(e,t),SL=(e,t,n)=>lv(e,U.fromDom(n.getNode())).fold(()=>x.some(ze),r=>$o(!bt(r,t),ze)),EL=(e,t,n,r,s)=>yd(n,e.getBody(),s).fold(()=>x.some(ze),o=>CL(r,n,s,o)?wL(e,r):SL(t,r,o)),_L=(e,t,n,r)=>{const s=re.fromRangeStart(e.selection.getRng());return cE(n,r).bind(o=>on(o)?zd(e,o):yL(e,n,t,o,s))},xL=(e,t,n,r)=>{const s=re.fromRangeStart(e.selection.getRng());return on(r)?zd(e,r):EL(e,n,t,r,s)},uE=(e,t)=>e?RS(t):NS(t),TL=(e,t)=>{const n=re.fromRangeStart(e.selection.getRng());return uE(t,n)||Sr(t,e.getBody(),n).exists(r=>uE(t,r))},kL=(e,t,n)=>{const r=U.fromDom(e.getBody());return lv(r,n).fold(()=>_L(e,t,r,n).orThunk(()=>$o(TL(e,t),ze)),s=>xL(e,t,r,s))},cv=(e,t)=>{const n=U.fromDom(e.selection.getStart(!0)),r=ll(e);return e.selection.isCollapsed()&&r.length===0?kL(e,t,n):bL(e,n,r)},ai=(e,t)=>{let n=t;for(;n&&n!==e;){if(ur(n)||At(n))return n;n=n.parentNode}return null},AL=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],DL=pe.each,uv=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=(o,l)=>{if(o.nodeName!==l.nodeName||o.nodeType!==l.nodeType)return!1;const f=g=>{const w={};return DL(t.getAttribs(g),C=>{const E=C.nodeName.toLowerCase();E!=="style"&&!s(E)&&(w[E]=t.getAttrib(g,E))}),w},d=(g,w)=>{for(const C in g)if(Je(g,C)){const E=w[C];if(yt(E)||g[C]!==E)return!1;delete w[C]}for(const C in w)if(Je(w,C))return!1;return!0};return Ee(o)&&Ee(l)&&(!d(f(o),f(l))||!d(t.parseStyle(t.getAttrib(o,"style")),t.parseStyle(t.getAttrib(l,"style"))))?!1:!_r(o)&&!_r(l)},s=o=>Xt(AL,l=>gn(o,l))||n.has(o);return{compare:r,isAttributeInternal:s}},RL=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},fE=(e,t,n,r)=>{const s=n.name;for(let o=0,l=e.length;o<l;o++){const f=e[o];if(f.name===s){const d=r.nodes[s];d?d.nodes.push(n):r.nodes[s]={filter:f,nodes:[n]}}}if(n.attributes)for(let o=0,l=t.length;o<l;o++){const f=t[o],d=f.name;if(d in n.attributes.map){const g=r.attributes[d];g?g.nodes.push(n):r.attributes[d]={filter:f,nodes:[n]}}}},NL=(e,t,n)=>{const r={nodes:{},attributes:{}};return n.firstChild&&RL(n,s=>{fE(e,t,s,r)}),r},dE=(e,t)=>{const n=(r,s)=>{Nt(r,o=>{const l=Un(o.nodes);ue(o.filter.callbacks,f=>{for(let d=l.length-1;d>=0;d--){const g=l[d];(!(s?g.attr(o.filter.name)!==void 0:g.name===o.filter.name)||at(g.parent))&&l.splice(d,1)}l.length>0&&f(l,o.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},hE=(e,t,n,r={})=>{const s=NL(e,t,n);dE(s,r)},fv=(e,t,n)=>{if(e.insert&&t(n)){const r=new Gn("br",1);r.attr("data-mce-bogus","1"),n.empty().append(r)}else n.empty().append(new Gn("#text",3)).value=dn},OL=e=>{var t;return mE(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===dn},mE=(e,t)=>{const n=e==null?void 0:e.firstChild;return fe(n)&&n===e.lastChild&&n.name===t},PL=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},Xc=(e,t,n,r)=>r.isEmpty(t,n,s=>PL(e,s)),$L=(e,t)=>fe(e)&&(t(e)||e.name==="br"),BL=e=>{let t;for(let n=e;n;n=n.parent){const r=n.attr("contenteditable");if(r==="false")break;r==="true"&&(t=n)}return x.from(t)},dv=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const s of r)n&&!t.isValidChild(n.name,s.name)&&dv(s,t,n);e.unwrap()}},hv=(e,t,n,r=ze)=>{const s=t.getTextBlockElements(),o=t.getNonEmptyElements(),l=t.getWhitespaceElements(),f=pe.makeMap("tr,td,th,tbody,thead,tfoot,table"),d=new Set,g=w=>w!==n&&!f[w.name];for(let w=0;w<e.length;w++){const C=e[w];let E,P,L;if(!C.parent||d.has(C))continue;if(s[C.name]&&C.parent.name==="li"){let B=C.next;for(;B&&s[B.name];){B.name="li",d.add(B),C.parent.insert(B,C.parent);B=B.next}C.unwrap();continue}const k=[C];for(E=C.parent;E&&!t.isValidChild(E.name,C.name)&&g(E);E=E.parent)k.push(E);if(E&&k.length>1)if(t.isValidChild(E.name,C.name)){k.reverse(),P=k[0].clone(),r(P);let B=P;for(let j=0;j<k.length-1;j++){t.isValidChild(B.name,k[j].name)&&j>0?(L=k[j].clone(),r(L),B.append(L)):L=B;for(let H=k[j].firstChild;H&&H!==k[j+1];){const G=H.next;L.append(H),H=G}B=L}Xc(t,o,l,P)?E.insert(C,k[0],!0):(E.insert(P,k[0],!0),E.insert(C,P)),E=k[0],(Xc(t,o,l,E)||mE(E,"br"))&&E.empty().remove()}else dv(C,t);else if(C.parent){if(C.name==="li"){let B=C.prev;if(B&&(B.name==="ul"||B.name==="ol")){B.append(C);continue}if(B=C.next,B&&(B.name==="ul"||B.name==="ol")&&B.firstChild){B.insert(C,B.firstChild,!0);continue}const j=new Gn("ul",1);r(j),C.wrap(j);continue}if(t.isValidChild(C.parent.name,"div")&&t.isValidChild("div",C.name)){const B=new Gn("div",1);r(B),C.wrap(B)}else dv(C,t)}}},FL=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},pE=(e,t,n=t.parent)=>n&&e.children[t.name]&&!e.isValidChild(n.name,t.name)?!0:!!(n&&t.name==="a"&&FL(n,"a")),IL=(e,t,n,r)=>{const s=document.createRange();return s.setStart(e,t),s.setEnd(n,r),s},LL=e=>{const t=re.fromRangeStart(e),n=re.fromRangeEnd(e),r=e.commonAncestorContainer;return Sr(!1,r,n).map(s=>!Ps(t,n,r)&&Ps(t,s,r)?IL(t.container(),t.offset(),s.container(),s.offset()):e).getOr(e)},mv=e=>e.collapsed?e:LL(e),ML=e=>fe(e.firstChild)&&e.firstChild===e.lastChild,zL=e=>e.name==="br"||e.value===dn,UL=(e,t)=>e.getBlockElements()[t.name]&&ML(t)&&zL(t.firstChild),WL=(e,t)=>{const n=e.getNonEmptyElements();return fe(t)&&(t.isEmpty(n)||UL(e,t))},HL=(e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),WL(e,r)&&(r=r==null?void 0:r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},jL=e=>{var t,n;const r=e.firstChild,s=e.lastChild;return r&&r.nodeName==="META"&&((t=r.parentNode)===null||t===void 0||t.removeChild(r)),s&&s.id==="mce_marker"&&((n=s.parentNode)===null||n===void 0||n.removeChild(s)),e},VL=(e,t,n)=>{const r=t.serialize(n),s=e.createFragment(r);return jL(s)},qL=e=>{var t;return He((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},GL=e=>e.data===dn||Gt(e),KL=e=>fe(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&GL(e.firstChild),XL=e=>!e.firstChild||KL(e),YL=e=>e.length>0&&XL(e[e.length-1])?e.slice(0,-1):e,pv=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},JL=(e,t)=>!!pv(e,t),QL=(e,t)=>{const n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},ZL=(e,t)=>{const n=re.before(e),s=Bs(t).next(n);return s?s.toRange():null},gE=(e,t)=>{const n=re.after(e),s=Bs(t).prev(n);return s?s.toRange():null},eM=(e,t,n,r)=>{const s=QL(e,r),o=e.parentNode;return o&&(o.insertBefore(s[0],e),pe.each(t,l=>{o.insertBefore(l,e)}),o.insertBefore(s[1],e),o.removeChild(e)),gE(t[t.length-1],n)},tM=(e,t,n)=>{const r=e.parentNode;return r&&pe.each(t,s=>{r.insertBefore(s,e)}),ZL(e,n)},nM=(e,t,n,r)=>(r.insertAfter(t.reverse(),e),gE(t[0],n)),rM=(e,t,n,r)=>{const s=VL(t,e,r),o=pv(t,n.startContainer),l=YL(qL(s.firstChild)),f=1,d=2,g=t.getRoot(),w=C=>{const E=re.fromRangeStart(n),P=Bs(t.getRoot()),L=C===f?P.prev(E):P.next(E),k=L==null?void 0:L.getNode();return k?pv(t,k)!==o:!0};return o?w(f)?tM(o,l,g):w(d)?nM(o,l,g,t):eM(o,l,g,n):null},sM=["pre"],oM=(e,t,n,r)=>{var s;const o=t.firstChild,l=t.lastChild,f=l.attr("data-mce-type")==="bookmark"?l.prev:l,d=o===f,g=kt(sM,o.name);if(d&&g){const w=o.attr("contenteditable")!=="false",C=((s=e.getParent(n,e.isBlock))===null||s===void 0?void 0:s.nodeName.toLowerCase())===o.name,E=x.from(ai(r,n)).forall(ur);return w&&C&&E}else return!1},gv=za,aM=(e,t,n)=>{if(fe(n)){const r=e.getParent(t.endContainer,gv);return n===r&&gg(U.fromDom(n),t)}else return!1},iM=(e,t,n)=>{var r;if(n.getAttribute("data-mce-bogus")==="all")(r=n.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(t),n);else{const s=n.firstChild,o=n.lastChild;!s||s===o&&s.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},lM=(e,t)=>{x.from(e.getParent(t,"td,th")).map(U.fromDom).each(se)},cM=(e,t)=>{const n=e.schema.getTextInlineElements(),r=e.dom;if(t){const s=e.getBody(),o=uv(e);pe.each(r.select("*[data-mce-fragment]"),l=>{if(fe(n[l.nodeName.toLowerCase()])&&tI(r,l)){for(let d=l.parentElement;fe(d)&&d!==s&&!rI(r,l,d);d=d.parentElement)if(o.compare(d,l)){r.remove(l,!0);break}}})}},uM=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},fM=e=>{pe.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},dM=e=>!!e.getAttribute("data-mce-fragment"),hM=(e,t)=>fe(t)&&!e.schema.getVoidElements()[t.nodeName],mM=(e,t)=>{var n,r,s;let o;const l=e.dom,f=e.selection;if(!t)return;f.scrollIntoView(t);const d=ai(e.getBody(),t);if(d&&l.getContentEditable(d)==="false"){l.remove(t),f.select(d);return}let g=l.createRng();const w=t.previousSibling;if(ce(w)){g.setStart(w,(r=(n=w.nodeValue)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);const P=t.nextSibling;ce(P)&&(w.appendData(P.data),(s=P.parentNode)===null||s===void 0||s.removeChild(P))}else g.setStartBefore(t),g.setEndBefore(t);const C=P=>{let L=re.fromRangeStart(P);return L=Bs(e.getBody()).next(L),L==null?void 0:L.toRange()},E=l.getParent(t,l.isBlock);l.remove(t),E&&l.isEmpty(E)&&(Ho(U.fromDom(E)),g.setStart(E,0),g.setEnd(E,0),!gv(E)&&!dM(E)&&(o=C(g))?(g=o,l.remove(E)):l.add(E,l.create("br",{"data-mce-bogus":"1"}))),f.setRng(g)},pM=e=>{const t=e.dom,n=mv(e.selection.getRng());e.selection.setRng(n);const r=t.getParent(n.startContainer,gv);aM(t,n,r)?iv(e,n,U.fromDom(r)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&ce(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},gM=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return x.some(t);return x.none()},vM=(e,t,n)=>{var r,s;const o=e.selection,l=e.dom,f=e.parser,d=n.merge,g=na({validate:!0},e.schema),w='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,w);let C=o.getRng();const E=C.startContainer,P=e.getBody();E===P&&o.isCollapsed()&&l.isBlock(P.firstChild)&&hM(e,P.firstChild)&&l.isEmpty(P.firstChild)&&(C=l.createRng(),C.setStart(P.firstChild,0),C.setEnd(P.firstChild,0),o.setRng(C)),o.isCollapsed()||pM(e);const L=o.getNode(),k={context:L.nodeName.toLowerCase(),data:n.data,insert:!0},B=f.parse(t,k);if(n.paste===!0&&HL(e.schema,B)&&JL(l,L))return C=rM(g,l,o.getRng(),B),C&&o.setRng(C),t;n.paste===!0&&oM(l,B,L,e.getBody())&&((r=B.firstChild)===null||r===void 0||r.unwrap()),uM(B);let j=B.lastChild;if(j&&j.attr("id")==="mce_marker"){const H=j;for(j=j.prev;j;j=j.walk(!0))if(j.type===3||!l.isBlock(j.name)){j.parent&&e.schema.isValidChild(j.parent.name,"span")&&j.parent.insert(H,j,j.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(L),!k.invalid)t=g.serialize(B),iM(e,t,L);else{e.selection.setContent(w);let H=o.getNode(),G;const K=e.getBody();for(qo(H)?H=G=K:G=H;G&&G!==K;)H=G,G=G.parentNode;t=H===K?K.innerHTML:l.getOuterHTML(H);const oe=f.parse(t),ye=gM(oe),me=ye.bind(BL).getOr(oe);ye.each(Ne=>Ne.replace(B));const ee=B.children(),Z=(s=B.parent)!==null&&s!==void 0?s:oe;B.unwrap();const Se=He(ee,Ne=>pE(e.schema,Ne,Z));hv(Se,e.schema,me),hE(f.getNodeFilters(),f.getAttributeFilters(),oe),t=g.serialize(oe),H===K?l.setHTML(K,t):l.setOuterHTML(H,t)}return cM(e,d),mM(e,l.get("mce_marker")),fM(e.getBody()),lM(l,o.getStart()),DR(e.schema,e.getBody(),o.getStart()),t},Ud=e=>e instanceof Gn,bM=e=>{ri(e)&&qn(e.getBody()).each(t=>{const n=t.getNode(),r=ss(n)?qn(n).getOr(t):t;e.selection.setRng(r.toRange())})},vv=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&bM(e)},yM=(e,t,n,r)=>{if(n.length===0||/^\s+$/.test(n)){const s='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+s+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+s+"</li>");const o=fr(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=s,n=e.dom.createHTML(o,Nc(e),n)):n||(n=s),vv(e,n,r.no_selection),{content:n,html:n}}else{r.format!=="raw"&&(n=na({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const s=b(U.fromDom(t))?n:pe.trim(n);return vv(e,s,r.no_selection),{content:s,html:s}}},CM=(e,t,n,r)=>{hE(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const s=na({validate:!1},e.schema).serialize(n),o=b(U.fromDom(t))?s:pe.trim(s);return vv(e,o,r.no_selection),{content:n,html:o}},wM=(e,t,n)=>x.from(e.getBody()).map(r=>Ud(t)?CM(e,r,t,n):yM(e,r,t,n)).getOr({content:t,html:Ud(n.content)?"":n.content}),SM=(e,t,n)=>ns(e,t,n).isSome(),EM=(e,t)=>np(e,t).isSome(),vE=e=>Ke(e)?e:Ye,_M=(e,t,n)=>{let r=e.dom;const s=vE(n);for(;r.parentNode;){r=r.parentNode;const o=U.fromDom(r),l=t(o);if(l.isSome())return l;if(s(o))break}return x.none()},bv=(e,t,n)=>{const r=t(e),s=vE(n);return r.orThunk(()=>s(e)?x.none():_M(e,t,s))},yv=Sg,bE=(e,t,n)=>{const r=e.formatter.get(n);if(r)for(let s=0;s<r.length;s++){const o=r[s];if(xr(o)&&o.inherit===!1&&e.dom.is(t,o.selector))return!0}return!1},Cv=(e,t,n,r,s)=>{const o=e.dom.getRoot();if(t===o)return!1;const l=e.dom.getParent(t,f=>bE(e,f,n)?!0:f.parentNode===o||!!Ls(e,f,n,r,!0));return!!Ls(e,l,n,r,s)},Wd=(e,t,n)=>mn(n)&&yv(t,n.inline)||Is(n)&&yv(t,n.block)?!0:xr(n)?Ee(t)&&e.is(t,n.selector):!1,yE=(e,t,n,r,s,o)=>{const l=n[r],f=r==="attributes";if(Ke(n.onmatch))return n.onmatch(t,n,r);if(l){if(Ml(l)){for(let d=0;d<l.length;d++)if(f?e.getAttrib(t,l[d]):xd(e,t,l[d]))return!0}else for(const d in l)if(Je(l,d)){const g=f?e.getAttrib(t,d):xd(e,t,d),w=ta(l[d],o),C=at(g)||no(g);if(C&&at(w))continue;if(s&&C&&!n.exact||(!s||n.exact)&&!yv(g,Eg(w,d)))return!1}}return!0},Ls=(e,t,n,r,s)=>{const o=e.formatter.get(n),l=e.dom;if(o&&Ee(t))for(let f=0;f<o.length;f++){const d=o[f];if(Wd(e.dom,t,d)&&yE(l,t,d,"attributes",s,r)&&yE(l,t,d,"styles",s,r)){const g=d.classes;if(g){for(let w=0;w<g.length;w++)if(!e.dom.hasClass(t,ta(g[w],r)))return}return d}}},wv=(e,t,n,r,s)=>{if(r)return Cv(e,r,t,n,s);if(r=e.selection.getNode(),Cv(e,r,t,n,s))return!0;const o=e.selection.getStart();return!!(o!==r&&Cv(e,o,t,n,s))},xM=(e,t,n)=>{const r=[],s={},o=e.selection.getStart();return e.dom.getParent(o,l=>{for(let f=0;f<t.length;f++){const d=t[f];!s[d]&&Ls(e,l,d,n)&&(s[d]=!0,r.push(d))}},e.dom.getRoot()),r},TM=(e,t)=>{const n=s=>bt(s,U.fromDom(e.getBody())),r=(s,o)=>Ls(e,s.dom,o)?x.some(o):x.none();return x.from(e.selection.getStart(!0)).bind(s=>bv(U.fromDom(s),o=>Qs(t,l=>r(o,l)),n)).getOrNull()},kM=(e,t)=>{const n=e.formatter.get(t),r=e.dom;if(n){const s=e.selection.getStart(),o=Td(r,s);for(let l=n.length-1;l>=0;l--){const f=n[l];if(!xr(f))return!0;for(let d=o.length-1;d>=0;d--)if(r.is(o[d],f.selector))return!0}}return!1},AM=(e,t,n)=>fn(n,(r,s)=>{const o=T$(e,s);return e.formatter.matchNode(t,s,{},o)?r.concat([s]):r},[]),hl=ae,DM=(e,t)=>e.importNode(t,!0),RM=e=>{const t=[];let n=e;for(;n;){if(ce(n)&&n.data!==hl||n.childNodes.length>1)return[];Ee(n)&&t.push(n),n=n.firstChild}return t},CE=e=>RM(e).length>0,wE=e=>{if(e){const t=new sn(e,e);for(let n=t.current();n;n=t.next())if(ce(n))return n}return null},Sv=e=>{const t=U.fromTag("span");return xs(t,{id:ug,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&rn(t,U.fromText(hl)),t},NM=e=>{const t=wE(e);return t&&t.data.charAt(0)===hl&&t.deleteData(0,1),t},Ev=(e,t,n=!0)=>{const r=e.dom,s=e.selection;if(CE(t))si(e,!1,U.fromDom(t),n);else{const o=s.getRng(),l=r.getParent(t,r.isBlock),f=o.startContainer,d=o.startOffset,g=o.endContainer,w=o.endOffset,C=NM(t);r.remove(t,!0),f===C&&d>0&&o.setStart(C,d-1),g===C&&w>0&&o.setEnd(C,w-1),l&&r.isEmpty(l)&&te(U.fromDom(l)),s.setRng(o)}},_v=(e,t,n=!0)=>{const r=e.dom,s=e.selection;if(t)Ev(e,t,n);else if(t=Qa(e.getBody(),s.getStart()),!t)for(;t=r.get(ug);)Ev(e,t,!1)},OM=(e,t,n)=>{var r,s;const o=e.dom,l=o.getParent(n,xe(Cg,e.schema));l&&o.isEmpty(l)?(r=n.parentNode)===null||r===void 0||r.replaceChild(t,n):(R(U.fromDom(n)),o.isEmpty(n)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):o.insertAfter(t,n))},SE=(e,t)=>(e.appendChild(t),t),EE=(e,t)=>{var n;const r=Jn(e,(o,l)=>SE(o,l.cloneNode(!1)),t),s=(n=r.ownerDocument)!==null&&n!==void 0?n:document;return SE(r,s.createTextNode(hl))},PM=(e,t,n,r,s,o)=>{const l=e.formatter,f=e.dom,d=He(Wn(l.get()),C=>C!==r&&!ln(C,"removeformat")),g=AM(e,n,d);if(He(g,C=>!k$(e,C,r)).length>0){const C=n.cloneNode(!1);return f.add(t,C),l.remove(r,s,C,o),f.remove(C),x.some(C)}else return x.none()},$M=(e,t,n)=>{let r;const s=e.selection,o=e.formatter.get(t);if(!o)return;const l=s.getRng();let f=l.startOffset;const g=l.startContainer.nodeValue;r=Qa(e.getBody(),s.getStart());const w=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(g&&f>0&&f<g.length&&w.test(g.charAt(f))&&w.test(g.charAt(f-1))){const C=s.getBookmark();l.collapse(!0);let E=ei(e.dom,l,o);E=Pd(E),e.formatter.apply(t,n,E),s.moveToBookmark(C)}else{let C=r?wE(r):null;(!r||(C==null?void 0:C.data)!==hl)&&(r=DM(e.getDoc(),Sv(!0).dom),C=r.firstChild,l.insertNode(r),f=1),e.formatter.apply(t,n,r),s.setCursorLocation(C,f)}},BM=(e,t,n,r)=>{const s=e.dom,o=e.selection;let l=!1;const f=e.formatter.get(t);if(!f)return;const d=o.getRng(),g=d.startContainer,w=d.startOffset;let C=g;ce(g)&&(w!==g.data.length&&(l=!0),C=C.parentNode);const E=[];let P;for(;C;){if(Ls(e,C,t,n,r)){P=C;break}C.nextSibling&&(l=!0),E.push(C),C=C.parentNode}if(P)if(l){const L=o.getBookmark();d.collapse(!0);let k=ei(s,d,f,!0);k=Pd(k),e.formatter.remove(t,n,k,r),o.moveToBookmark(L)}else{const L=Qa(e.getBody(),P),k=Sv(!1).dom;OM(e,k,L??P);const B=PM(e,k,P,t,n,r),j=EE(E.concat(B.toArray()),k);L&&Ev(e,L,!1),o.setCursorLocation(j,1),s.isEmpty(P)&&s.remove(P)}},FM=(e,t)=>{const n=e.selection,r=e.getBody();_v(e,null,!1),(t===8||t===46)&&n.isCollapsed()&&n.getStart().innerHTML===hl&&_v(e,Qa(r,n.getStart())),(t===37||t===39)&&_v(e,Qa(r,n.getStart()))},IM=e=>{e.on("mouseup keydown",t=>{FM(e,t.keyCode)})},_E=e=>{const t=Sv(!1),n=EE(e,t.dom);return{caretContainer:t,caretPosition:re(n,0)}},xE=(e,t)=>{const{caretContainer:n,caretPosition:r}=_E(t);return tr(U.fromDom(e),n),Ut(U.fromDom(e)),r},LM=(e,t)=>{const{caretContainer:n,caretPosition:r}=_E(t);return e.selection.getRng().insertNode(n.dom),r},TE=(e,t)=>{const n=e.schema.getTextInlineElements();return Je(n,Ft(t))&&!Hr(t.dom)&&!ho(t.dom)},kE=e=>Hr(e.dom)&&CE(e.dom),Yc={},AE=Hn(["pre"]),MM=(e,t)=>{Yc[e]||(Yc[e]=[]),Yc[e].push(t)},zM=(e,t)=>{Je(Yc,e)&&ue(Yc[e],n=>{n(t)})};MM("pre",e=>{const t=e.selection.getRng(),n=s=>o=>{const l=o.previousSibling;return AE(l)&&kt(s,l)},r=(s,o)=>{const l=U.fromDom(o),f=lr(l).dom;Ut(l),uo(U.fromDom(s),[U.fromTag("br",f),U.fromTag("br",f),...bn(l)])};if(!t.collapsed){const s=e.selection.getSelectedBlocks(),o=He(He(s,AE),n(s));ue(o,l=>{r(l.previousSibling,l)})}});const DE=["fontWeight","fontStyle","color","fontSize","fontFamily"],UM=e=>be(e.styles)&&Xt(Wn(e.styles),t=>kt(DE,t)),WM=e=>Qt(e,t=>mn(t)&&t.inline==="span"&&UM(t)),RE=(e,t)=>{const n=e.get(t);return $e(n)?WM(n):x.none()},NE=(e,t)=>Er(t,re.fromRangeStart(e)).isNone(),OE=(e,t)=>rr(t,re.fromRangeEnd(e)).exists(n=>!Gt(n.getNode())||rr(t,n).isSome())===!1,PE=e=>t=>Cp(t)&&e.isEditable(t),HM=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return NE(n,t[0])&&OE(n,t[0])?t:[];{const r=Rn(t).filter(l=>NE(n,l)).toArray(),s=Js(t).filter(l=>OE(n,l)).toArray(),o=t.slice(1,-1);return r.concat(o).concat(s)}},jM=e=>He(HM(e),PE(e.dom)),$E=e=>He(e.getSelectedBlocks(),PE(e.dom)),xv=pe.each,Tv=e=>Ee(e)&&!_r(e)&&!Hr(e)&&!ho(e),BE=(e,t)=>{for(let n=e;n;n=n[t]){if(ce(n)&&br(n.data))return e;if(Ee(n)&&!_r(n))return n}return e},FE=(e,t,n)=>{const r=uv(e),s=Ee(t)&&Za(t),o=Ee(n)&&Za(n);if(s&&o){const l=BE(t,"previousSibling"),f=BE(n,"nextSibling");if(r.compare(l,f)){for(let d=l.nextSibling;d&&d!==f;){const g=d;d=d.nextSibling,l.appendChild(g)}return e.dom.remove(f),pe.each(pe.grep(f.childNodes),d=>{l.appendChild(d)}),l}}return n},IE=(e,t,n,r)=>{var s;if(r&&t.merge_siblings!==!1){const o=(s=FE(e,vw(r),r))!==null&&s!==void 0?s:r;FE(e,o,vw(o,!0))}},VM=(e,t,n)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";xv(e.select(r,n),s=>{Tv(s)&&Za(s)&&xv(t.styles,(o,l)=>{e.setStyle(s,l,"")})})}},kv=(e,t,n)=>{xv(e.childNodes,r=>{Tv(r)&&(t(r)&&n(r),r.hasChildNodes()&&kv(r,t,n))})},qM=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},LE=(e,t)=>n=>!!(n&&xd(e,n,t)),ME=(e,t,n)=>r=>{e.setStyle(r,t,n),r.getAttribute("style")===""&&r.removeAttribute("style"),qM(e,r)},ii=Os.generate([{keep:[]},{rename:["name"]},{removed:[]}]),GM=/^(src|href|style)$/,Av=pe.each,Hd=Sg,KM=e=>/^(TR|TH|TD)$/.test(e.nodeName),zE=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),UE=(e,t,n)=>{let r=t[n?"startContainer":"endContainer"],s=t[n?"startOffset":"endOffset"];if(Ee(r)){const o=r.childNodes.length-1;!n&&s&&s--,r=r.childNodes[s>o?o:s]}return ce(r)&&n&&s>=r.data.length&&(r=new sn(r,e.getBody()).next()||r),ce(r)&&!n&&s===0&&(r=new sn(r,e.getBody()).prev()||r),r},WE=(e,t)=>{const n=t?"firstChild":"lastChild",r=e[n];return KM(e)&&r?e.nodeName==="TR"&&r[n]||r:e},Dv=(e,t,n,r)=>{var s;const o=e.create(n,r);return(s=t.parentNode)===null||s===void 0||s.insertBefore(o,t),o.appendChild(t),o},HE=(e,t,n,r,s)=>{const o=U.fromDom(t),l=U.fromDom(e.create(r,s)),f=n?Nf(o):Rf(o);return uo(l,f),n?(tr(o,l),Lf(l,o)):(Ts(o,l),rn(l,o)),l.dom},XM=(e,t)=>t.links&&e.nodeName==="A",jE=(e,t,n)=>{const r=t.parentNode;let s;const o=e.dom,l=fr(e);Is(n)&&r===o.getRoot()&&(!n.list_block||!Hd(t,n.list_block))&&ue(Un(t.childNodes),f=>{cl(e,l,f.nodeName.toLowerCase())?s?s.appendChild(f):(s=Dv(o,f,l),o.setAttribs(s,Nc(e))):s=null}),!(R$(n)&&!Hd(n.inline,t))&&o.remove(t,!0)},VE=(e,t,n)=>Mt(e)?{name:t,value:null}:{name:e,value:ta(t,n)},qE=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},GE=(e,t,n,r,s)=>{let o=!1;Av(n.styles,(l,f)=>{const{name:d,value:g}=VE(f,l,r),w=Eg(g,d);(n.remove_similar||tt(g)||!Ee(s)||Hd(xd(e,s,d),w))&&e.setStyle(t,d,""),o=!0}),o&&qE(e,t)},YM=(e,t,n)=>{t==="removeformat"?ue($E(e.selection),r=>{ue(DE,s=>e.dom.setStyle(r,s,"")),qE(e.dom,r)}):RE(e.formatter,t).each(r=>{ue($E(e.selection),s=>GE(e.dom,s,r,n,null))})},KE=(e,t,n,r,s)=>{const o=e.dom,l=uv(e),f=e.schema;if(mn(t)&&td(f,t.inline)&&Wa(f,r)&&r.parentElement===e.getBody())return jE(e,r,t),ii.removed();if(!t.ceFalseOverride&&r&&o.getContentEditableParent(r)==="false"||r&&!Wd(o,r,t)&&!XM(r,t))return ii.keep();const d=r,g=t.preserve_attributes;if(mn(t)&&t.remove==="all"&&$e(g)){const w=He(o.getAttribs(d),C=>kt(g,C.name.toLowerCase()));if(o.removeAllAttribs(d),ue(w,C=>o.setAttrib(d,C.name,C.value)),w.length>0)return ii.rename("span")}if(t.remove!=="all"){GE(o,d,t,n,s),Av(t.attributes,(C,E)=>{const{name:P,value:L}=VE(E,C,n);if(t.remove_similar||tt(L)||!Ee(s)||Hd(o.getAttrib(s,P),L)){if(P==="class"){const k=o.getAttrib(d,P);if(k){let B="";if(ue(k.split(/\s+/),j=>{/mce\-\w+/.test(j)&&(B+=(B?" ":"")+j)}),B){o.setAttrib(d,P,B);return}}}if(GM.test(P)&&d.removeAttribute("data-mce-"+P),P==="style"&&Hn(["li"])(d)&&o.getStyle(d,"list-style-type")==="none"){d.removeAttribute(P),o.setStyle(d,"list-style-type","none");return}P==="class"&&d.removeAttribute("className"),d.removeAttribute(P)}}),Av(t.classes,C=>{C=ta(C,n),(!Ee(s)||o.hasClass(s,C))&&o.removeClass(d,C)});const w=o.getAttribs(d);for(let C=0;C<w.length;C++){const E=w[C].nodeName;if(!l.isAttributeInternal(E))return ii.keep()}}return t.remove!=="none"?(jE(e,d,t),ii.removed()):ii.keep()},Jc=(e,t,n,r,s)=>KE(e,t,n,r,s).fold(Ye,o=>(e.dom.rename(r,o),!0),ht),JM=(e,t,n,r,s)=>{let o;return t.parentNode&&ue(Td(e.dom,t.parentNode).reverse(),l=>{if(!o&&Ee(l)&&l.id!=="_start"&&l.id!=="_end"){const f=Ls(e,l,n,r,s);f&&f.split!==!1&&(o=l)}}),o},QM=(e,t,n,r)=>KE(e,t,n,r,r).fold(ie(r),s=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,s)),ie(null)),ZM=(e,t,n,r,s,o,l,f)=>{var d,g;let w,C;const E=e.dom;if(n){const P=n.parentNode;for(let L=r.parentNode;L&&L!==P;L=L.parentNode){let k=E.clone(L,!1);for(let B=0;B<t.length&&(k=QM(e,t[B],f,k),k!==null);B++);k&&(w&&k.appendChild(w),C||(C=k),w=k)}o&&(!l.mixed||!E.isBlock(n))&&(r=(d=E.split(n,r))!==null&&d!==void 0?d:r),w&&C&&((g=s.parentNode)===null||g===void 0||g.insertBefore(w,s),C.appendChild(s),mn(l)&&IE(e,l,f,w))}return r},XE=(e,t,n,r,s)=>{const o=e.formatter.get(t),l=o[0],f=e.dom,d=e.selection,g=k=>{const B=JM(e,k,t,n,s);return ZM(e,o,B,k,k,!0,l,n)},w=k=>_r(k)&&Ee(k)&&(k.id==="_start"||k.id==="_end"),C=k=>Xt(o,B=>Jc(e,B,n,k,k)),E=k=>{const B=Un(k.childNodes),H=C(k)||Xt(o,oe=>Wd(f,k,oe)),G=k.parentNode;if(!H&&fe(G)&&xg(l)&&C(G),l.deep&&B.length)for(let oe=0;oe<B.length;oe++)E(B[oe]);ue(["underline","line-through","overline"],oe=>{Ee(k)&&e.dom.getStyle(k,"text-decoration")===oe&&k.parentNode&&yw(f,k.parentNode)===oe&&Jc(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:oe}},void 0,k)})},P=k=>{const B=f.get(k?"_start":"_end");if(B){let j=B[k?"firstChild":"lastChild"];return w(j)&&(j=j[k?"firstChild":"lastChild"]),ce(j)&&j.data.length===0&&(j=k?B.previousSibling||B.nextSibling:B.nextSibling||B.previousSibling),f.remove(B,!0),j}else return null},L=k=>{let B,j,H=ei(f,k,o,k.collapsed);if(l.split){if(H=Pd(H),B=UE(e,H,!0),j=UE(e,H),B!==j){if(B=WE(B,!0),j=WE(j,!1),zE(f,B,j)){const K=x.from(B.firstChild).getOr(B);g(HE(f,K,!0,"span",{id:"_start","data-mce-type":"bookmark"})),P(!0);return}if(zE(f,j,B)){const K=x.from(j.lastChild).getOr(j);g(HE(f,K,!1,"span",{id:"_end","data-mce-type":"bookmark"})),P(!1);return}B=Dv(f,B,"span",{id:"_start","data-mce-type":"bookmark"}),j=Dv(f,j,"span",{id:"_end","data-mce-type":"bookmark"});const G=f.createRng();G.setStartAfter(B),G.setEndBefore(j),zc(f,G,K=>{ue(K,oe=>{!_r(oe)&&!_r(oe.parentNode)&&g(oe)})}),g(B),g(j),B=P(!0),j=P()}else B=j=g(B);H.startContainer=B.parentNode?B.parentNode:B,H.startOffset=f.nodeIndex(B),H.endContainer=j.parentNode?j.parentNode:j,H.endOffset=f.nodeIndex(j)+1}zc(f,H,G=>{ue(G,E)})};if(r){if(_d(r)){const k=f.createRng();k.setStartBefore(r),k.setEndAfter(r),L(k)}else L(r);Bw(e,t,r,n);return}!d.isCollapsed()||!mn(l)||ll(e).length?(gw(e,()=>bg(e,L),k=>mn(l)&&wv(e,t,n,k)),e.nodeChanged()):BM(e,t,n,s),YM(e,t,n),Bw(e,t,r,n)},YE=pe.each,ez=(e,t,n,r)=>{const s=o=>{if(Ee(o)&&Ee(o.parentNode)&&Za(o)){const l=yw(e,o.parentNode);e.getStyle(o,"color")&&l?e.setStyle(o,"text-decoration",l):e.getStyle(o,"text-decoration")===l&&e.setStyle(o,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(pe.walk(r,s,"childNodes"),s(r))},tz=(e,t,n,r)=>{if(t.styles&&t.styles.backgroundColor){const s=LE(e,"fontSize");kv(r,o=>s(o)&&Za(o),ME(e,"backgroundColor",ta(t.styles.backgroundColor,n)))}},nz=(e,t,n,r)=>{if(mn(t)&&(t.inline==="sub"||t.inline==="sup")){const s=LE(e,"fontSize");kv(r,l=>s(l)&&Za(l),ME(e,"fontSize",""));const o=He(e.select(t.inline==="sup"?"sub":"sup",r),Za);e.remove(o,!0)}},rz=(e,t,n,r)=>{YE(t,s=>{mn(s)&&YE(e.dom.select(s.inline,r),o=>{Tv(o)&&Jc(e,s,n,o,s.exact?o:null)}),VM(e.dom,s,r)})},sz=(e,t,n,r,s)=>{const o=s.parentNode;Ls(e,o,n,r)&&Jc(e,t,r,s)||t.merge_with_parents&&o&&e.dom.getParent(o,l=>Ls(e,l,n,r)?(Jc(e,t,r,s),!0):!1)},jd=pe.each,oz=(e,t,n,r)=>{if(IO(e)&&mn(t)&&n.parentNode){const s=RC(e.schema),o=EM(U.fromDom(n),l=>Hr(l.dom));return Cs(s,r)&&on(U.fromDom(n.parentNode),!1)&&!o}else return!1},JE=(e,t,n,r)=>{if(jd(n.styles,(s,o)=>{e.setStyle(t,o,ta(s,r))}),n.styles){const s=e.getAttrib(t,"style");s&&e.setAttrib(t,"data-mce-style",s)}},QE=(e,t,n,r)=>{const s=e.formatter.get(t),o=s[0],l=!r&&e.selection.isCollapsed(),f=e.dom,d=e.selection,g=(L,k=o)=>{Ke(k.onformat)&&k.onformat(L,k,n,r),JE(f,L,k,n),jd(k.attributes,(B,j)=>{f.setAttrib(L,j,ta(B,n))}),jd(k.classes,B=>{const j=ta(B,n);f.hasClass(L,j)||f.addClass(L,j)})},w=(L,k)=>{let B=!1;return jd(L,j=>xr(j)?f.getContentEditable(k)==="false"&&!j.ceFalseOverride||fe(j.collapsed)&&j.collapsed!==l?!0:f.is(k,j.selector)&&!Hr(k)?(g(k,j),B=!0,!1):!0:!1),B},C=L=>{if(V(L)){const k=f.create(L);return g(k),k}else return null},E=(L,k,B)=>{const j=[];let H=!0;const G=o.inline||o.block,K=C(G),oe=ee=>A$(o)&&Ls(e,ee,t,n),ye=(ee,Z,Se)=>{const Ne=D$(o)&&Cg(e.schema,ee)&&cl(e,Z,G);return Se&&Ne},me=(ee,Z,Se,Ne)=>{const Ie=ee.nodeName.toLowerCase(),Ge=cl(e,G,Ie)&&cl(e,Z,G),nt=!B&&ce(ee)&&Te(ee.data),gt=Hr(ee),wt=!mn(o)||!L.isBlock(ee);return(Se||Ne)&&Ge&&!nt&&!gt&&wt};zc(L,k,ee=>{let Z;const Se=Ne=>{let Ie=!1,Ge=H,nt=!1;const gt=Ne.parentNode,wt=gt.nodeName.toLowerCase(),Ht=L.getContentEditable(Ne);fe(Ht)&&(Ge=H,H=Ht==="true",Ie=!0,nt=bw(e,Ne));const _n=H&&!Ie;if(Gt(Ne)&&!oz(e,o,Ne,wt)){Z=null,Is(o)&&L.remove(Ne);return}if(oe(Ne)){Z=null;return}if(ye(Ne,wt,_n)){const an=L.rename(Ne,G);g(an),j.push(an),Z=null;return}if(xr(o)){let an=w(s,Ne);if(!an&&fe(gt)&&xg(o)&&(an=w(s,gt)),!mn(o)||an){Z=null;return}}fe(K)&&me(Ne,wt,_n,nt)?(Z||(Z=L.clone(K,!1),gt.insertBefore(Z,Ne),j.push(Z)),nt&&Ie&&(H=Ge),Z.appendChild(Ne)):(Z=null,ue(Un(Ne.childNodes),Se),Ie&&(H=Ge),Z=null)};ue(ee,Se)}),o.links===!0&&ue(j,ee=>{const Z=Se=>{Se.nodeName==="A"&&g(Se,o),ue(Un(Se.childNodes),Z)};Z(ee)}),ue(j,ee=>{const Z=Ie=>{let Ge=0;return ue(Ie.childNodes,nt=>{!_$(nt)&&!_r(nt)&&Ge++}),Ge},Se=Ie=>Qt(Ie.childNodes,yg).filter(nt=>L.getContentEditable(nt)!=="false"&&Wd(L,nt,o)).map(nt=>{const gt=L.clone(nt,!1);return g(gt),L.replace(gt,Ie,!0),L.remove(nt,!0),gt}).getOr(Ie),Ne=Z(ee);if((j.length>1||!L.isBlock(ee))&&Ne===0){L.remove(ee,!0);return}(mn(o)||Is(o)&&o.wrapper)&&(!o.exact&&Ne===1&&(ee=Se(ee)),rz(e,s,n,ee),sz(e,o,t,n,ee),tz(L,o,n,ee),ez(L,o,n,ee),nz(L,o,n,ee),IE(e,o,n,ee))})},P=_d(r)?r:d.getNode();if(f.getContentEditable(P)==="false"&&!bw(e,P)){r=P,w(s,r),$w(e,t,r,n);return}if(o){if(r)if(_d(r)){if(!w(s,r)){const L=f.createRng();L.setStartBefore(r),L.setEndAfter(r),E(f,ei(f,L,s),!0)}}else E(f,r,!0);else!l||!mn(o)||ll(e).length?(d.setRng(mv(d.getRng())),gw(e,()=>{bg(e,(L,k)=>{const B=k?L:ei(f,L,s);E(f,B,!1)})},ht),e.nodeChanged()):$M(e,t,n),RE(e.formatter,t).each(L=>{ue(jM(e.selection),k=>JE(f,k,L,n))});zM(t,e)}$w(e,t,r,n)},ZE=e=>Je(e,"vars"),az=(e,t)=>{e.set({}),t.on("NodeChange",n=>{r_(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const r=x.from(n.node).map(s=>_d(s)?s:s.startContainer).bind(s=>Ee(s)?x.some(s):x.from(s.parentElement)).getOrThunk(()=>e_(t));r_(t,r,e.get())})},e_=e=>e.selection.getStart(),t_=(e,t,n,r,s)=>Si(t,f=>{const d=e.formatter.matchNode(f,n,s??{},r);return!yt(d)},f=>bE(e,f,n)?!0:r?!1:fe(e.formatter.matchNode(f,n,s,!0))),n_=(e,t)=>{const n=t??e_(e);return He(Td(e.dom,n),r=>Ee(r)&&!ho(r))},r_=(e,t,n)=>{const r=n_(e,t);Nt(n,(s,o)=>{const l=f=>{const d=t_(e,r,o,f.similar,ZE(f)?f.vars:void 0),g=d.isSome();if(f.state.get()!==g){f.state.set(g);const w=d.getOr(t);ZE(f)?f.callback(g,{node:w,format:o,parents:r}):ue(f.callbacks,C=>C(g,{node:w,format:o,parents:r}))}};ue([s.withSimilar,s.withoutSimilar],l),ue(s.withVars,l)})},iz=(e,t,n,r,s,o)=>{const l=t.get();ue(n.split(","),f=>{const d=Bt(l,f).getOrThunk(()=>{const w={withSimilar:{state:yn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:yn(!1),similar:!1,callbacks:[]},withVars:[]};return l[f]=w,w}),g=()=>{const w=n_(e);return t_(e,w,f,s,o).isSome()};if(yt(o)){const w=s?d.withSimilar:d.withoutSimilar;w.callbacks.push(r),w.callbacks.length===1&&w.state.set(g())}else d.withVars.push({state:yn(g()),similar:s,vars:o,callback:r})}),t.set(l)},lz=(e,t,n)=>{const r=e.get();ue(t.split(","),s=>Bt(r,s).each(o=>{r[s]={withSimilar:{...o.withSimilar,callbacks:He(o.withSimilar.callbacks,l=>l!==n)},withoutSimilar:{...o.withoutSimilar,callbacks:He(o.withoutSimilar.callbacks,l=>l!==n)},withVars:He(o.withVars,l=>l.callback!==n)}})),e.set(r)},cz=(e,t,n,r,s,o)=>(iz(e,t,n,r,s,o),{unbind:()=>lz(t,n,r)}),uz=(e,t,n,r)=>{const s=e.formatter.get(t);s&&(wv(e,t,n,r)&&(!("toggle"in s[0])||s[0].toggle)?XE(e,t,n,r):QE(e,t,n,r))},s_=pe.explode,o_=()=>{const e={};return{addFilter:(s,o)=>{ue(s_(s),l=>{Je(e,l)||(e[l]={name:l,callbacks:[]}),e[l].callbacks.push(o)})},getFilters:()=>Ll(e),removeFilter:(s,o)=>{ue(s_(s),l=>{if(Je(e,l))if(fe(o)){const f=e[l],d=He(f.callbacks,g=>g!==o);d.length>0?f.callbacks=d:delete e[l]}else delete e[l]})}}},fz=(e,t)=>{ue(t,n=>{e.attr(n,null)})},dz=(e,t,n)=>{e.addNodeFilter("font",r=>{ue(r,s=>{const o=t.parse(s.attr("style")),l=s.attr("color"),f=s.attr("face"),d=s.attr("size");l&&(o.color=l),f&&(o["font-family"]=f),d&&Oo(d).each(g=>{o["font-size"]=n[g-1]}),s.name="span",s.attr("style",t.serialize(o)),fz(s,["color","face","size"])})})},hz=(e,t,n)=>{e.addNodeFilter("strike",r=>{const s=t.type!=="html4";ue(r,o=>{if(s)o.name="s";else{const l=n.parse(o.attr("style"));l["text-decoration"]="line-through",o.name="span",o.attr("style",n.serialize(l))}})})},mz=(e,t,n)=>{var r;const s=Ip();t.convert_fonts_to_spans&&dz(e,s,pe.explode((r=t.font_size_legacy_values)!==null&&r!==void 0?r:"")),hz(e,n,s)},pz=(e,t,n)=>{t.inline_styles&&mz(e,t,n)},gz=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`)),vz=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},Rv=e=>{const[t,...n]=e.split(","),r=n.join(","),s=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(s){const o=s[2]===";base64",l=o?vz(r):decodeURIComponent(r);return x.some({type:s[1],data:l,base64Encoded:o})}else return x.none()},a_=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch{return x.none()}const s=new Uint8Array(r.length);for(let o=0;o<s.length;o++)s[o]=r.charCodeAt(o);return x.some(new Blob([s],{type:e}))},bz=e=>new Promise((t,n)=>{Rv(e).bind(({type:r,data:s,base64Encoded:o})=>a_(r,s,o)).fold(()=>n("Invalid data URI"),t)}),yz=e=>gn(e,"blob:")?gz(e):gn(e,"data:")?bz(e):Promise.reject("Unknown URI format"),i_=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var s;n((s=r.error)===null||s===void 0?void 0:s.message)},r.readAsDataURL(e)});let Cz=0;const wz=e=>(e||"blobid")+Cz++,l_=(e,t,n)=>Rv(e).bind(({data:r,type:s,base64Encoded:o})=>{if(t&&!o)return x.none();{const l=o?r:btoa(r);return n(l,s)}}),c_=(e,t,n)=>{const r=e.create(wz(),t,n);return e.add(r),r},u_=(e,t,n=!1)=>l_(t,n,(r,s)=>x.from(e.getByData(r,s)).orThunk(()=>a_(s,r).map(o=>c_(e,o,r)))),Sz=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(gn(t,"blob:")){const r=e.getByUri(t);return fe(r)?Promise.resolve(r):yz(t).then(s=>i_(s).then(o=>l_(o,!1,l=>x.some(c_(e,s,l))).getOrThunk(n)))}else return gn(t,"data:")?u_(e,t).fold(n,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},Ez=e=>fe(e.attr("data-mce-bogus")),_z=e=>e.attr("src")===vt.transparentSrc||fe(e.attr("data-mce-placeholder")),xz=(e,t)=>{const{blob_cache:n}=t;if(n){const r=s=>{const o=s.attr("src");_z(s)||Ez(s)||at(o)||u_(n,o,!0).each(l=>{s.attr("src",l.blobUri())})};e.addAttributeFilter("src",s=>ue(s,r))}},Tz=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(s,o,l)=>{const f=pe.extend({},n.getBlockElements()),d=n.getNonEmptyElements(),g=n.getWhitespaceElements();f.body=1;const w=C=>C.name in f&&bC(n,C);for(let C=0,E=s.length;C<E;C++){let P=s[C],L=P.parent;if(L&&f[L.name]&&P===L.lastChild){let k=P.prev;for(;k;){const B=k.name;if(B!=="span"||k.attr("data-mce-type")!=="bookmark"){B==="br"&&(P=null);break}k=k.prev}if(P&&(P.remove(),Xc(n,d,g,L))){const B=n.getElementRule(L.name);B&&(B.removeEmpty?L.remove():B.paddEmpty&&fv(l,w,L))}}else{let k=P;for(;L&&L.firstChild===k&&L.lastChild===k&&(k=L,!f[L.name]);)L=L.parent;if(k===L){const B=new Gn("#text",3);B.value=dn,P.replace(B)}}}}),e.addAttributeFilter("href",s=>{let o=s.length;const l=d=>d.split(" ").filter(w=>w.length>0).concat(["noopener"]).sort().join(" "),f=d=>{const g=d?pe.trim(d):"";return/\b(noopener)\b/g.test(g)?g:l(g)};if(!t.allow_unsafe_link_target)for(;o--;){const d=s[o];d.name==="a"&&d.attr("target")==="_blank"&&d.attr("rel",f(d.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",s=>{let o=s.length,l,f,d,g;for(;o--;)if(g=s[o],g.name==="a"&&g.firstChild&&!g.attr("href"))for(d=g.parent,l=g.lastChild;l&&d;)f=l.prev,d.insert(l,g),l=f}),t.fix_list_elements&&e.addNodeFilter("ul,ol",s=>{let o=s.length,l,f;for(;o--;)if(l=s[o],f=l.parent,f&&(f.name==="ul"||f.name==="ol"))if(l.prev&&l.prev.name==="li")l.prev.append(l);else{const d=new Gn("li",1);d.attr("style","list-style-type: none"),l.wrap(d)}});const r=n.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",s=>{var o;let l=s.length;for(;l--;){const f=s[l],d=(o=f.attr("class"))!==null&&o!==void 0?o:"",g=pe.explode(d," ");let w="";for(let C=0;C<g.length;C++){const E=g[C];let P=!1,L=r["*"];L&&L[E]&&(P=!0),L=r[f.name],!P&&L&&L[E]&&(P=!0),P&&(w&&(w+=" "),w+=E)}w.length||(w=null),f.attr("class",w)}}),xz(e,t)};function li(e){return li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(e)}function Nv(e,t){return Nv=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Nv(e,t)}function kz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vd(e,t,n){return kz()?Vd=Reflect.construct:Vd=function(s,o,l){var f=[null];f.push.apply(f,o);var d=Function.bind.apply(s,f),g=new d;return l&&Nv(g,l.prototype),g},Vd.apply(null,arguments)}function ls(e){return Az(e)||Dz(e)||Rz(e)||Nz()}function Az(e){if(Array.isArray(e))return Ov(e)}function Dz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rz(e,t){if(e){if(typeof e=="string")return Ov(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ov(e,t)}}function Ov(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oz=Object.hasOwnProperty,f_=Object.setPrototypeOf,Pz=Object.isFrozen,$z=Object.getPrototypeOf,Bz=Object.getOwnPropertyDescriptor,sr=Object.freeze,Ms=Object.seal,Fz=Object.create,d_=typeof Reflect<"u"&&Reflect,qd=d_.apply,Pv=d_.construct;qd||(qd=function(t,n,r){return t.apply(n,r)}),sr||(sr=function(t){return t}),Ms||(Ms=function(t){return t}),Pv||(Pv=function(t,n){return Vd(t,ls(n))});var Iz=cs(Array.prototype.forEach),Lz=cs(Array.prototype.pop),Qc=cs(Array.prototype.push),Gd=cs(String.prototype.toLowerCase),Mz=cs(String.prototype.match),ia=cs(String.prototype.replace),zz=cs(String.prototype.indexOf),Uz=cs(String.prototype.trim),or=cs(RegExp.prototype.test),$v=Wz(TypeError);function cs(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return qd(e,t,r)}}function Wz(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pv(e,n)}}function Ct(e,t){f_&&f_(e,null);for(var n=t.length;n--;){var r=t[n];if(typeof r=="string"){var s=Gd(r);s!==r&&(Pz(t)||(t[n]=s),r=s)}e[r]=!0}return e}function ci(e){var t=Fz(null),n;for(n in e)qd(Oz,e,[n])&&(t[n]=e[n]);return t}function Kd(e,t){for(;e!==null;){var n=Bz(e,t);if(n){if(n.get)return cs(n.get);if(typeof n.value=="function")return cs(n.value)}e=$z(e)}function r(s){return console.warn("fallback value for",s),null}return r}var h_=sr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Bv=sr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fv=sr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Hz=sr(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Iv=sr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),jz=sr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),m_=sr(["#text"]),p_=sr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Lv=sr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),g_=sr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Xd=sr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Vz=Ms(/\{\{[\w\W]*|[\w\W]*\}\}/gm),qz=Ms(/<%[\w\W]*|[\w\W]*%>/gm),Gz=Ms(/^data-[\-\w.\u00B7-\uFFFF]/),Kz=Ms(/^aria-[\-\w]+$/),Xz=Ms(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Yz=Ms(/^(?:\w+script|data):/i),Jz=Ms(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Qz=Ms(/^html$/i),Zz=function(){return typeof window>"u"?null:window},eU=function(t,n){if(li(t)!=="object"||typeof t.createPolicy!="function")return null;var r=null,s="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(s)&&(r=n.currentScript.getAttribute(s));var o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML:function(f){return f}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function v_(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zz(),t=function(ne){return v_(ne)};if(t.version="2.3.8",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var n=e.document,r=e.document,s=e.DocumentFragment,o=e.HTMLTemplateElement,l=e.Node,f=e.Element,d=e.NodeFilter,g=e.NamedNodeMap,w=g===void 0?e.NamedNodeMap||e.MozNamedAttrMap:g,C=e.HTMLFormElement,E=e.DOMParser,P=e.trustedTypes,L=f.prototype,k=Kd(L,"cloneNode"),B=Kd(L,"nextSibling"),j=Kd(L,"childNodes"),H=Kd(L,"parentNode");if(typeof o=="function"){var G=r.createElement("template");G.content&&G.content.ownerDocument&&(r=G.content.ownerDocument)}var K=eU(P,n),oe=K?K.createHTML(""):"",ye=r,me=ye.implementation,ee=ye.createNodeIterator,Z=ye.createDocumentFragment,Se=ye.getElementsByTagName,Ne=n.importNode,Ie={};try{Ie=ci(r).documentMode?r.documentMode:{}}catch{}var Ge={};t.isSupported=typeof H=="function"&&me&&typeof me.createHTMLDocument<"u"&&Ie!==9;var nt=Vz,gt=qz,wt=Gz,Ht=Kz,_n=Yz,an=Jz,de=Xz,De=null,lt=Ct({},[].concat(ls(h_),ls(Bv),ls(Fv),ls(Iv),ls(m_))),Ce=null,Fe=Ct({},[].concat(ls(p_),ls(Lv),ls(g_),ls(Xd))),Le=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),we=null,et=null,Ze=!0,cn=!0,Rt=!1,qe=!1,dt=!1,Kt=!1,St=!1,Wt=!1,jt=!1,Pt=!1,Yt=!0,Rr=!0,xn=!1,hs={},hr=null,gi=Ct({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),vi=null,ms=Ct({},["audio","video","img","source","image","track"]),Vr=null,tn=Ct({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Nr="http://www.w3.org/1998/Math/MathML",ps="http://www.w3.org/2000/svg",Or="http://www.w3.org/1999/xhtml",Pr=Or,Hs=!1,An,So=["application/xhtml+xml","text/html"],js="text/html",qr,ua=null,vu=r.createElement("form"),uy=function(ne){return ne instanceof RegExp||ne instanceof Function},Hh=function(ne){ua&&ua===ne||((!ne||li(ne)!=="object")&&(ne={}),ne=ci(ne),De="ALLOWED_TAGS"in ne?Ct({},ne.ALLOWED_TAGS):lt,Ce="ALLOWED_ATTR"in ne?Ct({},ne.ALLOWED_ATTR):Fe,Vr="ADD_URI_SAFE_ATTR"in ne?Ct(ci(tn),ne.ADD_URI_SAFE_ATTR):tn,vi="ADD_DATA_URI_TAGS"in ne?Ct(ci(ms),ne.ADD_DATA_URI_TAGS):ms,hr="FORBID_CONTENTS"in ne?Ct({},ne.FORBID_CONTENTS):gi,we="FORBID_TAGS"in ne?Ct({},ne.FORBID_TAGS):{},et="FORBID_ATTR"in ne?Ct({},ne.FORBID_ATTR):{},hs="USE_PROFILES"in ne?ne.USE_PROFILES:!1,Ze=ne.ALLOW_ARIA_ATTR!==!1,cn=ne.ALLOW_DATA_ATTR!==!1,Rt=ne.ALLOW_UNKNOWN_PROTOCOLS||!1,qe=ne.SAFE_FOR_TEMPLATES||!1,dt=ne.WHOLE_DOCUMENT||!1,Wt=ne.RETURN_DOM||!1,jt=ne.RETURN_DOM_FRAGMENT||!1,Pt=ne.RETURN_TRUSTED_TYPE||!1,St=ne.FORCE_BODY||!1,Yt=ne.SANITIZE_DOM!==!1,Rr=ne.KEEP_CONTENT!==!1,xn=ne.IN_PLACE||!1,de=ne.ALLOWED_URI_REGEXP||de,Pr=ne.NAMESPACE||Or,ne.CUSTOM_ELEMENT_HANDLING&&uy(ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Le.tagNameCheck=ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ne.CUSTOM_ELEMENT_HANDLING&&uy(ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Le.attributeNameCheck=ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ne.CUSTOM_ELEMENT_HANDLING&&typeof ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Le.allowCustomizedBuiltInElements=ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),An=So.indexOf(ne.PARSER_MEDIA_TYPE)===-1?An=js:An=ne.PARSER_MEDIA_TYPE,qr=An==="application/xhtml+xml"?function(Ae){return Ae}:Gd,qe&&(cn=!1),jt&&(Wt=!0),hs&&(De=Ct({},ls(m_)),Ce=[],hs.html===!0&&(Ct(De,h_),Ct(Ce,p_)),hs.svg===!0&&(Ct(De,Bv),Ct(Ce,Lv),Ct(Ce,Xd)),hs.svgFilters===!0&&(Ct(De,Fv),Ct(Ce,Lv),Ct(Ce,Xd)),hs.mathMl===!0&&(Ct(De,Iv),Ct(Ce,g_),Ct(Ce,Xd))),ne.ADD_TAGS&&(De===lt&&(De=ci(De)),Ct(De,ne.ADD_TAGS)),ne.ADD_ATTR&&(Ce===Fe&&(Ce=ci(Ce)),Ct(Ce,ne.ADD_ATTR)),ne.ADD_URI_SAFE_ATTR&&Ct(Vr,ne.ADD_URI_SAFE_ATTR),ne.FORBID_CONTENTS&&(hr===gi&&(hr=ci(hr)),Ct(hr,ne.FORBID_CONTENTS)),Rr&&(De["#text"]=!0),dt&&Ct(De,["html","head","body"]),De.table&&(Ct(De,["tbody"]),delete we.tbody),sr&&sr(ne),ua=ne)},fy=Ct({},["mi","mo","mn","ms","mtext"]),dy=Ct({},["foreignobject","desc","title","annotation-xml"]),u1=Ct({},["title","style","font","a","script"]),gs=Ct({},Bv);Ct(gs,Fv),Ct(gs,Hz);var xl=Ct({},Iv);Ct(xl,jz);var Y=function(ne){var Ae=H(ne);(!Ae||!Ae.tagName)&&(Ae={namespaceURI:Or,tagName:"template"});var je=Gd(ne.tagName),Vt=Gd(Ae.tagName);return ne.namespaceURI===ps?Ae.namespaceURI===Or?je==="svg":Ae.namespaceURI===Nr?je==="svg"&&(Vt==="annotation-xml"||fy[Vt]):!!gs[je]:ne.namespaceURI===Nr?Ae.namespaceURI===Or?je==="math":Ae.namespaceURI===ps?je==="math"&&dy[Vt]:!!xl[je]:ne.namespaceURI===Or?Ae.namespaceURI===ps&&!dy[Vt]||Ae.namespaceURI===Nr&&!fy[Vt]?!1:!xl[je]&&(u1[je]||!gs[je]):!1},J=function(ne){Qc(t.removed,{element:ne});try{ne.parentNode.removeChild(ne)}catch{try{ne.outerHTML=oe}catch{ne.remove()}}},he=function(ne,Ae){try{Qc(t.removed,{attribute:Ae.getAttributeNode(ne),from:Ae})}catch{Qc(t.removed,{attribute:null,from:Ae})}if(Ae.removeAttribute(ne),ne==="is"&&!Ce[ne])if(Wt||jt)try{J(Ae)}catch{}else try{Ae.setAttribute(ne,"")}catch{}},le=function(ne){var Ae,je;if(St)ne="<remove></remove>"+ne;else{var Vt=Mz(ne,/^[\r\n\t ]+/);je=Vt&&Vt[0]}An==="application/xhtml+xml"&&(ne='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ne+"</body></html>");var mr=K?K.createHTML(ne):ne;if(Pr===Or)try{Ae=new E().parseFromString(mr,An)}catch{}if(!Ae||!Ae.documentElement){Ae=me.createDocument(Pr,"template",null);try{Ae.documentElement.innerHTML=Hs?"":mr}catch{}}var Xn=Ae.body||Ae.documentElement;return ne&&je&&Xn.insertBefore(r.createTextNode(je),Xn.childNodes[0]||null),Pr===Or?Se.call(Ae,dt?"html":"body")[0]:dt?Ae.documentElement:Xn},Oe=function(ne){return ee.call(ne.ownerDocument||ne,ne,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},ct=function(ne){return ne instanceof C&&(typeof ne.nodeName!="string"||typeof ne.textContent!="string"||typeof ne.removeChild!="function"||!(ne.attributes instanceof w)||typeof ne.removeAttribute!="function"||typeof ne.setAttribute!="function"||typeof ne.namespaceURI!="string"||typeof ne.insertBefore!="function")},_t=function(ne){return li(l)==="object"?ne instanceof l:ne&&li(ne)==="object"&&typeof ne.nodeType=="number"&&typeof ne.nodeName=="string"},xt=function(ne,Ae,je){Ge[ne]&&Iz(Ge[ne],function(Vt){Vt.call(t,Ae,je,ua)})},bi=function(ne){var Ae;if(xt("beforeSanitizeElements",ne,null),ct(ne)||or(/[\u0080-\uFFFF]/,ne.nodeName))return J(ne),!0;var je=qr(ne.nodeName);if(xt("uponSanitizeElement",ne,{tagName:je,allowedTags:De}),ne.hasChildNodes()&&!_t(ne.firstElementChild)&&(!_t(ne.content)||!_t(ne.content.firstElementChild))&&or(/<[/\w]/g,ne.innerHTML)&&or(/<[/\w]/g,ne.textContent)||je==="select"&&or(/<template/i,ne.innerHTML))return J(ne),!0;if(!De[je]||we[je]){if(!we[je]&&f1(je)&&(Le.tagNameCheck instanceof RegExp&&or(Le.tagNameCheck,je)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(je)))return!1;if(Rr&&!hr[je]){var Vt=H(ne)||ne.parentNode,mr=j(ne)||ne.childNodes;if(mr&&Vt)for(var Xn=mr.length,Ln=Xn-1;Ln>=0;--Ln)Vt.insertBefore(k(mr[Ln],!0),B(ne))}return J(ne),!0}return ne instanceof f&&!Y(ne)||(je==="noscript"||je==="noembed")&&or(/<\/no(script|embed)/i,ne.innerHTML)?(J(ne),!0):(qe&&ne.nodeType===3&&(Ae=ne.textContent,Ae=ia(Ae,nt," "),Ae=ia(Ae,gt," "),ne.textContent!==Ae&&(Qc(t.removed,{element:ne.cloneNode()}),ne.textContent=Ae)),xt("afterSanitizeElements",ne,null),!1)},bu=function(ne,Ae,je){if(Yt&&(Ae==="id"||Ae==="name")&&(je in r||je in vu))return!1;if(!(cn&&!et[Ae]&&or(wt,Ae))){if(!(Ze&&or(Ht,Ae))){if(!Ce[Ae]||et[Ae]){if(!(f1(ne)&&(Le.tagNameCheck instanceof RegExp&&or(Le.tagNameCheck,ne)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(ne))&&(Le.attributeNameCheck instanceof RegExp&&or(Le.attributeNameCheck,Ae)||Le.attributeNameCheck instanceof Function&&Le.attributeNameCheck(Ae))||Ae==="is"&&Le.allowCustomizedBuiltInElements&&(Le.tagNameCheck instanceof RegExp&&or(Le.tagNameCheck,je)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(je))))return!1}else if(!Vr[Ae]){if(!or(de,ia(je,an,""))){if(!((Ae==="src"||Ae==="xlink:href"||Ae==="href")&&ne!=="script"&&zz(je,"data:")===0&&vi[ne])){if(!(Rt&&!or(_n,ia(je,an,"")))){if(je)return!1}}}}}}return!0},f1=function(ne){return ne.indexOf("-")>0},d1=function(ne){var Ae,je,Vt,mr;xt("beforeSanitizeAttributes",ne,null);var Xn=ne.attributes;if(Xn){var Ln={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce};for(mr=Xn.length;mr--;){Ae=Xn[mr];var jh=Ae,Mn=jh.name,h1=jh.namespaceURI;je=Mn==="value"?Ae.value:Uz(Ae.value),Vt=qr(Mn);var u9=je;if(Ln.attrName=Vt,Ln.attrValue=je,Ln.keepAttr=!0,Ln.forceKeepAttr=void 0,xt("uponSanitizeAttribute",ne,Ln),je=Ln.attrValue,!Ln.forceKeepAttr){if(!Ln.keepAttr){he(Mn,ne);continue}if(or(/\/>/i,je)){he(Mn,ne);continue}qe&&(je=ia(je,nt," "),je=ia(je,gt," "));var f9=qr(ne.nodeName);if(!bu(f9,Vt,je)){he(Mn,ne);continue}if(je!==u9)try{h1?ne.setAttributeNS(h1,Mn,je):ne.setAttribute(Mn,je)}catch{he(Mn,ne)}}}xt("afterSanitizeAttributes",ne,null)}},c9=function Qe(ne){var Ae,je=Oe(ne);for(xt("beforeSanitizeShadowDOM",ne,null);Ae=je.nextNode();)xt("uponSanitizeShadowNode",Ae,null),!bi(Ae)&&(Ae.content instanceof s&&Qe(Ae.content),d1(Ae));xt("afterSanitizeShadowDOM",ne,null)};return t.sanitize=function(Qe,ne){var Ae,je,Vt,mr,Xn;if(Hs=!Qe,Hs&&(Qe="<!-->"),typeof Qe!="string"&&!_t(Qe)){if(typeof Qe.toString!="function")throw $v("toString is not a function");if(Qe=Qe.toString(),typeof Qe!="string")throw $v("dirty is not a string, aborting")}if(!t.isSupported){if(li(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Qe=="string")return e.toStaticHTML(Qe);if(_t(Qe))return e.toStaticHTML(Qe.outerHTML)}return Qe}if(Kt||Hh(ne),t.removed=[],typeof Qe=="string"&&(xn=!1),xn){if(Qe.nodeName){var Ln=qr(Qe.nodeName);if(!De[Ln]||we[Ln])throw $v("root node is forbidden and cannot be sanitized in-place")}}else if(Qe instanceof l)Ae=le("<!---->"),je=Ae.ownerDocument.importNode(Qe,!0),je.nodeType===1&&je.nodeName==="BODY"||je.nodeName==="HTML"?Ae=je:Ae.appendChild(je);else{if(!Wt&&!qe&&!dt&&Qe.indexOf("<")===-1)return K&&Pt?K.createHTML(Qe):Qe;if(Ae=le(Qe),!Ae)return Wt?null:Pt?oe:""}Ae&&St&&J(Ae.firstChild);for(var jh=Oe(xn?Qe:Ae);Vt=jh.nextNode();)Vt.nodeType===3&&Vt===mr||bi(Vt)||(Vt.content instanceof s&&c9(Vt.content),d1(Vt),mr=Vt);if(mr=null,xn)return Qe;if(Wt){if(jt)for(Xn=Z.call(Ae.ownerDocument);Ae.firstChild;)Xn.appendChild(Ae.firstChild);else Xn=Ae;return Ce.shadowroot&&(Xn=Ne.call(n,Xn,!0)),Xn}var Mn=dt?Ae.outerHTML:Ae.innerHTML;return dt&&De["!doctype"]&&Ae.ownerDocument&&Ae.ownerDocument.doctype&&Ae.ownerDocument.doctype.name&&or(Qz,Ae.ownerDocument.doctype.name)&&(Mn="<!DOCTYPE "+Ae.ownerDocument.doctype.name+`>
`+Mn),qe&&(Mn=ia(Mn,nt," "),Mn=ia(Mn,gt," ")),K&&Pt?K.createHTML(Mn):Mn},t.setConfig=function(Qe){Hh(Qe),Kt=!0},t.clearConfig=function(){ua=null,Kt=!1},t.isValidAttribute=function(Qe,ne,Ae){ua||Hh({});var je=qr(Qe),Vt=qr(ne);return bu(je,Vt,Ae)},t.addHook=function(Qe,ne){typeof ne=="function"&&(Ge[Qe]=Ge[Qe]||[],Qc(Ge[Qe],ne))},t.removeHook=function(Qe){if(Ge[Qe])return Lz(Ge[Qe])},t.removeHooks=function(Qe){Ge[Qe]&&(Ge[Qe]=[])},t.removeAllHooks=function(){Ge={}},t}var tU=v_();const b_=pe.each,nU=pe.trim,rU=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],sU={ftp:21,http:80,https:443,mailto:25},oU=["img","video"],aU=(e,t)=>fe(e)?!e:fe(t)?!kt(oU,t):!0,iU=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},y_=(e,t,n)=>{const r=iU(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?aU(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class us{constructor(t,n={}){this.path="",this.directory="",t=nU(t),this.settings=n;const r=n.base_uri,s=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){s.source=t;return}const o=t.indexOf("//")===0;if(t.indexOf("/")===0&&!o&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const f=r?r.path:new us(document.location.href).directory;if((r==null?void 0:r.protocol)==="")t="//mce_host"+s.toAbsPath(f,t);else{const d=/([^#?]*)([#?]?.*)/.exec(t);d&&(t=(r&&r.protocol||"http")+"://mce_host"+s.toAbsPath(f,d[1])+d[2])}}t=t.replace(/@@/g,"(mce_at)");const l=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);l&&b_(rU,(f,d)=>{let g=l[d];g&&(g=g.replace(/\(mce_at\)/g,"@@")),s[f]=g}),r&&(s.protocol||(s.protocol=r.protocol),s.userInfo||(s.userInfo=r.userInfo),!s.port&&s.host==="mce_host"&&(s.port=r.port),(!s.host||s.host==="mce_host")&&(s.host=r.host),s.source=""),o&&(s.protocol="")}static parseDataUri(t){let n;const r=decodeURIComponent(t).split(","),s=/data:([^;]+)/.exec(r[0]);return s&&(n=s[1]),{type:n,data:r[1]}}static isDomSafe(t,n,r={}){if(r.allow_script_urls)return!0;{const s=Xo.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!y_(r,s,n)}}static getDocumentBaseUrl(t){var n;let r;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?r=(n=t.href)!==null&&n!==void 0?n:"":r=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new us(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const r=this.getURI(),s=n.getURI();if(r===s||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===s)return r;let o=this.toRelPath(this.path,n.path);return n.query&&(o+="?"+n.query),n.anchor&&(o+="#"+n.anchor),o}toAbsolute(t,n){const r=new us(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?sU[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let r=0,s="",o,l;const f=t.substring(0,t.lastIndexOf("/")).split("/"),d=n.split("/");if(f.length>=d.length){for(o=0,l=f.length;o<l;o++)if(o>=d.length||f[o]!==d[o]){r=o+1;break}}if(f.length<d.length){for(o=0,l=d.length;o<l;o++)if(o>=f.length||f[o]!==d[o]){r=o+1;break}}if(r===1)return n;for(o=0,l=f.length-(r-1);o<l;o++)s+="../";for(o=r-1,l=d.length;o<l;o++)o!==r-1?s+="/"+d[o]:s+=d[o];return s}toAbsPath(t,n){let r=0;const s=/\/$/.test(n)?"/":"",o=t.split("/"),l=n.split("/"),f=[];b_(o,C=>{C&&f.push(C)});const d=[];for(let C=l.length-1;C>=0;C--)if(!(l[C].length===0||l[C]===".")){if(l[C]===".."){r++;continue}if(r>0){r--;continue}d.push(l[C])}const g=f.length-r;let w;return g<=0?w=va(d).join("/"):w=f.slice(0,g).join("/")+"/"+va(d).join("/"),w.indexOf("/")!==0&&(w="/"+w),s&&w.lastIndexOf("/")!==w.length-1&&(w+=s),w}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const lU=pe.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Mv="data-mce-type";let C_=0;const w_=(e,t,n,r)=>{var s,o,l,f;const d=t.validate,g=n.getSpecialElements();e.nodeType===_s&&!t.allow_conditional_comments&&/^\[if/i.test((s=e.nodeValue)!==null&&s!==void 0?s:"")&&(e.nodeValue=" "+e.nodeValue);const w=(o=r==null?void 0:r.tagName)!==null&&o!==void 0?o:e.nodeName.toLowerCase();if(e.nodeType!==Ra||w==="body")return;const C=U.fromDom(e),E=Bi(C,Mv),P=er(C,"data-mce-bogus");if(!E&&V(P)){P==="all"?Ut(C):rs(C);return}const L=n.getElementRule(w);if(d&&!L){Je(g,w)?Ut(C):rs(C);return}else fe(r)&&(r.allowedTags[w]=!0);if(d&&L&&!E){if(ue((l=L.attributesForced)!==null&&l!==void 0?l:[],k=>{Zt(C,k.name,k.value==="{$uid}"?`mce_${C_++}`:k.value)}),ue((f=L.attributesDefault)!==null&&f!==void 0?f:[],k=>{Bi(C,k.name)||Zt(C,k.name,k.value==="{$uid}"?`mce_${C_++}`:k.value)}),L.attributesRequired&&!Xt(L.attributesRequired,k=>Bi(C,k))){rs(C);return}if(L.removeEmptyAttrs&&Fi(C)){rs(C);return}L.outputName&&L.outputName!==w&&SN(C,L.outputName)}},S_=(e,t,n,r,s)=>!(r in lU&&y_(e,s,n))&&(!e.validate||t.isValid(n,r)||gn(r,"data-")||gn(r,"aria-")),E_=(e,t)=>e.hasAttribute(Mv)&&(t==="id"||t==="class"||t==="style"),__=(e,t)=>e in t.getBoolAttrs(),cU=(e,t,n)=>{const{attributes:r}=e;for(let s=r.length-1;s>=0;s--){const o=r[s],l=o.name,f=o.value;!S_(t,n,e.tagName.toLowerCase(),l,f)&&!E_(e,l)?e.removeAttribute(l):__(l,n)&&e.setAttribute(l,l)}},uU=(e,t)=>{const n=tU();return n.addHook("uponSanitizeElement",(r,s)=>{w_(r,e,t,s)}),n.addHook("uponSanitizeAttribute",(r,s)=>{const o=r.tagName.toLowerCase(),{attrName:l,attrValue:f}=s;s.keepAttr=S_(e,t,o,l,f),s.keepAttr?(s.allowedAttributes[l]=!0,__(l,t)&&(s.attrValue=l),e.allow_svg_data_urls&&gn(f,"data:image/svg+xml")&&(s.forceKeepAttr=!0)):E_(r,l)&&(s.forceKeepAttr=!0)}),n},fU=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},dU=(e,t)=>{if(e.sanitize){const n=uU(e,t);return(r,s)=>{n.sanitize(r,fU(e,s)),n.removed=[]}}else return(n,r)=>{const s=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let o;for(;o=s.nextNode();)w_(o,e,t),Ee(o)&&cU(o,e,t)}},x_=pe.makeMap,T_=pe.extend,k_=(e,t,n)=>{const r=e.name,s=r in n&&r!=="title"&&r!=="textarea",o=t.childNodes;for(let l=0,f=o.length;l<f;l++){const d=o[l],g=new Gn(d.nodeName.toLowerCase(),d.nodeType);if(Ee(d)){const w=d.attributes;for(let C=0,E=w.length;C<E;C++){const P=w[C];g.attr(P.name,P.value)}}else ce(d)?(g.value=d.data,s&&(g.raw=!0)):(As(d)||vp(d)||bp(d))&&(g.value=d.data);k_(g,d,n),e.append(g)}},hU=(e,t,n)=>{const r=[];for(let s=e,o=s;s;o=s,s=s.walk()){const l=s;ue(t,f=>f(l)),at(l.parent)&&l!==e?s=o:r.push(l)}for(let s=r.length-1;s>=0;s--){const o=r[s];ue(n,l=>l(o))}},mU=(e,t,n,r)=>{const s=n.validate,o=t.getNonEmptyElements(),l=t.getWhitespaceElements(),f=T_(x_("script,style,head,html,body,title,meta,param"),t.getBlockElements()),d=RC(t),g=/[ \t\r\n]+/g,w=/^[ \t\r\n]+/,C=/[ \t\r\n]+$/,E=H=>{let G=H.parent;for(;fe(G);){if(G.name in l)return!0;G=G.parent}return!1},P=H=>{let G=H;for(;fe(G);){if(G.name in d)return Xc(t,o,l,G);G=G.parent}return!1},L=H=>H.name in f&&!bC(t,H),k=(H,G)=>{const K=G?H.prev:H.next;return fe(K)||at(H.parent)?!1:L(H.parent)&&(H.parent!==e||r.isRootContent===!0)};return[H=>{var G;if(H.type===3&&!E(H)){let K=(G=H.value)!==null&&G!==void 0?G:"";K=K.replace(g," "),($L(H.prev,L)||k(H,!0))&&(K=K.replace(w,"")),K.length===0?H.remove():H.value=K}},H=>{var G;if(H.type===1){const K=t.getElementRule(H.name);if(s&&K){const oe=Xc(t,o,l,H);K.paddInEmptyBlock&&oe&&P(H)?fv(r,L,H):K.removeEmpty&&oe?L(H)?H.remove():H.unwrap():K.paddEmpty&&(oe||OL(H))&&fv(r,L,H)}}else if(H.type===3&&!E(H)){let K=(G=H.value)!==null&&G!==void 0?G:"";(H.next&&L(H.next)||k(H,!1))&&(K=K.replace(C,"")),K.length===0?H.remove():H.value=K}}]},pU=(e,t)=>{var n;const r=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return r===!1?"":r===!0?"p":r},ml=(e={},t=Yo())=>{const n=o_(),r=o_(),s={validate:!0,root_name:"body",sanitize:!0,...e},o=new DOMParser,l=dU(s,t),f=(G,K,oe="html")=>{const ye=oe==="xhtml"?"application/xhtml+xml":"text/html",me=Je(t.getSpecialElements(),K.toLowerCase()),ee=me?`<${K}>${G}</${K}>`:G,Z=oe==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${ee}</body></html>`:`<body>${ee}</body>`,Se=o.parseFromString(Z,ye).body;return l(Se,ye),me?Se.firstChild:Se},d=n.addFilter,g=n.getFilters,w=n.removeFilter,C=r.addFilter,E=r.getFilters,P=r.removeFilter,L=(G,K)=>{pE(t,G)&&K.push(G)},k=(G,K)=>{const oe=V(K.attr(Mv)),ye=K.type===1&&!Je(G,K.name)&&!NR(t,K);return K.type===3||ye&&!oe},B=(G,K)=>{const oe=T_(x_("script,style,head,html,body,title,meta,param"),t.getBlockElements()),ye=/^[ \t\r\n]+/,me=/[ \t\r\n]+$/;let ee=G.firstChild,Z=null;const Se=Ne=>{var Ie,Ge;Ne&&(ee=Ne.firstChild,ee&&ee.type===3&&(ee.value=(Ie=ee.value)===null||Ie===void 0?void 0:Ie.replace(ye,"")),ee=Ne.lastChild,ee&&ee.type===3&&(ee.value=(Ge=ee.value)===null||Ge===void 0?void 0:Ge.replace(me,"")))};if(t.isValidChild(G.name,K.toLowerCase())){for(;ee;){const Ne=ee.next;k(oe,ee)?(Z||(Z=new Gn(K,1),Z.attr(s.forced_root_block_attrs),G.insert(Z,ee)),Z.append(ee)):(Se(Z),Z=null),ee=Ne}Se(Z)}},H={schema:t,addAttributeFilter:C,getAttributeFilters:E,removeAttributeFilter:P,addNodeFilter:d,getNodeFilters:g,removeNodeFilter:w,parse:(G,K={})=>{var oe;const ye=s.validate,me=(oe=K.context)!==null&&oe!==void 0?oe:s.root_name,ee=f(G,me,K.format);Dp(t,ee);const Z=new Gn(me,11);k_(Z,ee,t.getSpecialElements()),ee.innerHTML="";const[Se,Ne]=mU(Z,t,s,K),Ie=[],Ge=ye?Ht=>L(Ht,Ie):ze,nt={nodes:{},attributes:{}},gt=Ht=>fE(g(),E(),Ht,nt);if(hU(Z,[Se,gt],[Ne,Ge]),Ie.reverse(),ye&&Ie.length>0)if(K.context){const{pass:Ht,fail:_n}=ga(Ie,an=>an.parent===Z);hv(_n,t,Z,gt),K.invalid=Ht.length>0}else hv(Ie,t,Z,gt);const wt=pU(s,K);return wt&&(Z.name==="body"||K.isRootContent)&&B(Z,wt),K.invalid||dE(nt,K),Z}};return Tz(H,s),pz(H,s,t),H},gU=e=>Ud(e)?na({validate:!1}).serialize(e):e,A_=(e,t,n)=>{const r=gU(e),s=t(r);if(s.isDefaultPrevented())return s;if(Ud(e))if(s.content!==r){const o=ml({validate:!1,forced_root_block:!1,sanitize:n}).parse(s.content,{context:e.name});return{...s,content:o}}else return{...s,content:e};else return s},D_=(e,t)=>{if(t.no_events)return Vn.value(t);{const n=eB(e,t);return n.isDefaultPrevented()?Vn.error(Iw(e,{content:"",...n}).content):Vn.value(n)}},R_=(e,t,n)=>n.no_events?t:A_(t,s=>Iw(e,{...n,content:s}),rg(e)).content,zv=(e,t)=>{if(t.no_events)return Vn.value(t);{const n=A_(t.content,r=>Z$(e,{...t,content:r}),rg(e));return n.isDefaultPrevented()?(Fw(e,n),Vn.error(void 0)):Vn.value(n)}},Uv=(e,t,n)=>{n.no_events||Fw(e,{...n,content:t})},Wv=(e,t,n)=>({element:e,width:t,rows:n}),N_=(e,t)=>({element:e,cells:t}),vU=(e,t)=>({x:e,y:t}),O_=(e,t)=>Zr(e,t).bind(Oo).getOr(1),bU=(e,t,n,r,s)=>{const o=O_(s,"rowspan"),l=O_(s,"colspan"),f=e.rows;for(let d=n;d<n+o;d++){f[d]||(f[d]=N_(VC(r),[]));for(let g=t;g<t+l;g++){const w=f[d].cells;w[g]=d===n&&g===t?s:qa(s)}}},yU=(e,t,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[t]},CU=(e,t,n)=>{for(;yU(e,t,n);)t++;return t},P_=e=>fn(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),$_=(e,t)=>{const n=e.rows;for(let r=0;r<n.length;r++){const s=n[r].cells;for(let o=0;o<s.length;o++)if(bt(s[o],t))return x.some(vU(o,r))}return x.none()},B_=(e,t,n,r,s)=>{const o=[],l=e.rows;for(let f=n;f<=s;f++){const d=l[f].cells,g=t<r?d.slice(t,r+1):d.slice(r,t+1);o.push(N_(l[f].element,g))}return o},wU=(e,t,n)=>{const r=t.x,s=t.y,o=n.x,l=n.y,f=s<l?B_(e,r,s,o,l):B_(e,r,l,o,s);return Wv(e.element,P_(f),f)},SU=(e,t)=>{const n=qa(e.element),r=U.fromTag("tbody");return uo(r,t),rn(n,r),n},EU=e=>mt(e.rows,t=>{const n=mt(t.cells,s=>{const o=VC(s);return vn(o,"colspan"),vn(o,"rowspan"),o}),r=qa(t.element);return uo(r,n),r}),_U=e=>{const t=Wv(qa(e),0,[]);return ue(Sn(e,"tr"),(n,r)=>{ue(Sn(n,"td,th"),(s,o)=>{bU(t,CU(t,o,r),r,n,s)})}),Wv(t.element,P_(t.rows),t.rows)},xU=e=>SU(e,EU(e)),TU=(e,t,n)=>$_(e,t).bind(r=>$_(e,n).map(s=>wU(e,r,s))),kU=e=>Qt(e,t=>Ft(t)==="ul"||Ft(t)==="ol"),AU=(e,t)=>Qt(e,n=>Ft(n)==="li"&&gg(n,t)).fold(ie([]),n=>kU(e).map(r=>{const s=U.fromTag(Ft(r)),o=Yr(If(r),(l,f)=>gn(f,"list-style"));return zo(s,o),[U.fromTag("li"),s]}).getOr([])),DU=(e,t)=>{const n=fn(t,(r,s)=>(rn(s,r),s),e);return t.length>0?Dg([n]):n},RU=e=>Rs(e)?cr(e).filter(bc).fold(ie([]),t=>[e,t]):bc(e)?[e]:[],NU=(e,t)=>{const n=U.fromDom(t.commonAncestorContainer),r=yo(n,e),s=He(r,D),o=AU(r,t),l=s.concat(o.length?o:RU(n));return mt(l,qa)},F_=()=>Dg([]),OU=(e,t)=>DU(U.fromDom(t.cloneContents()),NU(e,t)),PU=(e,t)=>Fa(t,"table",xe(bt,e)),$U=(e,t)=>PU(e,t[0]).bind(n=>{const r=t[0],s=t[t.length-1],o=_U(n);return TU(o,r,s).map(l=>Dg([xU(l)]))}).getOrThunk(F_),BU=(e,t)=>t.length>0&&t[0].collapsed?F_():OU(e,t[0]),FU=(e,t)=>{const n=hw(t,e);return n.length>0?$U(e,n):BU(e,t)},Yd=(e,t)=>t>=0&&t<e.length&&il(e.charAt(t)),I_=e=>ge(e.innerText),IU=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),LU=e=>x.from(e.selection.getRng()).map(t=>{var n;const r=x.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),s=e.getBody(),o=IU(r),l=U.fromDom(t.cloneContents());wS(l),SS(l);const f=e.dom.add(s,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},l.dom),d=I_(f),g=ge((n=f.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(f),Yd(g,0)||Yd(g,g.length-1)){const w=r.getOr(s),C=I_(w),E=C.indexOf(d);if(E===-1)return d;{const P=Yd(C,E-1),L=Yd(C,E+d.length);return(P?" ":"")+d+(L?" ":"")}}else return d}).getOr(""),MU=(e,t)=>{const n=e.selection.getRng(),r=e.dom.create("body"),s=e.selection.getSel(),o=Wg(e,mg(s)),l=t.contextual?FU(U.fromDom(e.getBody()),o).dom:n.cloneContents();return l&&r.appendChild(l),e.selection.serializer.serialize(r,t)},zU=(e,t)=>{if(t.format==="text")return LU(e);{const n=MU(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},UU=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),WU=(e,t,n={})=>{const r=UU(n,t);return D_(e,r).fold(zt,s=>{const o=zU(e,s);return R_(e,o,s)})},Hv=0,L_=1,M_=2,HU=(e,t)=>{const n=e.length+t.length+2,r=new Array(n),s=new Array(n),o=(w,C,E)=>({start:w,end:C,diag:E}),l=(w,C,E,P,L)=>{const k=d(w,C,E,P);if(k===null||k.start===C&&k.diag===C-P||k.end===w&&k.diag===w-E){let B=w,j=E;for(;B<C||j<P;)B<C&&j<P&&e[B]===t[j]?(L.push([Hv,e[B]]),++B,++j):C-w>P-E?(L.push([M_,e[B]]),++B):(L.push([L_,t[j]]),++j)}else{l(w,k.start,E,k.start-k.diag,L);for(let B=k.start;B<k.end;++B)L.push([Hv,e[B]]);l(k.end,C,k.end-k.diag,P,L)}},f=(w,C,E,P)=>{let L=w;for(;L-C<P&&L<E&&e[L]===t[L-C];)++L;return o(w,L,C)},d=(w,C,E,P)=>{const L=C-w,k=P-E;if(L===0||k===0)return null;const B=L-k,j=k+L,H=(j%2===0?j:j+1)/2;r[1+H]=w,s[1+H]=C+1;let G,K,oe,ye,me;for(G=0;G<=H;++G){for(K=-G;K<=G;K+=2){for(oe=K+H,K===-G||K!==G&&r[oe-1]<r[oe+1]?r[oe]=r[oe+1]:r[oe]=r[oe-1]+1,ye=r[oe],me=ye-w+E-K;ye<C&&me<P&&e[ye]===t[me];)r[oe]=++ye,++me;if(B%2!==0&&B-G<=K&&K<=B+G&&s[oe-B]<=r[oe])return f(s[oe-B],K+w-E,C,P)}for(K=B-G;K<=B+G;K+=2){for(oe=K+H-B,K===B-G||K!==B+G&&s[oe+1]<=s[oe-1]?s[oe]=s[oe+1]-1:s[oe]=s[oe-1],ye=s[oe]-1,me=ye-w+E-K;ye>=w&&me>=E&&e[ye]===t[me];)s[oe]=ye--,me--;if(B%2===0&&-G<=K&&K<=G&&s[oe]<=r[oe+B])return f(s[oe],K+w-E,C,P)}}return null},g=[];return l(0,e.length,0,t.length,g),g},z_=e=>Ee(e)?e.outerHTML:ce(e)?Xo.encodeRaw(e.data,!1):As(e)?"<!--"+e.data+"-->":"",jU=e=>{let t;const n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},VU=(e,t,n)=>{const r=jU(t);if(e.hasChildNodes()&&n<e.childNodes.length){const s=e.childNodes[n];e.insertBefore(r,s)}else e.appendChild(r)},qU=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},GU=(e,t)=>{let n=0;ue(e,r=>{r[0]===Hv?n++:r[0]===L_?(VU(t,r[1],n),n++):r[0]===M_&&qU(t,n)})},KU=e=>He(mt(Un(e.childNodes),z_),t=>t.length>0),XU=(e,t)=>{const n=mt(Un(t.childNodes),z_);return GU(HU(n,e),t),t},YU=eo(()=>document.implementation.createHTMLDocument("undo")),JU=e=>e.indexOf("</iframe>")!==-1,QU=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),ZU=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Jd=e=>{const t=KU(e.getBody()),n=Ir(t,s=>{const o=CS(e.serializer,s);return o.length>0?[o]:[]}),r=n.join("");return JU(r)?QU(n):ZU(r)},jv=(e,t,n)=>{const r=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?XU(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:fe(r)&&aw(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Vv=e=>e.type==="fragmented"?e.fragments.join(""):e.content,U_=e=>{const t=U.fromTag("body",YU());return ji(t,Vv(e)),ue(Sn(t,"*[data-mce-bogus]"),rs),zf(t)},eW=(e,t)=>Vv(e)===Vv(t),tW=(e,t)=>U_(e)===U_(t),qv=(e,t)=>!e||!t?!1:eW(e,t)?!0:tW(e,t),Gv=e=>e.get()===0,Qd=(e,t,n)=>{Gv(n)&&(e.typing=t)},W_=(e,t)=>{e.typing&&(Qd(e,!1,t),e.add())},nW=e=>{e.typing&&(e.typing=!1,e.add())},rW=(e,t,n)=>{Gv(t)&&n.set(Jp(e.selection))},sW=(e,t,n,r,s,o,l)=>{const f=Jd(e),d=pe.extend(o||{},f);if(!Gv(r)||e.removed)return null;const g=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:d,lastLevel:g,originalEvent:l}).isDefaultPrevented()||g&&qv(g,d))return null;t.data[n.get()]&&s.get().each(E=>{t.data[n.get()].beforeBookmark=E});const w=jO(e);if(w&&t.data.length>w){for(let E=0;E<t.data.length-1;E++)t.data[E]=t.data[E+1];t.data.length--,n.set(t.data.length)}d.bookmark=Jp(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(d),n.set(t.data.length-1);const C={level:d,lastLevel:g,originalEvent:l};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",C),e.dispatch("change",C)):e.dispatch("AddUndo",C),d},oW=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},aW=(e,t,n,r,s)=>{if(t.transact(r)){const o=t.data[n.get()].bookmark,l=t.data[n.get()-1];jv(e,l,!0),t.transact(s)&&(t.data[n.get()-1].beforeBookmark=o)}},iW=(e,t,n)=>{let r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],jv(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},lW=(e,t,n,r)=>{let s;return t.typing&&(t.add(),t.typing=!1,Qd(t,!1,n)),r.get()>0&&(r.set(r.get()-1),s=t.data[r.get()],jv(e,s,!0),e.setDirty(!0),e.dispatch("Undo",{level:s})),s},cW=e=>{e.clear(),e.add()},uW=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!qv(Jd(e),t.data[0]),fW=(e,t)=>t.get()<e.data.length-1&&!e.typing,dW=(e,t,n)=>(W_(e,t),e.beforeChange(),e.ignore(n),e.add()),hW=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},mW=(e,t)=>{const n=e.dom,r=fe(t)?t:e.getBody();ue(n.select("table,a",r),s=>{switch(s.nodeName){case"TABLE":const o=XO(e),l=n.getAttrib(s,"border");(!l||l==="0")&&e.hasVisual?n.addClass(s,o):n.removeClass(s,o);break;case"A":if(!n.getAttrib(s,"href")){const f=n.getAttrib(s,"name")||s.id,d=B0(e);f&&e.hasVisual?n.addClass(s,d):n.removeClass(s,d)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},H_=e=>({init:{bindEvents:ze},undoManager:{beforeChange:(t,n)=>rW(e,t,n),add:(t,n,r,s,o,l)=>sW(e,t,n,r,s,o,l),undo:(t,n,r)=>lW(e,t,n,r),redo:(t,n)=>iW(e,t,n),clear:(t,n)=>oW(e,t,n),reset:t=>cW(t),hasUndo:(t,n)=>uW(e,t,n),hasRedo:(t,n)=>fW(t,n),transact:(t,n,r)=>dW(t,n,r),ignore:(t,n)=>hW(t,n),extra:(t,n,r,s)=>aW(e,t,n,r,s)},formatter:{match:(t,n,r,s)=>wv(e,t,n,r,s),matchAll:(t,n)=>xM(e,t,n),matchNode:(t,n,r,s)=>Ls(e,t,n,r,s),canApply:t=>kM(e,t),closest:t=>TM(e,t),apply:(t,n,r)=>QE(e,t,n,r),remove:(t,n,r,s)=>XE(e,t,n,r,s),toggle:(t,n,r)=>uz(e,t,n,r),formatChanged:(t,n,r,s,o)=>cz(e,t,n,r,s,o)},editor:{getContent:t=>ZF(e,t),setContent:(t,n)=>wM(e,t,n),insertContent:(t,n)=>vM(e,t,n),addVisual:t=>mW(e,t)},selection:{getContent:(t,n)=>WU(e,t,n)},autocompleter:{addDecoration:t=>UF(e,t),removeDecoration:()=>HF(e,U.fromDom(e.getBody()))},raw:{getModel:()=>x.none()}}),pW=e=>{const t=g=>be(g)?g:{},{init:n,undoManager:r,formatter:s,editor:o,selection:l,autocompleter:f,raw:d}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(g,w,C)=>r.transact(C),ignore:(g,w)=>r.ignore(w),extra:(g,w,C,E)=>r.extra(C,E)},formatter:{match:(g,w,C,E)=>s.match(g,t(w),E),matchAll:s.matchAll,matchNode:s.matchNode,canApply:g=>s.canApply(g),closest:g=>s.closest(g),apply:(g,w,C)=>s.apply(g,t(w)),remove:(g,w,C,E)=>s.remove(g,t(w)),toggle:(g,w,C)=>s.toggle(g,t(w)),formatChanged:(g,w,C,E,P)=>s.formatChanged(w,C,E,P)},editor:{getContent:g=>o.getContent(g),setContent:(g,w)=>({content:o.setContent(g,w),html:""}),insertContent:(g,w)=>(o.insertContent(g),""),addVisual:o.addVisual},selection:{getContent:(g,w)=>l.getContent(w)},autocompleter:{addDecoration:f.addDecoration,removeDecoration:f.removeDecoration},raw:{getModel:()=>x.some(d.getRawModel())}}},gW=()=>{const e=ie(null),t=ie("");return{init:{bindEvents:ze},undoManager:{beforeChange:ze,add:e,undo:e,redo:e,clear:ze,reset:ze,hasUndo:Ye,hasRedo:Ye,transact:e,ignore:ze,extra:ze},formatter:{match:Ye,matchAll:ie([]),matchNode:ie(void 0),canApply:Ye,closest:t,apply:ze,remove:ze,toggle:ze,formatChanged:ie({unbind:ze})},editor:{getContent:t,setContent:ie({content:"",html:""}),insertContent:ie(""),addVisual:ze},selection:{getContent:t},autocompleter:{addDecoration:ze,removeDecoration:ze},raw:{getModel:ie(x.none())}}},zs=e=>Je(e.plugins,"rtc"),vW=e=>Bt(e.plugins,"rtc").bind(t=>x.from(t.setup)),bW=e=>{const t=e;return vW(e).fold(()=>(t.rtcInstance=H_(e),x.none()),n=>(t.rtcInstance=gW(),x.some(()=>n().then(r=>(t.rtcInstance=pW(r),r.rtc.isRemote)))))},Kv=e=>e.rtcInstance?e.rtcInstance:H_(e),en=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},yW=(e,t,n)=>{en(e).undoManager.beforeChange(t,n)},CW=(e,t,n,r,s,o,l)=>en(e).undoManager.add(t,n,r,s,o,l),wW=(e,t,n,r)=>en(e).undoManager.undo(t,n,r),SW=(e,t,n)=>en(e).undoManager.redo(t,n),EW=(e,t,n)=>{en(e).undoManager.clear(t,n)},_W=(e,t)=>{en(e).undoManager.reset(t)},xW=(e,t,n)=>en(e).undoManager.hasUndo(t,n),TW=(e,t,n)=>en(e).undoManager.hasRedo(t,n),kW=(e,t,n,r)=>en(e).undoManager.transact(t,n,r),AW=(e,t,n)=>{en(e).undoManager.ignore(t,n)},DW=(e,t,n,r,s)=>{en(e).undoManager.extra(t,n,r,s)},RW=(e,t,n,r,s)=>en(e).formatter.match(t,n,r,s),NW=(e,t,n)=>en(e).formatter.matchAll(t,n),OW=(e,t,n,r,s)=>en(e).formatter.matchNode(t,n,r,s),PW=(e,t)=>en(e).formatter.canApply(t),$W=(e,t)=>en(e).formatter.closest(t),BW=(e,t,n,r)=>{en(e).formatter.apply(t,n,r)},FW=(e,t,n,r,s)=>{en(e).formatter.remove(t,n,r,s)},IW=(e,t,n,r)=>{en(e).formatter.toggle(t,n,r)},LW=(e,t,n,r,s,o)=>en(e).formatter.formatChanged(t,n,r,s,o),MW=(e,t)=>Kv(e).editor.getContent(t),zW=(e,t,n)=>Kv(e).editor.setContent(t,n),UW=(e,t,n)=>Kv(e).editor.insertContent(t,n),WW=(e,t,n)=>en(e).selection.getContent(t,n),HW=(e,t)=>en(e).editor.addVisual(t),j_=e=>en(e).init.bindEvents(),jW=(e,t)=>en(e).autocompleter.addDecoration(t),VW=e=>en(e).autocompleter.removeDecoration(),qW=(e,t={})=>{const n=t.format?t.format:"html";return WW(e,n,t)},V_=e=>e.dom.length===0?(Ut(e),x.none()):x.some(e),GW=(e,t)=>e.filter(n=>Uc.isBookmarkNode(n.dom)).bind(t?Ba:ao),KW=(e,t,n,r)=>{const s=e.dom,o=t.dom,l=r?s.length:o.length;r?(Zg(s,o,!1,!r),n.setStart(o,l)):(Zg(o,s,!1,!r),n.setEnd(o,l))},XW=(e,t)=>{cr(e).each(n=>{const r=e.dom;t&&qc(n,re(r,0))?Id(r,0):!t&&Gc(n,re(r,r.length))&&Qg(r,r.length)})},q_=(e,t,n,r)=>{e.bind(s=>((r?Qg:Id)(s.dom,r?s.dom.length:0),t.filter(Zn).map(l=>KW(s,l,n,r)))).orThunk(()=>GW(t,r).or(t).filter(Zn).map(o=>XW(o,r)))},YW=(e,t)=>{const n=x.from(t.firstChild).map(U.fromDom),r=x.from(t.lastChild).map(U.fromDom);e.deleteContents(),e.insertNode(t);const s=n.bind(ao).filter(Zn).bind(V_),o=r.bind(Ba).filter(Zn).bind(V_);q_(s,n,e,!0),q_(o,r,e,!1),e.collapse(!1)},JW=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),QW=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),s=r?{context:r.nodeName.toLowerCase()}:{},o=e.parser.parse(t.content,{forced_root_block:!1,...s,...t});return na({validate:!1},e.schema).serialize(o)}else return t.content},ZW=(e,t,n={})=>{const r=JW(n,t);zv(e,r).each(s=>{const o=QW(e,s),l=e.selection.getRng();YW(l,l.createContextualFragment(o)),e.selection.setRng(l),Hc(e,l),Uv(e,o,s)})},G_=(e,t,n)=>{if(Je(e,t)){const r=He(e[t],s=>s!==n);r.length===0?delete e[t]:e[t]=r}};var eH=(e,t)=>{let n,r;const s=(f,d)=>Qt(d,g=>e.is(g,f)),o=f=>e.getParents(f,void 0,e.getRoot()),l=()=>{n={},r={},t.on("NodeChange",f=>{const d=f.element,g=o(d),w={};Nt(n,(C,E)=>{s(E,g).each(P=>{r[E]||(ue(C,L=>{L(!0,{node:P,selector:E,parents:g})}),r[E]=C),w[E]=C})}),Nt(r,(C,E)=>{w[E]||(delete r[E],ue(C,P=>{P(!1,{node:d,selector:E,parents:g})}))})})};return{selectorChangedWithUnbind:(f,d)=>(n||l(),n[f]||(n[f]=[]),n[f].push(d),s(f,o(t.selection.getStart())).each(()=>{r[f]=n[f]}),{unbind:()=>{G_(n,f,d),G_(r,f,d)}})}};const K_=e=>!!(e&&e.ownerDocument)&&ts(U.fromDom(e.ownerDocument),U.fromDom(e)),tH=e=>e?K_(e.startContainer)&&K_(e.endContainer):!1,X_=(e,t,n,r)=>{let s,o;const{selectorChangedWithUnbind:l}=eH(e,r),f=(de,De)=>{const lt=e.createRng();fe(de)&&fe(De)?(lt.setStart(de,De),lt.setEnd(de,De),K(lt),j(!1)):(vg(e,lt,r.getBody(),!0),K(lt))},d=de=>qW(r,de),g=(de,De)=>ZW(r,de,De),w=de=>dS(r.getBody(),G(),de),C=de=>hS(r.getBody(),G(),de),E=(de,De)=>_n.getBookmark(de,De),P=de=>_n.moveToBookmark(de),L=(de,De)=>(PF(e,de,De).each(K),de),k=()=>{const de=G(),De=H();return!de||de.item?!1:de.compareEndPoints?de.compareEndPoints("StartToEnd",de)===0:!De||de.collapsed},B=()=>{const de=G(),De=r.getBody().querySelectorAll('[data-mce-selected="1"]');return De.length>0?vr(De,lt=>e.isEditable(lt.parentElement)):de.startContainer===de.endContainer?e.isEditable(de.startContainer):e.isEditable(de.startContainer)&&e.isEditable(de.endContainer)},j=de=>{const De=G();De.collapse(!!de),K(De)},H=()=>t.getSelection?t.getSelection():t.document.selection,G=()=>{let de;const De=(Ce,Fe,Le)=>{try{return Fe.compareBoundaryPoints(Ce,Le)}catch{return-1}},lt=t.document;if(fe(r.bookmark)&&!ri(r)){const Ce=Fg(r);if(Ce.isSome())return Ce.map(Fe=>Wg(r,[Fe])[0]).getOr(lt.createRange())}try{const Ce=H();Ce&&!La(Ce.anchorNode)&&(Ce.rangeCount>0?de=Ce.getRangeAt(0):de=lt.createRange(),de=Wg(r,[de])[0])}catch{}if(de||(de=lt.createRange()),qo(de.startContainer)&&de.collapsed){const Ce=e.getRoot();de.setStart(Ce,0),de.setEnd(Ce,0)}return s&&o&&(De(de.START_TO_START,de,s)===0&&De(de.END_TO_END,de,s)===0?de=o:(s=null,o=null)),de},K=(de,De)=>{if(!tH(de))return;const lt=H();if(de=r.dispatch("SetSelectionRange",{range:de,forward:De}).range,lt){o=de;try{lt.removeAllRanges(),lt.addRange(de)}catch{}De===!1&&lt.extend&&(lt.collapse(de.endContainer,de.endOffset),lt.extend(de.startContainer,de.startOffset)),s=lt.rangeCount>0?lt.getRangeAt(0):null}if(!de.collapsed&&de.startContainer===de.endContainer&&(lt!=null&&lt.setBaseAndExtent)&&de.endOffset-de.startOffset<2&&de.startContainer.hasChildNodes()){const Fe=de.startContainer.childNodes[de.startOffset];Fe&&Fe.nodeName==="IMG"&&(lt.setBaseAndExtent(de.startContainer,de.startOffset,de.endContainer,de.endOffset),(lt.anchorNode!==de.startContainer||lt.focusNode!==de.endContainer)&&lt.setBaseAndExtent(Fe,0,Fe,1))}r.dispatch("AfterSetSelectionRange",{range:de,forward:De})},oe=de=>(g(e.getOuterHTML(de)),de),ye=()=>NF(r.getBody(),G()),me=(de,De)=>OF(e,G(),de,De),ee=()=>{const de=H(),De=de==null?void 0:de.anchorNode,lt=de==null?void 0:de.focusNode;if(!de||!De||!lt||La(De)||La(lt))return!0;const Ce=e.createRng(),Fe=e.createRng();try{Ce.setStart(De,de.anchorOffset),Ce.collapse(!0),Fe.setStart(lt,de.focusOffset),Fe.collapse(!0)}catch{return!0}return Ce.compareBoundaryPoints(Ce.START_TO_START,Fe)<=0},Ht={dom:e,win:t,serializer:n,editor:r,expand:(de={type:"word"})=>K(ni(e).expand(G(),de)),collapse:j,setCursorLocation:f,getContent:d,setContent:g,getBookmark:E,moveToBookmark:P,select:L,isCollapsed:k,isEditable:B,isForward:ee,setNode:oe,getNode:ye,getSel:H,setRng:K,getRng:G,getStart:w,getEnd:C,getSelectedBlocks:me,normalize:()=>{const de=G(),De=H();if(!v$(De)&&Ed(r)){const lt=Nd(e,de);return lt.each(Ce=>{K(Ce,ee())}),lt.getOr(de)}return de},selectorChanged:(de,De)=>(l(de,De),Ht),selectorChangedWithUnbind:l,getScrollContainer:()=>{let de,De=e.getRoot();for(;De&&De.nodeName!=="BODY";){if(De.scrollHeight>De.clientHeight){de=De;break}De=De.parentNode}return de},scrollIntoView:(de,De)=>{fe(de)?eF(r,de,De):Hc(r,G(),De)},placeCaretAt:(de,De)=>K(Vw(de,De,r.getDoc())),getBoundingClientRect:()=>{const de=G();return de.collapsed?re.fromRangeStart(de).getClientRects()[0]:de.getBoundingClientRect()},destroy:()=>{t=s=o=null,an.destroy()}},_n=Uc(Ht),an=zw(Ht,r);return Ht.bookmarkManager=_n,Ht.controlSelection=an,Ht},nH=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(r,s)=>{let o=r.length;for(;o--;){const l=r[o];l.attr("tabindex",l.attr("data-mce-tabindex")),l.attr(s,null)}}),e.addAttributeFilter("src,href,style",(r,s)=>{const o="data-mce-"+s,l=t.url_converter,f=t.url_converter_scope;let d=r.length;for(;d--;){const g=r[d];let w=g.attr(o);w!==void 0?(g.attr(s,w.length>0?w:null),g.attr(o,null)):(w=g.attr(s),s==="style"?w=n.serializeStyle(n.parseStyle(w),g.name):l&&(w=l.call(f,w,s,g.name)),g.attr(s,w.length>0?w:null))}}),e.addAttributeFilter("class",r=>{let s=r.length;for(;s--;){const o=r[s];let l=o.attr("class");l&&(l=l.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),o.attr("class",l.length>0?l:null))}}),e.addAttributeFilter("data-mce-type",(r,s,o)=>{let l=r.length;for(;l--;){const f=r[l];f.attr("data-mce-type")==="bookmark"&&!o.cleanup&&(x.from(f.firstChild).exists(g=>{var w;return!Te((w=g.value)!==null&&w!==void 0?w:"")})?f.unwrap():f.remove())}}),e.addNodeFilter("noscript",r=>{var s;let o=r.length;for(;o--;){const l=r[o].firstChild;l&&(l.value=Xo.decode((s=l.value)!==null&&s!==void 0?s:""))}}),e.addNodeFilter("script,style",(r,s)=>{var o;const l=d=>d.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let f=r.length;for(;f--;){const d=r[f],g=d.firstChild,w=(o=g==null?void 0:g.value)!==null&&o!==void 0?o:"";if(s==="script"){const C=d.attr("type");C&&d.attr("type",C==="mce-no/type"?null:C.replace(/^mce\-/,"")),t.element_format==="xhtml"&&g&&w.length>0&&(g.value=`// <![CDATA[
`+l(w)+`
// ]]>`)}else t.element_format==="xhtml"&&g&&w.length>0&&(g.value=`<!--
`+l(w)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let s=r.length;for(;s--;){const o=r[s],l=o.value;t.preserve_cdata&&(l==null?void 0:l.indexOf("[CDATA["))===0?(o.name="#cdata",o.type=4,o.value=n.decode(l.replace(/^\[CDATA\[|\]\]$/g,""))):(l==null?void 0:l.indexOf("mce:protected "))===0&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(l).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,s)=>{let o=r.length;for(;o--;){const l=r[o];l.type===7?l.remove():l.type===1&&s==="input"&&!l.attr("type")&&l.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{ue(r,s=>{s.attr("data-mce-type")==="format-caret"&&(s.isEmpty(e.schema.getNonEmptyElements())?s.remove():s.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,s)=>{let o=r.length;for(;o--;)r[o].attr(s,null)})},rH=e=>{const t=r=>(r==null?void 0:r.name)==="br",n=e.lastChild;if(t(n)){const r=n.prev;t(r)&&(n.remove(),r.remove())}},sH=(e,t,n)=>{let r;const s=e.dom;let o=t.cloneNode(!0);const l=document.implementation;if(l.createHTMLDocument){const f=l.createHTMLDocument("");pe.each(o.nodeName==="BODY"?o.childNodes:[o],d=>{f.body.appendChild(f.importNode(d,!0))}),o.nodeName!=="BODY"?o=f.body.firstChild:o=f.body,r=s.doc,s.doc=f}return W$(e,{...n,node:o}),r&&(s.doc=r),o},oH=(e,t)=>fe(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,aH=(e,t,n)=>oH(e,n)?sH(e,t,n):t,iH=(e,t,n)=>{pe.inArray(t,n)===-1&&(e.addAttributeFilter(n,(r,s)=>{let o=r.length;for(;o--;)r[o].attr(s,null)}),t.push(n))},lH=(e,t,n)=>!t.no_events&&e?H$(e,{...t,content:n}).content:n,cH=(e,t,n)=>{const r=ge(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||b(U.fromDom(t))?r:pe.trim(r)},uH=(e,t,n)=>{const r=n.selection?{forced_root_block:!1,...n}:n,s=e.parse(t,r);return rH(s),s},fH=(e,t,n)=>na(e,t).serialize(n),dH=(e,t,n,r,s)=>{const o=fH(t,n,r);return lH(e,s,o)},hH=(e,t)=>{const n=["data-mce-selected"],r=t&&t.dom?t.dom:Dt.DOM,s=t&&t.schema?t.schema:Yo(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;const o=ml(e,s);nH(o,e,r);const l=(f,d={})=>{const g={format:"html",...d},w=aH(t,f,g),C=cH(r,w,g),E=uH(o,C,g);return g.format==="tree"?E:dH(t,e,s,E,g)};return{schema:s,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:l,addRules:s.addValidElements,setRules:s.setValidElements,addTempAttr:xe(iH,o,n),getTempAttrs:ie(n),getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},Y_=(e,t)=>{const n=hH(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},mH="html",pH=(e,t)=>({...e,format:t,get:!0,getInner:!0}),gH=(e,t={})=>{const n=t.format?t.format:mH,r=pH(t,n);return D_(e,r).fold(zt,s=>{const o=MW(e,s);return R_(e,o,s)})},vH="html",bH=(e,t)=>({format:vH,...e,set:!0,content:t}),Xv=(e,t,n={})=>{const r=bH(n,t);return zv(e,r).map(s=>{const o=zW(e,s.content,s);return Uv(e,o.html,s),o.content}).getOr(t)},yH="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),CH="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),wH="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),J_=[{name:"template",replacedWith:"Advanced Template"}],Q_=(e,t)=>{const n=He(t,r=>Je(e,r));return Ys(n)},SH=e=>{const t=Q_(e,yH),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),Ys(t)},EH=e=>Q_(e,CH),Z_=(e,t)=>{const n=pe.makeMap(e.plugins," "),s=He(t,o=>Je(n,o));return Ys(s)},_H=e=>Z_(e,wH),xH=e=>Z_(e,J_.map(t=>t.name)),TH=(e,t)=>{const n=SH(e),r=_H(t),s=r.length>0,o=n.length>0,l=t.theme==="mobile";if(s||o||l){const f=`
- `,d=l?`

Themes:${f}mobile`:"",g=s?`

Plugins:${f}${r.join(f)}`:"",w=o?`

Options:${f}${n.join(f)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+d+g+w)}},kH=e=>Qt(J_,t=>t.name===e).fold(()=>e,t=>`${e}, replaced by ${t.replacedWith}`),AH=(e,t)=>{const n=EH(e),r=xH(t),s=r.length>0,o=n.length>0;if(s||o){const l=`
- `,f=s?`

Plugins:${l}${r.map(kH).join(l)}`:"",d=o?`

Options:${l}${n.join(l)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+f+d)}},DH=(e,t)=>{TH(e,t),AH(e,t)},Zd=Dt.DOM,RH=e=>{Zd.setStyle(e.id,"display",e.orgDisplay)},eh=e=>x.from(e).each(t=>t.destroy()),NH=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const r=n.dom;t.selection=n.win=n.dom=r.doc=null}},OH=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Zd.unbind(t,"submit reset",e.formEventDelegate))},PH=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,r=e.getBody(),s=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&fe(s==null?void 0:s.nextSibling)&&Zd.remove(s.nextSibling),j$(e),e.editorManager.remove(e),!e.inline&&r&&RH(e),V$(e),Zd.remove(e.getContainer()),eh(t),eh(n),e.destroy()}},$H=(e,t)=>{const{selection:n,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),eh(n),eh(r)),OH(e),NH(e),e.destroyed=!0}},th=(()=>{const e={};return{add:(s,o)=>{e[s]=o},get:s=>e[s]?e[s]:{icons:{}},has:s=>Je(e,s)}})(),pl=Fn.ModelManager,ex=(e,t)=>t.dom[e],tx=(e,t)=>parseInt(Mr(t,e),10),BH=xe(ex,"clientWidth"),FH=xe(ex,"clientHeight"),IH=xe(tx,"margin-top"),LH=xe(tx,"margin-left"),MH=e=>e.dom.getBoundingClientRect(),zH=(e,t,n)=>{const r=BH(e),s=FH(e);return t>=0&&n>=0&&t<=r&&n<=s},UH=(e,t,n,r)=>{const s=MH(t),o=e?s.left+t.dom.clientLeft+LH(t):0,l=e?s.top+t.dom.clientTop+IH(t):0,f=n-o,d=r-l;return{x:f,y:d}},WH=(e,t,n)=>{const r=U.fromDom(e.getBody()),s=e.inline?r:Jm(r),o=UH(e.inline,s,t,n);return zH(s,o.x,o.y)},HH=e=>x.from(e).map(U.fromDom),jH=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return HH(t).map(Io).getOr(!1)};var VH=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const nx=e=>{const t=[],n=()=>{const E=e.theme;return E&&E.getNotificationManagerImpl?E.getNotificationManagerImpl():VH()},r=()=>x.from(t[0]),s=(E,P)=>E.type===P.type&&E.text===P.text&&!E.progressBar&&!E.timeout&&!P.progressBar&&!P.timeout,o=()=>{ue(t,E=>{E.reposition()})},l=E=>{t.push(E)},f=E=>{Do(t,P=>P===E).each(P=>{t.splice(P,1)})},d=(E,P=!0)=>e.removed||!jH(e)?{}:(P&&e.dispatch("BeforeOpenNotification",{notification:E}),Qt(t,L=>s(n().getArgs(L),E)).getOrThunk(()=>{e.editorManager.setActive(e);const L=n().open(E,()=>{f(L),o(),r().fold(()=>e.focus(),k=>sS(U.fromDom(k.getEl())))});return l(L),o(),e.dispatch("OpenNotification",{notification:{...L}}),L})),g=()=>{r().each(E=>{n().close(E),f(E),o()})},w=ie(t);return(E=>{E.on("SkinLoaded",()=>{const P=OO(E);P&&d({text:P,type:"warning",timeout:0},!1),o()}),E.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(o)}),E.on("remove",()=>{ue(t.slice(),P=>{n().close(P)})})})(e),{open:d,close:g,getNotifications:w}},gl=Fn.PluginManager,ui=Fn.ThemeManager;var qH=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const rx=e=>{let t=[];const n=()=>{const k=e.theme;return k&&k.getWindowManagerImpl?k.getWindowManagerImpl():qH()},r=(k,B)=>(...j)=>B?B.apply(k,j):void 0,s=k=>{e.dispatch("OpenWindow",{dialog:k})},o=k=>{e.dispatch("CloseWindow",{dialog:k})},l=k=>{t.push(k),s(k)},f=k=>{o(k),t=He(t,B=>B!==k),t.length===0&&e.focus()},d=()=>x.from(t[t.length-1]),g=k=>{e.editorManager.setActive(e),Bg(e),e.ui.show();const B=k();return l(B),B},w=(k,B)=>g(()=>n().open(k,B,f)),C=k=>g(()=>n().openUrl(k,f)),E=(k,B,j)=>{const H=n();H.alert(k,r(j||H,B))},P=(k,B,j)=>{const H=n();H.confirm(k,r(j||H,B))},L=()=>{d().each(k=>{n().close(k),f(k)})};return e.on("remove",()=>{ue(t,k=>{n().close(k)})}),{open:w,openUrl:C,alert:E,confirm:P,close:L}},sx=(e,t)=>{e.notificationManager.open({type:"error",text:t})},nh=(e,t)=>{e._skinLoaded?sx(e,t):e.on("SkinLoaded",()=>{sx(e,t)})},GH=(e,t)=>{nh(e,as.translate(["Failed to upload image: {0}",t]))},Zc=(e,t,n)=>{Pw(e,t,{message:n}),console.error(n)},eu=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,KH=(e,t,n)=>{Zc(e,"PluginLoadError",eu("plugin",t,n))},XH=(e,t,n)=>{Zc(e,"IconsLoadError",eu("icons",t,n))},YH=(e,t,n)=>{Zc(e,"LanguageLoadError",eu("language",t,n))},JH=(e,t,n)=>{Zc(e,"ThemeLoadError",eu("theme",t,n))},QH=(e,t,n)=>{Zc(e,"ModelLoadError",eu("model",t,n))},ZH=(e,t,n)=>{const r=as.translate(["Failed to initialize plugin: {0}",t]);Pw(e,"PluginLoadError",{message:r}),rh(r,n),nh(e,r)},rh=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},ej=e=>/^[a-z0-9\-]+$/i.test(e),tj=e=>ox(e,TO(e)),nj=e=>ox(e,R0(e)),ox=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",s=`content${e.editorManager.suffix}.css`;return mt(t,o=>ej(o)&&!e.inline?`${n}/${o}/${s}`:e.documentBaseURI.toAbsolute(o))},rj=e=>{e.contentCSS=e.contentCSS.concat(tj(e),nj(e))},sj=e=>e?Un(e.getElementsByTagName("img")):[],oj=(e,t)=>{const n={};return{findAll:(s,o=ht)=>{const l=He(sj(s),d=>{const g=d.src;return d.hasAttribute("data-mce-bogus")||d.hasAttribute("data-mce-placeholder")||!g||g===vt.transparentSrc?!1:gn(g,"blob:")?!e.isUploaded(g)&&o(d):gn(g,"data:")?o(d):!1}),f=mt(l,d=>{const g=d.src;if(Je(n,g))return n[g].then(w=>V(w)?w:{image:d,blobInfo:w.blobInfo});{const w=Sz(t,g).then(C=>(delete n[g],{image:d,blobInfo:C})).catch(C=>(delete n[g],C));return n[g]=w,w}});return Promise.all(f)}}},ax=()=>{let n={};const r=(E,P)=>({status:E,resultUri:P}),s=E=>E in n;return{hasBlobUri:s,getResultUri:E=>{const P=n[E];return P?P.resultUri:null},isPending:E=>s(E)?n[E].status===1:!1,isUploaded:E=>s(E)?n[E].status===2:!1,markPending:E=>{n[E]=r(1,null)},markUploaded:(E,P)=>{n[E]=r(2,P)},removeFailed:E=>{delete n[E]},destroy:()=>{n={}}}};let aj=0;const ij=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},lj=e=>e+aj+++ij(),cj=()=>{let e=[];const t=C=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[C.toLowerCase()]||"dat",n=(C,E,P,L,k)=>{if(V(C))return r({id:C,name:L,filename:k,blob:E,base64:P});if(be(C))return r(C);throw new Error("Unknown input type")},r=C=>{if(!C.blob||!C.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const E=C.id||lj("blobid"),P=C.name||E,L=C.blob;return{id:ie(E),name:ie(P),filename:ie(C.filename||P+"."+t(L.type)),blob:ie(L),base64:ie(C.base64),blobUri:ie(C.blobUri||URL.createObjectURL(L)),uri:ie(C.uri)}},s=C=>{l(C.id())||e.push(C)},o=C=>Qt(e,C).getOrUndefined(),l=C=>o(E=>E.id()===C);return{create:n,add:s,get:l,getByUri:C=>o(E=>E.blobUri()===C),getByData:(C,E)=>o(P=>P.base64()===C&&P.blob().type===E),findFirst:o,removeByUri:C=>{e=He(e,E=>E.blobUri()===C?(URL.revokeObjectURL(E.blobUri()),!1):!0)},destroy:()=>{ue(e,C=>{URL.revokeObjectURL(C.blobUri())}),e=[]}}},uj=(e,t)=>{const n={},r=(k,B)=>k?k.replace(/\/$/,"")+"/"+B.replace(/^\//,""):B,s=(k,B)=>new Promise((j,H)=>{const G=new XMLHttpRequest;G.open("POST",t.url),G.withCredentials=t.credentials,G.upload.onprogress=oe=>{B(oe.loaded/oe.total*100)},G.onerror=()=>{H("Image upload failed due to a XHR Transport error. Code: "+G.status)},G.onload=()=>{if(G.status<200||G.status>=300){H("HTTP Error: "+G.status);return}const oe=JSON.parse(G.responseText);if(!oe||!V(oe.location)){H("Invalid JSON: "+G.responseText);return}j(r(t.basePath,oe.location))};const K=new FormData;K.append("file",k.blob(),k.filename()),G.send(K)}),o=Ke(t.handler)?t.handler:s,l=()=>new Promise(k=>{k([])}),f=(k,B)=>({url:B,blobInfo:k,status:!0}),d=(k,B)=>({url:"",blobInfo:k,status:!1,error:B}),g=(k,B)=>{pe.each(n[k],j=>{j(B)}),delete n[k]},w=(k,B,j)=>(e.markPending(k.blobUri()),new Promise(H=>{let G,K;try{const oe=()=>{G&&(G.close(),K=ze)},ye=ee=>{oe(),e.markUploaded(k.blobUri(),ee),g(k.blobUri(),f(k,ee)),H(f(k,ee))},me=ee=>{oe(),e.removeFailed(k.blobUri()),g(k.blobUri(),d(k,ee)),H(d(k,ee))};K=ee=>{ee<0||ee>100||x.from(G).orThunk(()=>x.from(j).map(To)).each(Z=>{G=Z,Z.progressBar.value(ee)})},B(k,K).then(ye,ee=>{me(V(ee)?{message:ee}:ee)})}catch(oe){H(d(k,oe))}})),C=k=>k===s,E=k=>{const B=k.blobUri();return new Promise(j=>{n[B]=n[B]||[],n[B].push(j)})},P=(k,B)=>(k=pe.grep(k,j=>!e.isUploaded(j.blobUri())),Promise.all(pe.map(k,j=>e.isPending(j.blobUri())?E(j):w(j,o,B))));return{upload:(k,B)=>!t.url&&C(o)?l():P(k,B)}},ix=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),lx=(e,t)=>uj(t,{url:yO(e),basePath:CO(e),credentials:wO(e),handler:SO(e)}),fj=e=>{const t=ax(),n=lx(e,t);return{upload:(r,s=!0)=>n.upload(r,s?ix(e):void 0)}},dj=e=>{const t=cj();let n,r;const s=ax(),o=[],l=G=>K=>e.selection?G(K):[],f=G=>G+(G.indexOf("?")===-1?"?":"&")+new Date().getTime(),d=(G,K,oe)=>{let ye=0;do ye=G.indexOf(K,ye),ye!==-1&&(G=G.substring(0,ye)+oe+G.substr(ye+K.length),ye+=oe.length-K.length+1);while(ye!==-1);return G},g=(G,K,oe)=>{const ye=`src="${oe}"${oe===vt.transparentSrc?' data-mce-placeholder="1"':""}`;return G=d(G,`src="${K}"`,ye),G=d(G,'data-mce-src="'+K+'"','data-mce-src="'+oe+'"'),G},w=(G,K)=>{ue(e.undoManager.data,oe=>{oe.type==="fragmented"?oe.fragments=mt(oe.fragments,ye=>g(ye,G,K)):oe.content=g(oe.content,G,K)})},C=(G,K)=>{const oe=e.convertURL(K,"src");w(G.src,K),xs(U.fromDom(G),{src:T0(e)?f(K):K,"data-mce-src":oe})},E=()=>(n||(n=lx(e,s)),B().then(l(G=>{const K=mt(G,oe=>oe.blobInfo);return n.upload(K,ix(e)).then(l(oe=>{const ye=[];let me=!1;const ee=mt(oe,(Z,Se)=>{const{blobInfo:Ne,image:Ie}=G[Se];let Ge=!1;return Z.status&&vO(e)?(Z.url&&!ln(Ie.src,Z.url)&&(me=!0),t.removeByUri(Ie.src),zs(e)||C(Ie,Z.url)):Z.error&&(Z.error.remove&&(w(Ie.src,vt.transparentSrc),ye.push(Ie),Ge=!0),GH(e,Z.error.message)),{element:Ie,status:Z.status,uploadUri:Z.url,blobInfo:Ne,removed:Ge}});return ye.length>0&&!zs(e)?e.undoManager.transact(()=>{ue(ye,Z=>{e.dom.remove(Z),t.removeByUri(Z.src)})}):me&&e.undoManager.dispatchChange(),ee}))}))),P=()=>x0(e)?E():Promise.resolve([]),L=G=>vr(o,K=>K(G)),k=G=>{o.push(G)},B=()=>(r||(r=oj(s,t)),r.findAll(e.getBody(),L).then(l(G=>{const K=He(G,oe=>V(oe)?(nh(e,oe),!1):!0);return zs(e)||ue(K,oe=>{w(oe.image.src,oe.blobInfo.blobUri()),oe.image.src=oe.blobInfo.blobUri(),oe.image.removeAttribute("data-mce-src")}),K}))),j=()=>{t.destroy(),s.destroy(),r=n=null},H=G=>G.replace(/src="(blob:[^"]+)"/g,(K,oe)=>{const ye=s.getResultUri(oe);if(ye)return'src="'+ye+'"';let me=t.getByUri(oe);return me||(me=fn(e.editorManager.get(),(ee,Z)=>ee||Z.editorUpload&&Z.editorUpload.blobCache.getByUri(oe),void 0)),me?'src="data:'+me.blob().type+";base64,"+me.base64()+'"':K});return e.on("SetContent",()=>{x0(e)?P():B()}),e.on("RawSaveContent",G=>{G.content=H(G.content)}),e.on("GetContent",G=>{G.source_view||G.format==="raw"||G.format==="tree"||(G.content=H(G.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",G=>{ue(G,K=>{const oe=K.attr("src");if(!oe||t.getByUri(oe))return;const ye=s.getResultUri(oe);ye&&K.attr("src",ye)})})}),{blobCache:t,addFilter:k,uploadImages:E,uploadImagesAuto:P,scanForImages:B,destroy:j}},hj=e=>{const t=e.dom,n=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:s=>{t.setStyle(s,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:s=>{t.setStyle(s,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const s={inline:"span",styles:{textDecoration:"line-through"},exact:!0},o={inline:"strike",remove:"all",preserve_attributes:["class","style"]},l={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[l,s,o]:[s,l,o]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(s,o,l)=>Ee(s)&&s.hasAttribute("href"),onformat:(s,o,l)=>{pe.each(l,(f,d)=>{t.setAttrib(s,d,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":s=>{var o;return(o=s==null?void 0:s.customValue)!==null&&o!==void 0?o:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return pe.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),s=>{r[s]={block:s,remove:"all"}}),r},cx={remove_similar:!0,inherit:!1},vl={selector:"td,th",...cx},mj={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...vl},tablecellverticalalign:{styles:{"vertical-align":"%value"},...vl},tablecellbordercolor:{styles:{borderColor:"%value"},...vl},tablecellclass:{classes:["%value"],...vl},tableclass:{selector:"table",classes:["%value"],...cx},tablecellborderstyle:{styles:{borderStyle:"%value"},...vl},tablecellborderwidth:{styles:{borderWidth:"%value"},...vl}},pj=ie(mj),gj=e=>{const t={},n=l=>fe(l)?t[l]:t,r=l=>Je(t,l),s=(l,f)=>{l&&(V(l)?($e(f)||(f=[f]),ue(f,d=>{yt(d.deep)&&(d.deep=!xr(d)),yt(d.split)&&(d.split=!xr(d)||mn(d)),yt(d.remove)&&xr(d)&&!mn(d)&&(d.remove="none"),xr(d)&&mn(d)&&(d.mixed=!0,d.block_expand=!0),V(d.classes)&&(d.classes=d.classes.split(/\s+/))}),t[l]=f):Nt(l,(d,g)=>{s(g,d)}))},o=l=>(l&&t[l]&&delete t[l],t);return s(hj(e)),s(pj()),s(BO(e)),{get:n,has:r,register:s,unregister:o}},sh=pe.each,Ar=Dt.DOM,Yv=e=>fe(e)&&be(e),ux=(e,t)=>{const n=t&&t.schema||Yo({}),r=(d,g)=>{g.classes.length>0&&Ar.addClass(d,g.classes.join(" ")),Ar.setAttribs(d,g.attrs)},s=d=>{const g=V(d)?{name:d,classes:[],attrs:{}}:d,w=Ar.create(g.name);return r(w,g),w},o=(d,g)=>{const w=n.getElementRule(d.nodeName.toLowerCase()),C=w==null?void 0:w.parentsRequired;return C&&C.length?g&&kt(C,g)?g:C[0]:!1},l=(d,g,w)=>{let C;const E=g[0],P=Yv(E)?E.name:void 0,L=o(d,P);if(L)P===L?(C=E,g=g.slice(1)):C=L;else if(E)C=E,g=g.slice(1);else if(!w)return d;const k=C?s(C):Ar.create("div");k.appendChild(d),w&&pe.each(w,j=>{const H=s(j);k.insertBefore(H,d)});const B=Yv(C)?C.siblings:void 0;return l(k,g,B)},f=Ar.create("div");if(e.length>0){const d=e[0],g=s(d),w=Yv(d)?d.siblings:void 0;f.appendChild(l(g,e.slice(1),w))}return f},vj=e=>{e=pe.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,s,o,l,f)=>{switch(s){case"#":n.attrs.id=o;break;case".":n.classes.push(o);break;case":":pe.inArray("checked disabled enabled read-only required".split(" "),o)!==-1&&(n.attrs[o]=o);break}if(l==="["){const d=f.match(/([\w\-]+)(?:\=\"([^\"]+))?/);d&&(n.attrs[d[1]]=d[2])}return""})),n.name=t||"div",n},bj=e=>V(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),pe.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=pe.map(t.split(/(?:~\+|~|\+)/),vj),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[],yj=(e,t)=>{let n="",r=FO(e);if(r==="")return"";const s=E=>V(E)?E.replace(/%(\w+)/g,""):"",o=(E,P)=>Ar.getStyle(P??e.getBody(),E,!0);if(V(t)){const E=e.formatter.get(t);if(!E)return"";t=E[0]}if("preview"in t){const E=t.preview;if(E===!1)return"";r=E||r}let l=t.block||t.inline||"span",f;const d=bj(t.selector);d.length>0?(d[0].name||(d[0].name=l),l=t.selector,f=ux(d,e)):f=ux([l],e);const g=Ar.select(l,f)[0]||f.firstChild;sh(t.styles,(E,P)=>{const L=s(E);L&&Ar.setStyle(g,P,L)}),sh(t.attributes,(E,P)=>{const L=s(E);L&&Ar.setAttrib(g,P,L)}),sh(t.classes,E=>{const P=s(E);Ar.hasClass(g,P)||Ar.addClass(g,P)}),e.dispatch("PreviewFormats"),Ar.setStyles(f,{position:"absolute",left:-65535}),e.getBody().appendChild(f);const w=o("fontSize"),C=/px$/.test(w)?parseInt(w,10):0;return sh(r.split(" "),E=>{let P=o(E,g);if(!(E==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(P)&&(P=o(E),Sd(P).toLowerCase()==="#ffffff"))&&!(E==="color"&&Sd(P).toLowerCase()==="#000000")){if(E==="font-size"&&/em|%$/.test(P)){if(C===0)return;P=parseFloat(P)/(/%$/.test(P)?100:1)*C+"px"}E==="border"&&P&&(n+="padding:0 2px;"),n+=E+":"+P+";"}}),e.dispatch("AfterPreviewFormats"),Ar.remove(f),n},Cj=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},fx=e=>{const t=gj(e),n=yn({});return Cj(e),IM(e),zs(e)||az(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,s,o)=>{BW(e,r,s,o)},remove:(r,s,o,l)=>{FW(e,r,s,o,l)},toggle:(r,s,o)=>{IW(e,r,s,o)},match:(r,s,o,l)=>RW(e,r,s,o,l),closest:r=>$W(e,r),matchAll:(r,s)=>NW(e,r,s),matchNode:(r,s,o,l)=>OW(e,r,s,o,l),canApply:r=>PW(e,r),formatChanged:(r,s,o,l)=>LW(e,n,r,s,o,l),getCssText:xe(yj,e)}},dx=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},wj=(e,t,n)=>{const r=yn(!1),s=d=>{Qd(t,!1,n),t.add({},d)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",d=>{const g=d.command;dx(g)||(W_(t,n),t.beforeChange())}),e.on("ExecCommand",d=>{const g=d.command;dx(g)||s(d)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",s),e.on("dragend",s),e.on("keyup",d=>{const g=d.keyCode;d.isDefaultPrevented()||((g>=33&&g<=36||g>=37&&g<=40||g===45||d.ctrlKey)&&(s(),e.nodeChanged()),(g===46||g===8)&&e.nodeChanged(),r.get()&&t.typing&&!qv(Jd(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",d=>{const g=d.keyCode;if(d.isDefaultPrevented())return;if(g>=33&&g<=36||g>=37&&g<=40||g===45){t.typing&&s(d);return}const w=d.ctrlKey&&!d.altKey||d.metaKey;(g<16||g>20)&&g!==224&&g!==91&&!t.typing&&!w&&(t.beforeChange(),Qd(t,!0,n),t.add({},d),r.set(!0))}),e.on("mousedown",d=>{t.typing&&s(d)});const o=d=>d.inputType==="insertReplacementText",l=d=>d.inputType==="insertText"&&d.data===null,f=d=>d.inputType==="insertFromPaste"||d.inputType==="insertFromDrop";e.on("input",d=>{d.inputType&&(o(d)||l(d)||f(d))&&s(d)}),e.on("AddUndo Undo Redo ClearUndos",d=>{d.isDefaultPrevented()||e.nodeChanged()})},Sj=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},hx=e=>{const t=Jo(),n=yn(0),r=yn(0),s={data:[],typing:!1,beforeChange:()=>{yW(e,n,t)},add:(o,l)=>CW(e,s,r,n,t,o,l),dispatchChange:()=>{e.setDirty(!0);const o=Jd(e);o.bookmark=Jp(e.selection),e.dispatch("change",{level:o,lastLevel:Ei(s.data,r.get()).getOrUndefined()})},undo:()=>wW(e,s,n,r),redo:()=>SW(e,r,s.data),clear:()=>{EW(e,s,r)},reset:()=>{_W(e,s)},hasUndo:()=>xW(e,s,r),hasRedo:()=>TW(e,s,r),transact:o=>kW(e,s,n,o),ignore:o=>{AW(e,n,o)},extra:(o,l)=>{DW(e,s,r,o,l)}};return zs(e)||wj(e,s,n),Sj(e),s},Ej=[9,27,Re.HOME,Re.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Re.DOWN,Re.UP,Re.LEFT,Re.RIGHT].concat(vt.browser.isFirefox()?[224]:[]),mx="data-mce-placeholder",px=e=>e.type==="keydown"||e.type==="keyup",gx=e=>{const t=e.keyCode;return t===Re.BACKSPACE||t===Re.DELETE},_j=e=>{if(px(e)){const t=e.keyCode;return!gx(e)&&(Re.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||kt(Ej,t))}else return!1},xj=e=>px(e)&&!(gx(e)||e.type==="keyup"&&e.keyCode===229),Tj=(e,t,n)=>{if(on(U.fromDom(t),!1)){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===r.nodeName.toLowerCase():!0}else return!1},kj=e=>{var t;const n=e.dom,r=fr(e),s=(t=NO(e))!==null&&t!==void 0?t:"",o=(l,f)=>{if(_j(l))return;const d=e.getBody(),g=xj(l)?!1:Tj(n,d,r);(n.getAttrib(d,mx)!==""!==g||f)&&(n.setAttrib(d,mx,g?s:null),n.setAttrib(d,"aria-placeholder",g?s:null),Q$(e,g),e.on(g?"keydown":"keyup",o),e.off(g?"keyup":"keydown",o))};br(s)&&e.on("init",l=>{o(l,!0),e.on("change SetContent ExecCommand",o),e.on("paste",f=>Tr.setEditorTimeout(e,()=>o(f)))})},Aj=(e,t)=>({block:e,position:t}),Dj=(e,t)=>({from:e,to:t}),Jv=(e,t)=>{const n=U.fromDom(e),r=U.fromDom(t.container());return Ld(n,r).map(s=>Aj(s,t))},Rj=e=>!bt(e.from.block,e.to.block),vx=(e,t)=>io(t,s=>go(s)||ur(s.dom),s=>bt(s,e)).filter(On).getOr(e),Nj=(e,t)=>{const n=U.fromDom(e);return bt(vx(n,t.from.block),vx(n,t.to.block))},Oj=e=>At(e.from.block.dom)===!1&&At(e.to.block.dom)===!1,Pj=e=>{const t=n=>Zf(n)||Rp(n.dom);return t(e.from.block)&&t(e.to.block)},$j=(e,t,n)=>Gt(n.position.getNode())&&!on(n.block)?al(!1,n.block.dom).bind(r=>r.isEqual(n.position)?Sr(t,e,r).bind(s=>Jv(e,s)):x.some(n)).getOr(n):n,Bj=(e,t,n)=>{const r=Jv(e,re.fromRangeStart(n)),s=r.bind(o=>Sr(t,e,o.position).bind(l=>Jv(e,l).map(f=>$j(e,t,f))));return Nn(r,s,Dj).filter(o=>Rj(o)&&Nj(e,o)&&Oj(o)&&Pj(o))},Fj=(e,t,n)=>n.collapsed?Bj(e,t,n):x.none(),Ij=e=>{const t=bn(e);return Do(t,nr).fold(ie(t),n=>t.slice(0,n))},bx=e=>{const t=Ij(e);return ue(t,Ut),t},yx=(e,t)=>{const n=yo(t,e);return Qt(n.reverse(),r=>on(r)).each(Ut)},Lj=e=>He(Rf(e),t=>!on(t)).length===0,Mj=(e,t,n,r)=>{if(on(n))return te(n),qn(n.dom);Lj(r)&&on(t)&&tr(r,U.fromTag("br"));const s=Er(n.dom,re.before(r.dom));return ue(bx(t),o=>{tr(r,o)}),yx(e,t),s},zj=(e,t,n)=>{if(on(n)){if(on(t)){const o=Jn((l=>{const f=(d,g)=>rc(d).fold(()=>g,w=>Qi(w)?f(w,g.concat(qa(w))):g);return f(l,[])})(n),(l,f)=>(Mf(l,f),f),q());Ho(t),rn(t,o)}return Ut(n),qn(t.dom)}const r=Fs(n.dom);return ue(bx(t),s=>{rn(n,s)}),yx(e,t),r},Uj=(e,t)=>{const n=yo(t,e);return x.from(n[n.length-1])},Wj=(e,t)=>ts(t,e)?Uj(t,e):x.none(),Cx=(e,t)=>{al(e,t.dom).bind(n=>x.from(n.getNode())).map(U.fromDom).filter(po).each(Ut)},wx=(e,t,n)=>(Cx(!0,t),Cx(!1,n),Wj(t,n).fold(xe(zj,e,t,n),xe(Mj,e,t,n))),Sx=(e,t,n,r)=>t?wx(e,r,n):wx(e,n,r),Qv=(e,t)=>{const n=U.fromDom(e.getBody());return Fj(n.dom,t,e.selection.getRng()).map(s=>()=>{Sx(n,t,s.from.block,s.to.block).each(o=>{e.selection.setRng(o.toRange())})})},Hj=(e,t)=>{const n=t.getRng();return Nn(Ld(e,U.fromDom(n.startContainer)),Ld(e,U.fromDom(n.endContainer)),(r,s)=>bt(r,s)?x.none():x.some(()=>{n.deleteContents(),Sx(e,!0,r,s).each(o=>{t.setRng(o.toRange())})})).getOr(x.none())},Ex=(e,t)=>{const n=U.fromDom(t),r=xe(bt,e);return ns(n,go,r).isSome()},jj=(e,t)=>Ex(e,t.startContainer)||Ex(e,t.endContainer),Vj=(e,t)=>{const n=Er(e.dom,re.fromRangeStart(t)).isNone(),r=rr(e.dom,re.fromRangeEnd(t)).isNone();return!jj(e,t)&&n&&r},qj=e=>x.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),Gj=e=>{const t=U.fromDom(e.getBody()),n=e.selection.getRng();return Vj(t,n)?qj(e):Hj(t,e.selection)},Zv=(e,t)=>e.selection.isCollapsed()?x.none():Gj(e),Co=(e,t,n,r,s)=>x.from(t._selectionOverrides.showCaret(e,n,r,s)),Kj=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},tu=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?x.none():x.some(Kj(t)),Xj=(e,t,n)=>{const r=ag(1,e.getBody(),t),s=re.fromRangeStart(r),o=s.getNode();if(Pc(o))return Co(1,e,o,!s.isAtEnd(),!1);const l=s.getNode(!0);if(Pc(l))return Co(1,e,l,!1,!1);const f=ai(e.dom.getRoot(),s.getNode());return Pc(f)?Co(1,e,f,!1,n):x.none()},eb=(e,t,n)=>t.collapsed?Xj(e,t,n).getOr(t):t,Yj=e=>sa(e)||jc(e),Jj=e=>oa(e)||Vc(e),Qj=(e,t)=>{ce(t)&&t.data.length===0&&e.remove(t)},_x=(e,t,n,r,s,o)=>{Co(r,e,o.getNode(!s),s,!0).each(l=>{if(t.collapsed){const f=t.cloneRange();s?f.setEnd(l.startContainer,l.startOffset):f.setStart(l.endContainer,l.endOffset),f.deleteContents()}else t.deleteContents();e.selection.setRng(l)}),Qj(e.dom,n)},Zj=(e,t)=>{const n=e.selection.getRng();if(!ce(n.commonAncestorContainer))return x.none();const r=t?Cn.Forwards:Cn.Backwards,s=Bs(e.getBody()),o=xe(ig,t?s.next:s.prev),l=t?Yj:Jj,f=Lc(r,e.getBody(),n),d=o(f),g=d&&kr(t,d);if(!g||!vd(f,g))return x.none();if(l(g))return x.some(()=>_x(e,n,f.getNode(),r,t,g));const w=o(g);return w&&l(w)&&vd(g,w)?x.some(()=>_x(e,n,f.getNode(),r,t,w)):x.none()},tb=(e,t)=>Zj(e,t),nb=(e,t)=>{const n=e.getBody();return t?qn(n).filter(sa):Fs(n).filter(oa)},rb=e=>{const t=e.selection.getRng();return!t.collapsed&&(nb(e,!0).exists(n=>n.isEqual(re.fromRangeStart(t)))||nb(e,!1).exists(n=>n.isEqual(re.fromRangeEnd(t))))},e2=e=>fe(e)&&(go(U.fromDom(e))||Rs(U.fromDom(e))),dr=Os.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),t2=(e,t)=>{const n=t.getNode(!e),r=e?"after":"before";return Ee(n)&&n.getAttribute("data-mce-caret")===r},n2=(e,t,n,r)=>{const s=o=>Qi(U.fromDom(o))&&!Ps(n,r,e);return Y0(!t,n).fold(()=>Y0(t,r).fold(Ye,s),s)},xx=(e,t,n,r)=>{const s=r.getNode(!t);return Ld(U.fromDom(e),U.fromDom(n.getNode())).map(o=>on(o)?dr.remove(o.dom):dr.moveToElement(s)).orThunk(()=>x.some(dr.moveToElement(s)))},Tx=(e,t,n)=>Sr(t,e,n).bind(r=>e2(r.getNode())||n2(e,t,n,r)?x.none():t&&At(r.getNode())||!t&&At(r.getNode(!0))?xx(e,t,n,r):t&&oa(n)||!t&&sa(n)?x.some(dr.moveToPosition(r)):x.none()),r2=(e,t)=>at(t)?x.none():e&&At(t.nextSibling)?x.some(dr.moveToElement(t.nextSibling)):!e&&At(t.previousSibling)?x.some(dr.moveToElement(t.previousSibling)):x.none(),s2=(e,t,n)=>n.fold(r=>x.some(dr.remove(r)),r=>x.some(dr.moveToElement(r)),r=>Ps(t,r,e)?x.none():x.some(dr.moveToPosition(r))),o2=(e,t,n)=>t2(t,n)?r2(t,n.getNode(!t)).orThunk(()=>Tx(e,t,n)):Tx(e,t,n).bind(r=>s2(e,n,r)),a2=(e,t,n)=>{const r=ag(t?1:-1,e,n),s=re.fromRangeStart(r),o=U.fromDom(e);return!t&&oa(s)?x.some(dr.remove(s.getNode(!0))):t&&sa(s)?x.some(dr.remove(s.getNode())):!t&&sa(s)&&Xg(o,s)?dI(o,s).map(l=>dr.remove(l.getNode())):t&&oa(s)&&Kg(o,s)?hI(o,s).map(l=>dr.remove(l.getNode())):o2(e,t,s)},i2=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),si(e,t,U.fromDom(n)),!0),l2=(e,t)=>n=>{const r=t?re.before(n):re.after(n);return e.selection.setRng(r.toRange()),!0},c2=e=>t=>(e.selection.setRng(t.toRange()),!0),kx=(e,t)=>x.from(ai(e.getBody(),t)),u2=(e,t)=>{const n=e.selection.getNode();return kx(e,n).filter(At).fold(()=>a2(e.getBody(),t,e.selection.getRng()).map(r=>()=>r.fold(i2(e,t),l2(e,t),c2(e))),()=>x.some(ze))},f2=e=>{ue(Sn(e,".mce-offscreen-selection"),Ut)},d2=(e,t)=>{const n=e.selection.getNode();return At(n)&&!za(n)?kx(e,n.parentNode).filter(At).fold(()=>x.some(()=>{f2(U.fromDom(e.getBody())),si(e,t,U.fromDom(e.selection.getNode())),tv(e)}),()=>x.some(ze)):rb(e)?x.some(()=>{eE(e,e.selection.getRng(),U.fromDom(e.getBody()))}):x.none()},Ax=e=>{const t=e.dom,n=e.selection,r=ai(e.getBody(),n.getNode());if(ur(r)&&t.isBlock(r)&&t.isEmpty(r)){const s=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(s),n.setRng(re.before(s).toRange())}return!0},sb=(e,t)=>e.selection.isCollapsed()?u2(e,t):d2(e,t),h2=(e,t)=>{const n=re.fromRangeStart(e.selection.getRng());return Sr(t,e.getBody(),n).filter(r=>t?oI(r):aI(r)).bind(r=>og(t?0:-1,r)).map(r=>()=>e.selection.select(r))},ob=(e,t)=>e.selection.isCollapsed()?h2(e,t):x.none(),bl=ce,Dx=e=>bl(e)&&e.data[0]===ae,Rx=e=>bl(e)&&e.data[e.data.length-1]===ae,Nx=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(ae)},m2=e=>{var t;if(bl(e.previousSibling))return Rx(e.previousSibling)||e.previousSibling.appendData(ae),e.previousSibling;if(bl(e))return Dx(e)||e.insertData(0,ae),e;{const n=Nx(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},p2=e=>{var t,n;if(bl(e.nextSibling))return Dx(e.nextSibling)||e.nextSibling.insertData(0,ae),e.nextSibling;if(bl(e))return Rx(e)||e.appendData(ae),e;{const r=Nx(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(r,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(r),r}},oh=(e,t)=>e?m2(t):p2(t),g2=xe(oh,!0),v2=xe(oh,!1),Ox=(e,t)=>ce(e.container())?oh(t,e.container()):oh(t,e.getNode()),Px=(e,t)=>{const n=t.get();return n&&e.container()===n&&Ve(n)},ab=(e,t)=>t.fold(n=>{Ya(e.get());const r=g2(n);return e.set(r),x.some(re(r,r.length-1))},n=>qn(n).map(r=>{if(Px(r,e)){const s=e.get();return re(s,1)}else{Ya(e.get());const s=Ox(r,!0);return e.set(s),re(s,1)}}),n=>Fs(n).map(r=>{if(Px(r,e)){const s=e.get();return re(s,s.length-1)}else{Ya(e.get());const s=Ox(r,!1);return e.set(s),re(s,s.length-1)}}),n=>{Ya(e.get());const r=v2(n);return e.set(r),x.some(re(r,1))}),$x=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,t);if(r.isSome())return r}return x.none()},In=Os.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Bx=(e,t)=>{const n=ea(t,e);return n||e},b2=(e,t,n)=>{const r=YS(n),s=Bx(t,r.container());return aa(e,s,r).fold(()=>rr(s,r).bind(xe(aa,e,s)).map(o=>In.before(o)),x.none)},y2=(e,t)=>Qa(e,t)===null,Fx=(e,t,n)=>aa(e,t,n).filter(xe(y2,t)),C2=(e,t,n)=>{const r=JS(n);return Fx(e,t,r).bind(s=>Er(s,r).isNone()?x.some(In.start(s)):x.none())},w2=(e,t,n)=>{const r=YS(n);return Fx(e,t,r).bind(s=>rr(s,r).isNone()?x.some(In.end(s)):x.none())},S2=(e,t,n)=>{const r=JS(n),s=Bx(t,r.container());return aa(e,s,r).fold(()=>Er(s,r).bind(xe(aa,e,s)).map(o=>In.after(o)),x.none)},Ix=e=>!VI(ib(e)),Us=(e,t,n)=>$x([b2,C2,w2,S2],[e,t,n]).filter(Ix),ib=e=>e.fold(zt,zt,zt,zt),Lx=e=>e.fold(ie("before"),ie("start"),ie("end"),ie("after")),ah=e=>e.fold(In.before,In.before,In.after,In.after),lb=e=>e.fold(In.start,In.start,In.end,In.end),E2=(e,t)=>Lx(e)===Lx(t)&&ib(e)===ib(t),_2=(e,t,n,r,s,o)=>Nn(aa(t,n,r),aa(t,n,s),(l,f)=>l!==f&&GI(n,l,f)?In.after(e?l:f):o).getOr(o),x2=(e,t)=>e.fold(ht,n=>!E2(n,t)),T2=(e,t,n,r,s)=>{const o=kr(e,s);return Sr(e,n,o).map(xe(kr,e)).fold(()=>r.map(ah),d=>Us(t,n,d).map(xe(_2,e,t,n,o,d)).filter(xe(x2,r))).filter(Ix)},k2=(e,t)=>e?t.fold(Jt(x.some,In.start),x.none,Jt(x.some,In.after),x.none):t.fold(x.none,Jt(x.some,In.before),x.none,Jt(x.some,In.end)),A2=(e,t,n,r)=>{const s=kr(e,r),o=Us(t,n,s);return Us(t,n,s).bind(xe(k2,e)).orThunk(()=>T2(e,t,n,o,r))},D2=e=>Ke(e.selection.getSel().modify),Mx=(e,t,n)=>{const r=e?1:-1;return t.setRng(re(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},R2=(e,t)=>{const n=t.selection.getRng(),r=e?re.fromRangeEnd(n):re.fromRangeStart(n);return D2(t)?e&&Ot(r)?Mx(!0,t.selection,r):!e&&It(r)?Mx(!1,t.selection,r):!1:!1};var Ws;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Ws||(Ws={}));const ih=(e,t)=>e===Cn.Backwards?va(t):t,N2=(e,t,n)=>e===Cn.Forwards?t.next(n):t.prev(n),O2=(e,t,n,r)=>Gt(r.getNode(t===Cn.Forwards))?Ws.Br:Ps(n,r)===!1?Ws.Block:Ws.Wrap,zx=(e,t,n,r)=>{const s=Bs(n);let o=r;const l=[];for(;o;){const f=N2(t,s,o);if(!f)break;if(Gt(f.getNode(!1)))return t===Cn.Forwards?{positions:ih(t,l).concat([f]),breakType:Ws.Br,breakAt:x.some(f)}:{positions:ih(t,l),breakType:Ws.Br,breakAt:x.some(f)};if(!f.isVisible()){o=f;continue}if(e(o,f)){const d=O2(n,t,o,f);return{positions:ih(t,l),breakType:d,breakAt:x.some(f)}}l.push(f),o=f}return{positions:ih(t,l),breakType:Ws.Eol,breakAt:x.none()}},Ux=(e,t,n,r)=>t(n,r).breakAt.map(s=>{const o=t(n,s).positions;return e===Cn.Backwards?o.concat(s):[s].concat(o)}).getOr([]),cb=(e,t)=>fn(e,(n,r)=>n.fold(()=>x.some(r),s=>Nn(Rn(s.getClientRects()),Rn(r.getClientRects()),(o,l)=>{const f=Math.abs(t-o.left);return Math.abs(t-l.left)<=f?r:s}).or(n)),x.none()),lh=(e,t)=>Rn(t.getClientRects()).bind(n=>cb(e,n.left)),nu=xe(zx,re.isAbove,-1),ru=xe(zx,re.isBelow,1),Wx=xe(Ux,-1,nu),Hx=xe(Ux,1,ru),P2=(e,t)=>nu(e,t).breakAt.isNone(),$2=(e,t)=>ru(e,t).breakAt.isNone(),B2=e=>qn(e).map(t=>[t].concat(ru(e,t).positions)).getOr([]),F2=e=>Fs(e).map(t=>nu(e,t).positions.concat(t)).getOr([]),I2=(e,t)=>lh(Wx(e,t),t),L2=(e,t)=>lh(Hx(e,t),t),M2=At,jx=(e,t)=>Math.abs(e.left-t),Vx=(e,t)=>Math.abs(e.right-t),z2=e=>Cs(e,"node"),qx=(e,t)=>wn(e,(n,r)=>{const s=Math.min(jx(n,t),Vx(n,t)),o=Math.min(jx(r,t),Vx(r,t));return o===s&&z2(r)&&M2(r.node)||o<s?r:n}),U2=e=>{const t=n=>mt(n,r=>{const s=Ka(r);return s.node=e,s});if(Ee(e))return t(e.getClientRects());if(ce(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},Gx=e=>Ir(e,U2);var su;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(su||(su={}));const W2=(e,t,n,r)=>{let s=r;for(;s=Bc(s,e,dC,t);)if(n(s))return},Kx=(e,t,n,r,s,o)=>{let l=0;const f=[],d=C=>{let E=Gx([C]);e===-1&&(E=E.reverse());for(let P=0;P<E.length;P++){const L=E[P];if(!n(L,g)){if(f.length>0&&t(L,Zs(f))&&l++,L.line=l,s(L))return!0;f.push(L)}}return!1},g=Zs(o.getClientRects());if(!g)return f;const w=o.getNode();return w&&(d(w),W2(e,r,d,w)),f},H2=(e,t)=>t.line>e,j2=(e,t)=>t.line===e,V2=xe(Kx,su.Up,kc,Ac),q2=xe(Kx,su.Down,Ac,kc),Xx=e=>Zs(e.getClientRects()),G2=(e,t,n,r)=>{const s=Bs(t);let o,l,f,d;const g=[];let w=0;e===1?(o=s.next,l=Ac,f=kc,d=re.after(r)):(o=s.prev,l=kc,f=Ac,d=re.before(r));const C=Xx(d);do{if(!d.isVisible())continue;const E=Xx(d);if(f(E,C))continue;g.length>0&&l(E,Zs(g))&&w++;const P=Ka(E);if(P.position=d,P.line=w,n(P))return g;g.push(P)}while(d=o(d));return g},Yx=e=>t=>H2(e,t),ub=e=>t=>j2(e,t),wo=(e,t)=>{e.selection.setRng(t),Hc(e,e.selection.getRng())},fb=(e,t,n)=>x.some(eb(e,t,n)),Jx=(e,t,n,r,s,o)=>{const l=t===Cn.Forwards,f=Bs(e.getBody()),d=xe(ig,l?f.next:f.prev),g=l?r:s;if(!n.collapsed){const L=cd(n);if(o(L))return Co(t,e,L,t===Cn.Backwards,!1);if(rb(e)){const k=n.cloneRange();return k.collapse(t===Cn.Backwards),x.from(k)}}const w=Lc(t,e.getBody(),n);if(g(w))return tu(e,w.getNode(!l));let C=d(w);const E=Ko(n);if(C)C=kr(l,C);else return E?x.some(n):x.none();if(g(C))return Co(t,e,C.getNode(!l),l,!1);const P=d(C);return P&&g(P)&&vd(C,P)?Co(t,e,P.getNode(!l),l,!1):E?fb(e,C.toRange(),!1):x.none()},Qx=(e,t,n,r,s,o)=>{const l=Lc(t,e.getBody(),n),f=Zs(l.getClientRects()),d=t===su.Down,g=e.getBody();if(!f)return x.none();if(rb(e)){const B=d?re.fromRangeEnd(n):re.fromRangeStart(n);return(d?L2:I2)(g,B).orThunk(()=>x.from(B)).map(H=>H.toRange())}const C=(d?q2:V2)(g,Yx(1),l),E=He(C,ub(1)),P=f.left,L=qx(E,P);if(L&&o(L.node)){const B=Math.abs(P-L.left),j=Math.abs(P-L.right);return Co(t,e,L.node,B<j,!1)}let k;if(r(l)?k=l.getNode():s(l)?k=l.getNode(!0):k=cd(n),k){const B=G2(t,g,Yx(1),k);let j=qx(He(B,ub(1)),P);if(j||(j=Zs(He(B,ub(0))),j))return fb(e,j.position.toRange(),!1)}return E.length===0?db(e,d).filter(d?s:r).map(B=>eb(e,B.toRange(),!1)):x.none()},db=(e,t)=>{const n=e.selection.getRng(),r=t?re.fromRangeEnd(n):re.fromRangeStart(n),s=UP(r.container(),e.getBody());if(t){const o=ru(s,r);return Js(o.positions)}else{const o=nu(s,r);return Rn(o.positions)}},Zx=(e,t,n)=>db(e,t).filter(n).exists(r=>(e.selection.setRng(r.toRange()),!0)),ch=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},eT=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},tT=(e,t,n)=>ab(t,n).map(r=>(ch(e,r),n)),K2=(e,t,n)=>{const r=re.fromRangeStart(e);if(e.collapsed)return r;{const s=re.fromRangeEnd(e);return n?Er(t,s).getOr(s):rr(t,r).getOr(r)}},X2=(e,t,n)=>{const r=e.getBody(),s=K2(e.selection.getRng(),r,n),o=xe(oi,e);return A2(n,o,r,s).bind(f=>tT(e,t,f))},Y2=(e,t,n)=>{const r=mt(Sn(U.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),l=>l.dom),s=He(r,e),o=He(n,e);ue(Xr(s,o),xe(eT,!1)),ue(Xr(o,s),xe(eT,!0))},J2=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const r=re.fromRangeStart(e.selection.getRng());re.isTextPosition(r)&&!KI(r)&&(ch(e,DP(n,r)),t.set(null))}},Q2=(e,t,n,r)=>{if(t.selection.isCollapsed()){const s=He(r,e);ue(s,o=>{const l=re.fromRangeStart(t.selection.getRng());Us(e,t.getBody(),l).bind(f=>tT(t,n,f))})}},nT=(e,t,n)=>Oc(e)?X2(e,t,n).isSome():!1,rT=(e,t,n)=>Oc(t)?R2(e,t):!1,Z2=e=>{const t=yn(null),n=xe(oi,e);return e.on("NodeChange",r=>{Oc(e)&&(Y2(n,e.dom,r.parents),J2(e,t),Q2(n,e,t,r.parents))}),t},eV=xe(rT,!0),tV=xe(rT,!1),uh=(e,t,n)=>{if(Oc(e)){const r=db(e,t).getOrThunk(()=>{const s=e.selection.getRng();return t?re.fromRangeEnd(s):re.fromRangeStart(s)});return Us(xe(oi,e),e.getBody(),r).exists(s=>{const o=ah(s);return ab(n,o).exists(l=>(ch(e,l),!0))})}else return!1},nV=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},rV=e=>Nn(qn(e),Fs(e),(t,n)=>{const r=kr(!0,t),s=kr(!1,n);return rr(e,r).forall(o=>o.isEqual(s))}).getOr(!0),sT=(e,t)=>n=>ab(t,n).map(r=>()=>ch(e,r)),oT=(e,t,n,r)=>{const s=e.getBody(),o=xe(oi,e);e.undoManager.ignore(()=>{e.selection.setRng(nV(n,r)),ev(e),Us(o,s,re.fromRangeStart(e.selection.getRng())).map(lb).bind(sT(e,t)).each(ys)}),e.nodeChanged()},sV=(e,t)=>{const n=ea(t,e);return n||e},oV=(e,t,n,r)=>{const s=sV(e.getBody(),r.container()),o=xe(oi,e),l=Us(o,s,r);return l.bind(d=>n?d.fold(ie(x.some(lb(d))),x.none,ie(x.some(ah(d))),x.none):d.fold(x.none,ie(x.some(ah(d))),x.none,ie(x.some(lb(d))))).map(sT(e,t)).getOrThunk(()=>{const d=yd(n,s,r),g=d.bind(w=>Us(o,s,w));return Nn(l,g,()=>aa(o,s,r).bind(w=>rV(w)?x.some(()=>{si(e,n,U.fromDom(w))}):x.none())).getOrThunk(()=>g.bind(()=>d.map(w=>()=>{n?oT(e,t,r,w):oT(e,t,w,r)})))})},hb=(e,t,n)=>{if(e.selection.isCollapsed()&&Oc(e)){const r=re.fromRangeStart(e.selection.getRng());return oV(e,t,n,r)}return x.none()},aV=e=>Of(e)>1,aT=(e,t)=>{const n=U.fromDom(e.getBody()),r=U.fromDom(e.selection.getStart()),s=yo(r,n);return Do(s,t).fold(ie(s),o=>s.slice(0,o))},iV=e=>aT(e,t=>nr(t)||aV(t)),lV=e=>aT(e,nr),iT=(e,t)=>{const n=xe(TE,e);return Ir(t,r=>n(r)?[r.dom]:[])},lT=e=>{const t=lV(e);return iT(e,t)},cV=(e,t,n,r)=>{const s=iT(t,r);if(s.length===0)si(t,e,n);else{const o=xE(n.dom,s);t.selection.setRng(o.toRange())}},uV=(e,t)=>{const n=iV(e);return Js(n).bind(r=>{const s=re.fromRangeStart(e.selection.getRng());return ZI(t,s,r.dom)&&!kE(r)?x.some(()=>cV(t,e,r,n)):x.none()})},fV=(e,t)=>{const n=t.parentElement;return Gt(t)&&!tt(n)&&e.dom.isEmpty(n)},dV=e=>kE(U.fromDom(e)),cT=(e,t)=>{const n=e.selection.getStart(),r=fV(e,n)||dV(n)?xE(n,t):LM(e,t);e.selection.setRng(r.toRange())},hV=(e,t)=>{const n=Xr(t,lT(e));n.length>0&&cT(e,n)},uT=e=>ce(e.startContainer),mV=e=>e.startOffset===0&&uT(e),pV=(e,t)=>{const n=t.startContainer.parentElement;return!tt(n)&&TE(e,U.fromDom(n))},gV=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!tt(t)&&!tt(n)&&t.isEqualNode(n)},vV=e=>{const t=e.endContainer;return e.endOffset===(ce(t)?t.length:t.childNodes.length)},bV=e=>gV(e)&&vV(e),yV=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),CV=e=>bV(e)||yV(e),wV=e=>{const t=e.selection.getRng();return mV(t)&&pV(e,t)&&CV(t)},SV=e=>{if(wV(e)){const t=lT(e);return x.some(()=>{ev(e),hV(e,t)})}else return x.none()},mb=(e,t)=>e.selection.isCollapsed()?uV(e,t):SV(e),EV=e=>SM(e,t=>Hr(t.dom),nr),_V=e=>EV(U.fromDom(e.selection.getStart())),xV=e=>{const t=e.selection.getRng();return t.collapsed&&(uT(t)||e.dom.isEmpty(t.startContainer))&&!_V(e)},ou=e=>(xV(e)&&cT(e,[]),!0),pb=(e,t,n)=>fe(n)?x.some(()=>{e._selectionOverrides.hideFakeCaret(),si(e,t,U.fromDom(n))}):x.none(),TV=(e,t)=>{const n=t?jc:Vc,r=t?Cn.Forwards:Cn.Backwards,s=Lc(r,e.getBody(),e.selection.getRng());return n(s)?pb(e,t,s.getNode(!t)):x.from(kr(t,s)).filter(o=>n(o)&&vd(s,o)).bind(o=>pb(e,t,o.getNode(!t)))},kV=(e,t)=>{const n=e.selection.getNode();return zr(n)?pb(e,t,n):x.none()},gb=(e,t)=>e.selection.isCollapsed()?TV(e,t):kV(e,t),AV=e=>io(e,t=>ur(t.dom)||At(t.dom)).exists(t=>ur(t.dom)),vb=e=>Oo(e??"").getOr(0),fT=(e,t)=>{const n=e||Tp(t)?"margin":"padding",r=Mr(t,"direction")==="rtl"?"-right":"-left";return n+r},DV=(e,t,n,r,s,o)=>{const l=fT(n,U.fromDom(o)),f=vb(e.getStyle(o,l));if(t==="outdent"){const d=Math.max(0,f-r);e.setStyle(o,l,d?d+s:"")}else{const d=f+r+s;e.setStyle(o,l,d)}},RV=(e,t)=>vr(t,n=>{const r=fT(D0(e),n),s=Hi(n,r).map(vb).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&s>0}),dT=e=>{const t=mT(e);return!e.mode.isReadOnly()&&(t.length>1||RV(e,t))},hT=e=>bc(e)||Rs(e),NV=e=>cr(e).exists(hT),mT=e=>He(ks(e.selection.getSelectedBlocks()),t=>!hT(t)&&!NV(t)&&AV(t)),pT=(e,t)=>{var n,r;const{dom:s}=e,o=xO(e),l=(r=(n=/[a-z%]+$/i.exec(o))===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:"px",f=vb(o),d=D0(e);ue(mT(e),g=>{DV(s,t,d,f,l,g.dom)})},OV=e=>pT(e,"indent"),gT=e=>pT(e,"outdent"),vT=e=>{if(e.selection.isCollapsed()&&dT(e)){const t=e.dom,n=e.selection.getRng(),r=re.fromRangeStart(n),s=t.getParent(n.startContainer,t.isBlock);if(s!==null&&Gg(U.fromDom(s),r))return x.some(()=>gT(e))}return x.none()},bT=(e,t,n)=>Qs([vT,sb,tb,(r,s)=>hb(r,t,s),Qv,cv,ob,gb,Zv,mb],r=>r(e,n)).filter(r=>e.selection.isEditable()),PV=(e,t)=>{bT(e,t,!1).fold(()=>{ev(e),tv(e)},ys)},$V=(e,t)=>{bT(e,t,!0).fold(()=>YI(e),ys)},BV=(e,t)=>{e.addCommand("delete",()=>{PV(e,t)}),e.addCommand("forwardDelete",()=>{$V(e,t)})},yT=5,FV=400,CT=e=>e.touches===void 0||e.touches.length!==1?x.none():x.some(e.touches[0]),IV=(e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>yT||r>yT},LV=e=>{const t=Jo(),n=yn(!1),r=Hp(s=>{e.dispatch("longpress",{...s,type:"longpress"}),n.set(!0)},FV);e.on("touchstart",s=>{CT(s).each(o=>{r.cancel();const l={x:o.clientX,y:o.clientY,target:s.target};r.throttle(s),n.set(!1),t.set(l)})},!0),e.on("touchmove",s=>{r.cancel(),CT(s).each(o=>{t.on(l=>{IV(o,l)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",s=>{r.cancel(),s.type!=="touchcancel"&&t.get().filter(o=>o.target.isEqualNode(s.target)).each(()=>{n.get()?s.preventDefault():e.dispatch("tap",{...s,type:"tap"})})},!0)},bb=(e,t)=>Je(e,t.nodeName),MV=(e,t)=>ce(t)?!0:Ee(t)?!bb(e.getBlockElements(),t)&&!_r(t)&&!Wa(e,t):!1,zV=(e,t,n)=>Xt(OS(U.fromDom(n),U.fromDom(t)),r=>bb(e,r.dom)),UV=(e,t)=>{if(ce(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||bb(e,t.nextSibling)))return!0}return!1},wT=e=>e.dom.create(fr(e),Nc(e)),WV=e=>{const t=e.dom,n=e.selection,r=e.schema,s=r.getBlockElements(),o=n.getStart(),l=e.getBody();let f,d,g=!1;const w=fr(e);if(!o||!Ee(o))return;const C=l.nodeName.toLowerCase();if(!r.isValidChild(C,w.toLowerCase())||zV(s,l,o))return;const E=n.getRng(),{startContainer:P,startOffset:L,endContainer:k,endOffset:B}=E,j=ri(e);let H=l.firstChild;for(;H;)if(Ee(H)&&AR(r,H),MV(r,H)){if(UV(s,H)){d=H,H=H.nextSibling,t.remove(d);continue}f||(f=wT(e),l.insertBefore(f,H),g=!0),d=H,H=H.nextSibling,f.appendChild(d)}else f=null,H=H.nextSibling;g&&j&&(E.setStart(P,L),E.setEnd(k,B),n.setRng(E),e.nodeChanged())},ST=(e,t,n)=>{const r=U.fromDom(wT(e)),s=q();rn(r,s),n(t,r);const o=document.createRange();return o.setStartBefore(s.dom),o.setEndBefore(s.dom),o},HV=e=>{e.on("NodeChange",xe(WV,e))},ET=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,jV=(e,t,n)=>function(r){const s=arguments,o=s[s.length-2],l=o>0?t.charAt(o-1):"";if(l==='"')return r;if(l===">"){const f=t.lastIndexOf("<",o);if(f!==-1&&t.substring(f,o).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(s[0])+'">'+e.dom.encode(typeof s[1]=="string"?s[1]:s[0])+"</span>"},VV=(e,t,n)=>{let r=t.length,s=n.content;if(n.format!=="raw"){for(;r--;)s=s.replace(t[r],jV(e,s,F0(e)));n.content=s}},qV=e=>{const t="contenteditable",n=" "+pe.trim(pP(e))+" ",r=" "+pe.trim(F0(e))+" ",s=ET(n),o=ET(r),l=gP(e);l.length>0&&e.on("BeforeSetContent",f=>{VV(e,l,f)}),e.parser.addAttributeFilter("class",f=>{let d=f.length;for(;d--;){const g=f[d];s(g)?g.attr(t,"true"):o(g)&&g.attr(t,"false")}}),e.serializer.addAttributeFilter(t,f=>{let d=f.length;for(;d--;){const g=f[d];!s(g)&&!o(g)||(l.length>0&&g.attr("data-mce-content")?(g.name="#text",g.type=3,g.raw=!0,g.value=g.attr("data-mce-content")):g.attr(t,null))}})},GV=e=>Lo(U.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),_T=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Pn(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},KV=(e,t)=>{const n=GV(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),_T(e,n);return}pt(n)&&(_T(e,n),e.undoManager.add())}},XV=e=>{e.on("keyup compositionstart",xe(KV,e))},xT=At,YV=(e,t,n)=>Jx(t,e,n,sa,oa,xT),JV=(e,t,n)=>Qx(t,e,n,o=>sa(o)||RS(o),o=>oa(o)||NS(o),xT),QV=e=>{const t=e.dom.create(fr(e));return t.innerHTML='<br data-mce-bogus="1">',t},TT=(e,t,n)=>{const r=Bs(e.getBody()),s=xe(ig,t===1?r.next:r.prev);if(n.collapsed){const o=e.dom.getParent(n.startContainer,"PRE");if(!o)return;if(!s(re.fromRangeStart(n))){const f=U.fromDom(QV(e));t===1?Ts(U.fromDom(o),f):tr(U.fromDom(o),f),e.selection.select(f.dom,!0),e.selection.collapse()}}},ZV=(e,t)=>{const n=t?Cn.Forwards:Cn.Backwards,r=e.selection.getRng();return YV(n,e,r).orThunk(()=>(TT(e,n,r),x.none()))},eq=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return JV(n,e,r).orThunk(()=>(TT(e,n,r),x.none()))},kT=(e,t)=>ZV(e,t).exists(n=>(wo(e,n),!0)),AT=(e,t)=>eq(e,t).exists(n=>(wo(e,n),!0)),DT=(e,t)=>Zx(e,t,t?oa:sa),fh=(e,t)=>nb(e,!t).map(n=>{const r=n.toRange(),s=e.selection.getRng();return t?r.setStart(s.startContainer,s.startOffset):r.setEnd(s.endContainer,s.endOffset),r}).exists(n=>(wo(e,n),!0)),tq=e=>kt(["figcaption"],Ft(e)),nq=(e,t)=>{const n=xe(bt,t);return io(U.fromDom(e.container()),nr,n).filter(tq)},rq=(e,t,n)=>t?$2(e.dom,n):P2(e.dom,n),sq=(e,t)=>{const n=U.fromDom(e.getBody()),r=re.fromRangeStart(e.selection.getRng());return nq(r,n).exists(()=>{if(rq(n,t,r)){const o=ST(e,n,t?rn:Lf);return e.selection.setRng(o),!0}else return!1})},RT=(e,t)=>e.selection.isCollapsed()?sq(e,t):!1,NT={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},oq=e=>mt(e,t=>({...NT,...t})),aq=e=>mt(e,t=>({...NT,...t})),OT=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,iq=(e,t)=>Ir(oq(e),n=>OT(n,t)?[n]:[]),lq=(e,t)=>Ir(aq(e),n=>OT(n,t)?[n]:[]),Xe=(e,...t)=>()=>e.apply(null,t),au=(e,t)=>Qt(iq(e,t),n=>n.action()),PT=(e,t)=>Qs(lq(e,t),n=>n.action()),$T=(e,t)=>{const n=t?Cn.Forwards:Cn.Backwards,r=e.selection.getRng();return Jx(e,n,r,jc,Vc,zr).exists(s=>(wo(e,s),!0))},BT=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return Qx(e,n,r,jc,Vc,zr).exists(s=>(wo(e,s),!0))},FT=(e,t)=>Zx(e,t,t?Vc:jc),IT=Os.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),iu={...IT,none:e=>IT.none(e)},cq=(e,t)=>LT(e,t,ht),LT=(e,t,n)=>Ir(bn(e),r=>wr(r,t)?n(r)?[r]:[]:LT(r,t,n)),uq=(e,t,n=Ye)=>{if(n(t))return x.none();if(kt(e,Ft(t)))return x.some(t);const r=s=>wr(s,"table")||n(s);return Fa(t,e.join(","),r)},fq=(e,t)=>uq(["td","th"],e,t),dq=e=>cq(e,"th,td"),MT=(e,t)=>lo(e,"table",t),yb=(e,t,n,r,s=ht)=>{const o=r===1;if(!o&&n<=0)return iu.first(e[0]);if(o&&n>=e.length-1)return iu.last(e[e.length-1]);{const l=n+r,f=e[l];return s(f)?iu.middle(t,f):yb(e,t,l,r,s)}},zT=(e,t)=>MT(e,t).bind(n=>{const r=dq(n);return Do(r,o=>bt(e,o)).map(o=>({index:o,all:r}))}),hq=(e,t,n)=>zT(e,n).fold(()=>iu.none(e),s=>yb(s.all,e,s.index,1,t)),mq=(e,t,n)=>zT(e,n).fold(()=>iu.none(),s=>yb(s.all,e,s.index,-1,t)),pq=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),gq=(e,t)=>Ir(t,n=>{const r=pq(Ka(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]}),vq=(e,t,n)=>fn(e,(r,s)=>r.fold(()=>x.some(s),o=>{const l=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n)),f=Math.sqrt(Math.abs(s.x-t)+Math.abs(s.y-n));return x.some(f<l?s:o)}),x.none()),UT=(e,t,n,r,s)=>{const o=Sn(U.fromDom(n),"td,th,caption").map(f=>f.dom),l=He(gq(e,o),f=>t(f,s));return vq(l,r,s).map(f=>f.cell)},bq=e=>e.bottom,yq=e=>e.top,Cq=(e,t)=>e.y<t,wq=(e,t)=>e.y>t,Sq=xe(UT,bq,Cq),Eq=xe(UT,yq,wq),_q=(e,t)=>Rn(t.getClientRects()).bind(n=>Sq(e,n.left,n.top)).bind(n=>lh(F2(n),t)),xq=(e,t)=>Js(t.getClientRects()).bind(n=>Eq(e,n.left,n.top)).bind(n=>lh(B2(n),t)),Tq=(e,t,n)=>n.breakAt.exists(r=>e(t,r).breakAt.isSome()),kq=e=>e.breakType===Ws.Wrap&&e.positions.length===0,Aq=e=>e.breakType===Ws.Br&&e.positions.length===1,WT=(e,t,n)=>{const r=e(t,n);return kq(r)||!Gt(n.getNode())&&Aq(r)?!Tq(e,t,r):r.breakAt.isNone()},Dq=xe(WT,nu),Rq=xe(WT,ru),Nq=(e,t,n)=>{const r=re.fromRangeStart(t);return al(!e,n).exists(s=>s.isEqual(r))},Oq=(e,t,n,r)=>{const s=e.selection.getRng(),o=t?1:-1;return j0()&&Nq(t,s,n)?(Co(o,e,n,!t,!1).each(l=>{wo(e,l)}),!0):!1},Pq=(e,t,n)=>_q(t,n).orThunk(()=>Rn(n.getClientRects()).bind(r=>cb(Wx(e,re.before(t)),r.left))).getOr(re.before(t)),$q=(e,t,n)=>xq(t,n).orThunk(()=>Rn(n.getClientRects()).bind(r=>cb(Hx(e,re.after(t)),r.left))).getOr(re.after(t)),HT=(e,t)=>{const n=t.getNode(e);return ss(n)?x.some(n):x.none()},Bq=(e,t,n)=>{t.undoManager.transact(()=>{const r=e?Ts:tr,s=ST(t,U.fromDom(n),r);wo(t,s)})},jT=(e,t,n)=>{const r=HT(!!t,n),s=t===!1;r.fold(()=>wo(e,n.toRange()),o=>al(s,e.getBody()).filter(l=>l.isEqual(n)).fold(()=>wo(e,n.toRange()),l=>Bq(t,e,o)))},Fq=(e,t,n,r)=>{const s=e.selection.getRng(),o=re.fromRangeStart(s),l=e.getBody();if(!t&&Dq(r,o)){const f=Pq(l,n,o);return jT(e,t,f),!0}else if(t&&Rq(r,o)){const f=$q(l,n,o);return jT(e,t,f),!0}else return!1},VT=(e,t,n)=>x.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>x.from(e.dom.getParent(r,"table")).map(s=>n(e,t,s,r))).getOr(!1),qT=(e,t)=>VT(e,t,Oq),GT=(e,t)=>VT(e,t,Fq),Iq=e=>{const t=fl.exact(e,0,e,0);return NB(t)},KT=(e,t,n)=>n.fold(x.none,x.none,(r,s)=>LF(s).map(o=>Iq(o)),r=>(e.execCommand("mceTableInsertRowAfter"),XT(e,t,r))),XT=(e,t,n)=>KT(e,t,hq(n,Ui)),Lq=(e,t,n)=>KT(e,t,mq(n,Ui)),YT=(e,t)=>{const n=["table","li","dl"],r=U.fromDom(e.getBody()),s=f=>{const d=Ft(f);return bt(f,r)||kt(n,d)},o=e.selection.getRng(),l=U.fromDom(t?o.endContainer:o.startContainer);return fq(l,s).map(f=>(MT(f,s).each(w=>{e.model.table.clearSelectedCells(w.dom)}),e.selection.collapse(!t),(t?XT:Lq)(e,s,f).each(w=>{e.selection.setRng(w)}),!0)).getOr(!1)},Mq=(e,t,n)=>{const r=vt.os.isMacOS()||vt.os.isiOS();au([{keyCode:Re.RIGHT,action:Xe(kT,e,!0)},{keyCode:Re.LEFT,action:Xe(kT,e,!1)},{keyCode:Re.UP,action:Xe(AT,e,!1)},{keyCode:Re.DOWN,action:Xe(AT,e,!0)},...r?[{keyCode:Re.UP,action:Xe(fh,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Re.DOWN,action:Xe(fh,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Re.RIGHT,action:Xe(qT,e,!0)},{keyCode:Re.LEFT,action:Xe(qT,e,!1)},{keyCode:Re.UP,action:Xe(GT,e,!1)},{keyCode:Re.DOWN,action:Xe(GT,e,!0)},{keyCode:Re.RIGHT,action:Xe($T,e,!0)},{keyCode:Re.LEFT,action:Xe($T,e,!1)},{keyCode:Re.UP,action:Xe(BT,e,!1)},{keyCode:Re.DOWN,action:Xe(BT,e,!0)},{keyCode:Re.RIGHT,action:Xe(nT,e,t,!0)},{keyCode:Re.LEFT,action:Xe(nT,e,t,!1)},{keyCode:Re.RIGHT,ctrlKey:!r,altKey:r,action:Xe(eV,e,t)},{keyCode:Re.LEFT,ctrlKey:!r,altKey:r,action:Xe(tV,e,t)},{keyCode:Re.UP,action:Xe(RT,e,!1)},{keyCode:Re.DOWN,action:Xe(RT,e,!0)}],n).each(s=>{n.preventDefault()})},zq=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||Mq(e,t,n)})},fs=(e,t)=>({container:e,offset:t}),dh=Dt.DOM,hh=e=>t=>e===t?-1:0,Uq=e=>t=>e.isBlock(t)||kt(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",Cb=(e,t,n)=>{if(ce(e)&&t>=0)return x.some(fs(e,t));{const r=Ga(dh);return x.from(r.backwards(e,t,hh(e),n)).map(s=>fs(s.container,s.container.data.length))}},Wq=(e,t,n)=>{if(ce(e)&&t>=e.length)return x.some(fs(e,t));{const r=Ga(dh);return x.from(r.forwards(e,t,hh(e),n)).map(s=>fs(s.container,0))}},wb=(e,t,n)=>{if(!ce(e))return x.none();const r=e.data;if(t>=0&&t<=r.length)return x.some(fs(e,t));{const s=Ga(dh);return x.from(s.backwards(e,t,hh(e),n)).bind(o=>{const l=o.container.data;return wb(o.container,t+l.length,n)})}},JT=(e,t,n)=>{if(!ce(e))return x.none();const r=e.data;if(t<=r.length)return x.some(fs(e,t));{const s=Ga(dh);return x.from(s.forwards(e,t,hh(e),n)).bind(o=>JT(o.container,t-r.length,n))}},Sb=(e,t,n,r,s)=>{const o=Ga(e,Uq(e));return x.from(o.backwards(t,n,r,s))},Hq=e=>e.collapsed&&ce(e.startContainer),QT=e=>ge(e.toString().replace(/\u00A0/g," ")),ZT=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,Eb=(e,t)=>e.substring(t.length),jq=(e,t,n)=>{let r;const s=n.charAt(0);for(r=t-1;r>=0;r--){const o=e.charAt(r);if(ZT(o))return x.none();if(s===o&&ln(e,n,r,t))break}return x.some(r)},Vq=(e,t,n,r=0)=>{if(!Hq(t))return x.none();const s={text:"",offset:0},o=(f,d,g)=>(s.text=g+s.text,s.offset+=d,jq(s.text,s.offset,n).getOr(d)),l=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Sb(e,t.startContainer,t.startOffset,o,l).bind(f=>{const d=t.cloneRange();if(d.setStart(f.container,f.offset),d.setEnd(t.endContainer,t.endOffset),d.collapsed)return x.none();const g=QT(d);return g.lastIndexOf(n)!==0||Eb(g,n).length<r?x.none():x.some({text:Eb(g,n),range:d,trigger:n})})},ek=(e,t,n,r=0)=>WF(U.fromDom(t.startContainer)).fold(()=>Vq(e,t,n,r),s=>{const o=e.createRng();o.selectNode(s.dom);const l=QT(o);return x.some({range:o,text:Eb(l,n),trigger:n})}),qq=e=>e.nodeType===bf,Gq=e=>e.nodeType===Ra,tk=e=>{if(qq(e))return fs(e,e.data.length);{const t=e.childNodes;return t.length>0?tk(t[t.length-1]):fs(e,t.length)}},nk=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?nk(n[t],0):n.length>0&&Gq(e)&&n.length===t?tk(n[n.length-1]):fs(e,t)},Kq=(e,t)=>{var n;const r=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return Sb(e,t.container,t.offset,(s,o)=>o===0?-1:o,r).filter(s=>{const o=s.container.data.charAt(s.offset-1);return!ZT(o)}).isSome()},Xq=e=>t=>{const n=nk(t.startContainer,t.startOffset);return!Kq(e,n)},Yq=(e,t,n)=>Qs(n.triggers,r=>ek(e,t,r)),Jq=(e,t)=>{const n=t(),r=e.selection.getRng();return Yq(e.dom,r,n).bind(s=>rk(e,t,s))},rk=(e,t,n,r={})=>{var s;const o=t(),f=(s=e.selection.getRng().startContainer.nodeValue)!==null&&s!==void 0?s:"",d=He(o.lookupByTrigger(n.trigger),w=>n.text.length>=w.minChars&&w.matches.getOrThunk(()=>Xq(e.dom))(n.range,f,n.text));if(d.length===0)return x.none();const g=Promise.all(mt(d,w=>w.fetch(n.text,w.maxResults,r).then(E=>({matchText:n.text,items:E,columns:w.columns,onAction:w.onAction,highlightOn:w.highlightOn}))));return x.some({lookupData:g,context:n})};var ds;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(ds||(ds={}));const _b=(e,t,n)=>e.stype===ds.Error?t(e.serror):n(e.svalue),Qq=e=>{const t=[],n=[];return ue(e,r=>{_b(r,s=>n.push(s),s=>t.push(s))}),{values:t,errors:n}},Zq=(e,t)=>e.stype===ds.Error?{stype:ds.Error,serror:t(e.serror)}:e,e3=(e,t)=>e.stype===ds.Value?{stype:ds.Value,svalue:t(e.svalue)}:e,t3=(e,t)=>e.stype===ds.Value?t(e.svalue):e,n3=(e,t)=>e.stype===ds.Error?t(e.serror):e,sk=e=>({stype:ds.Value,svalue:e}),ok=e=>({stype:ds.Error,serror:e}),En={fromResult:e=>e.fold(ok,sk),toResult:e=>_b(e,Vn.error,Vn.value),svalue:sk,partition:Qq,serror:ok,bind:t3,bindError:n3,map:e3,mapError:Zq,fold:_b},xb=e=>be(e)&&Wn(e).length>100?" removed due to size":JSON.stringify(e,null,2),r3=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ie("... (only showing first ten failures)")}]):e;return mt(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},mh=(e,t)=>En.serror([{path:e,getErrorInfo:t}]),s3=(e,t,n)=>mh(e,()=>'Could not find valid *required* value for "'+t+'" in '+xb(n)),o3=(e,t)=>mh(e,()=>'Choice schema did not contain choice key: "'+t+'"'),a3=(e,t,n)=>mh(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+xb(t)),i3=(e,t)=>mh(e,ie(t)),l3=(e,t,n,r)=>Bt(n,r).fold(()=>a3(e,n,r),o=>o.extract(e.concat(["branch: "+r]),t)),c3=(e,t)=>({extract:(s,o)=>Bt(o,e).fold(()=>o3(s,e),f=>l3(s,o,t,f)),toString:()=>"chooseOn("+e+"). Possible values: "+Wn(t)}),u3=(e,t)=>t,f3=(e,t)=>Me(e)&&Me(t)?ph(e,t):t,ak=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const s=t[r];for(const o in s)Je(s,o)&&(n[o]=e(n[o],s[o]))}return n},ph=ak(f3),d3=ak(u3),ik=()=>({tag:"required",process:{}}),h3=e=>({tag:"defaultedThunk",process:e}),lk=e=>h3(ie(e)),m3=()=>({tag:"option",process:{}}),p3=(e,t)=>e.length>0?En.svalue(ph(t,d3.apply(void 0,e))):En.svalue(t),ck=e=>Jt(En.serror,Uu)(e),g3={consolidateObj:(e,t)=>{const n=En.partition(e);return n.errors.length>0?ck(n.errors):p3(n.values,t)},consolidateArr:e=>{const t=En.partition(e);return t.errors.length>0?ck(t.errors):En.svalue(t.values)}},v3=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),b3=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),uk=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Tb=e=>{const t=(r,s)=>En.bindError(e(s),o=>i3(r,o)),n=ie("val");return{extract:t,toString:n}},y3=Tb(En.svalue),C3=(e,t,n,r)=>Bt(t,n).fold(()=>s3(e,n,t),r),fk=(e,t,n,r)=>{const s=Bt(e,t).getOrThunk(()=>n(e));return r(s)},w3=(e,t,n)=>n(Bt(e,t)),S3=(e,t,n,r)=>{const s=Bt(e,t).map(o=>o===!0?n(e):o);return r(s)},E3=(e,t,n,r,s)=>{const o=f=>s.extract(t.concat([r]),f),l=f=>f.fold(()=>En.svalue(x.none()),d=>{const g=s.extract(t.concat([r]),d);return En.map(g,x.some)});switch(e.tag){case"required":return C3(t,n,r,o);case"defaultedThunk":return fk(n,r,e.process,o);case"option":return w3(n,r,l);case"defaultedOptionThunk":return S3(n,r,e.process,l);case"mergeWithThunk":return fk(n,r,ie({}),f=>{const d=ph(e.process(n),f);return o(d)})}},_3=(e,t,n)=>{const r={},s=[];for(const o of n)uk(o,(l,f,d,g)=>{const w=E3(d,e,t,l,g);En.fold(w,C=>{s.push(...C)},C=>{r[f]=C})},(l,f)=>{r[l]=f(t)});return s.length>0?En.serror(s):En.svalue(r)},kb=e=>({extract:(r,s)=>_3(r,s,e),toString:()=>`obj{
`+mt(e,s=>uk(s,(o,l,f,d)=>o+" -> "+d.toString(),(o,l)=>"state("+o+")")).join(`
`)+"}"}),dk=e=>({extract:(r,s)=>{const o=mt(s,(l,f)=>e.extract(r.concat(["["+f+"]"]),l));return g3.consolidateArr(o)},toString:()=>"array("+e.toString()+")"}),x3=e=>Tb(t=>e(t).fold(En.serror,En.svalue)),T3=(e,t,n)=>{const r=t.extract([e],n);return En.mapError(r,s=>({input:n,errors:s}))},k3=(e,t,n)=>En.toResult(T3(e,t,n)),A3=e=>`Errors: 
`+r3(e.errors).join(`
`)+`

Input object: `+xb(e.input),hk=(e,t)=>c3(e,xi(t,kb)),D3=ie(y3),gh=(e,t)=>Tb(n=>{const r=typeof n;return e(n)?En.svalue(n):En.serror(`Expected type: ${t} but got: ${r}`)}),R3=gh(Mt,"number"),vh=gh(V,"string"),N3=gh(ut,"boolean"),Ab=gh(Ke,"function"),lu=v3,mk=b3,O3=e=>x3(t=>kt(e,t)?Vn.value(t):Vn.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),pk=(e,t)=>lu(e,e,ik(),t),gk=e=>pk(e,vh),vk=e=>pk(e,Ab),P3=(e,t)=>lu(e,e,ik(),dk(t)),Db=(e,t)=>lu(e,e,m3(),t),bh=e=>Db(e,vh),$3=e=>Db(e,Ab),B3=(e,t)=>lu(e,e,lk(t),D3()),yl=(e,t,n)=>lu(e,e,lk(t),n),bk=(e,t)=>yl(e,t,R3),F3=(e,t)=>yl(e,t,vh),yk=(e,t,n)=>yl(e,t,O3(n)),Rb=(e,t)=>yl(e,t,N3),Nb=(e,t)=>yl(e,t,Ab),I3=(e,t,n)=>yl(e,t,dk(n)),L3=gk("type"),M3=vk("fetch"),Ob=vk("onAction"),z3=Nb("onSetup",()=>ze),U3=bh("text"),W3=bh("icon"),H3=bh("tooltip"),j3=bh("label"),V3=Rb("active",!1),q3=Rb("enabled",!0),Ck=Rb("primary",!1),G3=e=>B3("columns",e),cu=e=>F3("type",e),K3=kb([L3,gk("trigger"),bk("minChars",1),G3(1),bk("maxResults",10),$3("matches"),M3,Ob,I3("highlightOn",[],vh)]),X3=e=>k3("Autocompleter",K3,{trigger:e.ch,...e}),Pb=[q3,H3,W3,U3,z3],wk=[V3].concat(Pb),Y3=[Nb("predicate",Ye),yk("scope","node",["node","editor"]),yk("position","selection",["node","selection","line"])],J3=Pb.concat([cu("contextformbutton"),Ck,Ob,mk("original",zt)]),Q3=wk.concat([cu("contextformbutton"),Ck,Ob,mk("original",zt)]),Z3=Pb.concat([cu("contextformbutton")]),e4=wk.concat([cu("contextformtogglebutton")]),t4=hk("type",{contextformbutton:J3,contextformtogglebutton:Q3});kb([cu("contextform"),Nb("initValue",ie("")),j3,P3("commands",t4),Db("launch",hk("type",{contextformbutton:Z3,contextformtogglebutton:e4}))].concat(Y3));const n4=e=>{const t=e.ui.registry.getAll().popups,n=xi(t,l=>X3(l).fold(f=>{throw new Error(A3(f))},zt)),r=Jr(Il(n,l=>l.trigger)),s=Ll(n);return{dataset:n,triggers:r,lookupByTrigger:l=>He(s,f=>f.trigger===l)}},r4=(e,t)=>{const n=Hp(t.load,50);e.on("keypress compositionend",r=>{r.which!==27&&n.throttle()}),e.on("keydown",r=>{const s=r.which;s===8?n.throttle():s===27&&t.cancelIfNecessary()}),e.on("remove",n.cancel)},s4=e=>{const t=Jo(),n=yn(!1),r=t.isSet,s=()=>{r()&&(VW(e),rB(e),n.set(!1),t.clear())},o=g=>{r()||(jW(e,g.range),t.set({trigger:g.trigger,matchLength:g.text.length}))},l=eo(()=>n4(e)),f=g=>t.get().map(w=>ek(e.dom,e.selection.getRng(),w.trigger).bind(C=>rk(e,l,C,g))).getOrThunk(()=>Jq(e,l)),d=g=>{f(g).fold(s,w=>{o(w.context),w.lookupData.then(C=>{t.get().map(E=>{const P=w.context;E.trigger===P.trigger&&(P.text.length-E.matchLength>=10?s():(t.set({...E,matchLength:P.text.length}),n.get()?nB(e,{lookupData:C}):(n.set(!0),tB(e,{lookupData:C}))))})})})};e.addCommand("mceAutocompleterReload",(g,w)=>{const C=be(w)?w.fetchOptions:{};d(C)}),e.addCommand("mceAutocompleterClose",s),r4(e,{cancelIfNecessary:s,load:d})},Sk=e=>(t,n,r={})=>{const s=t.getBody(),o={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:s,currentTarget:s,eventPhase:Event.AT_TARGET,originalTarget:s,explicitOriginalTarget:s,isTrusted:!1,srcElement:s,cancelable:!1,preventDefault:ze,inputType:n},l=NC(new InputEvent(e));return t.dispatch(e,{...l,...o,...r})},$b=Sk("input"),Bb=Sk("beforeinput"),o4=(e,t,n)=>{const r=n.keyCode===Re.BACKSPACE?"deleteContentBackward":"deleteContentForward";PT([{keyCode:Re.BACKSPACE,action:Xe(vT,e)},{keyCode:Re.BACKSPACE,action:Xe(sb,e,!1)},{keyCode:Re.DELETE,action:Xe(sb,e,!0)},{keyCode:Re.BACKSPACE,action:Xe(tb,e,!1)},{keyCode:Re.DELETE,action:Xe(tb,e,!0)},{keyCode:Re.BACKSPACE,action:Xe(hb,e,t,!1)},{keyCode:Re.DELETE,action:Xe(hb,e,t,!0)},{keyCode:Re.BACKSPACE,action:Xe(cv,e,!1)},{keyCode:Re.DELETE,action:Xe(cv,e,!0)},{keyCode:Re.BACKSPACE,action:Xe(ob,e,!1)},{keyCode:Re.DELETE,action:Xe(ob,e,!0)},{keyCode:Re.BACKSPACE,action:Xe(gb,e,!1)},{keyCode:Re.DELETE,action:Xe(gb,e,!0)},{keyCode:Re.BACKSPACE,action:Xe(Zv,e,!1)},{keyCode:Re.DELETE,action:Xe(Zv,e,!0)},{keyCode:Re.BACKSPACE,action:Xe(Qv,e,!1)},{keyCode:Re.DELETE,action:Xe(Qv,e,!0)},{keyCode:Re.BACKSPACE,action:Xe(mb,e,!1)},{keyCode:Re.DELETE,action:Xe(mb,e,!0)}],n).filter(s=>e.selection.isEditable()).each(s=>{n.preventDefault(),Bb(e,r).isDefaultPrevented()||(s(),$b(e,r))})},a4=(e,t,n)=>{const r=Es(),s=r.os,o=r.browser,l=s.isMacOS()?[{keyCode:Re.BACKSPACE,altKey:!0,action:Xe(ou,e)},{keyCode:Re.DELETE,altKey:!0,action:Xe(ou,e)}]:[{keyCode:Re.BACKSPACE,ctrlKey:!0,action:Xe(ou,e)},{keyCode:Re.DELETE,ctrlKey:!0,action:Xe(ou,e)}];s.isMacOS()&&n&&l.push({keyCode:o.isFirefox()?224:91,action:Xe(ou,e)}),au([{keyCode:Re.BACKSPACE,action:Xe(Ax,e)},{keyCode:Re.DELETE,action:Xe(Ax,e)},...l],t)},i4=(e,t)=>{let n=!1;e.on("keydown",r=>{n=r.keyCode===Re.BACKSPACE,r.isDefaultPrevented()||o4(e,t,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||a4(e,r,n),n=!1})},l4=e=>{for(;e;){if(Ee(e)||ce(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},uu=(e,t)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const o=l4(t.firstChild);o&&/^(UL|OL|DL)$/.test(o.nodeName)&&t.insertBefore(n.doc.createTextNode(dn),t.firstChild)}const s=n.createRng();if(t.normalize(),t.hasChildNodes()){const o=new sn(t,t);let l=t,f;for(;f=o.current();){if(ce(f)){s.setStart(f,0),s.setEnd(f,0);break}if(r[f.nodeName.toLowerCase()]){s.setStartBefore(f),s.setEndBefore(f);break}l=f,f=o.next()}f||(s.setStart(l,0),s.setEnd(l,0))}else Gt(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)):(s.setStart(t,0),s.setEnd(t,0));e.selection.setRng(s),Hc(e,s)},yh=(e,t)=>{const n=e.getRoot();let r,s=t;for(;s!==n&&s&&e.getContentEditable(s)!=="false";)e.getContentEditable(s)==="true"&&(r=s),s=s.parentNode;return s!==n?r:n},Fb=e=>x.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),c4=e=>Fb(e).fold(ie(""),t=>t.nodeName.toUpperCase()),u4=e=>Fb(e).filter(t=>Rs(U.fromDom(t))).isSome(),f4=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,d4=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},Ek=(e,t)=>{const n=e==null?void 0:e.parentNode;return fe(n)&&n.nodeName===t},_k=e=>fe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),h4=e=>fe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),m4=e=>_k(e)&&_k(e.parentNode),Ch=e=>{const t=e.parentNode;return h4(t)?t:e},wh=(e,t,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!Ee(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},p4=(e,t,n,r,s)=>{const o=e.dom,l=e.selection.getRng(),f=n.parentNode;if(n===e.getBody()||!f)return;m4(n)&&(s="LI");let d=t(s);if(wh(n,r,!0)&&wh(n,r,!1))if(Ek(n,"LI")){const g=Ch(n);o.insertAfter(d,g),d4(n)?o.remove(g):o.remove(n)}else o.replace(d,n);else if(wh(n,r,!0))Ek(n,"LI")?(o.insertAfter(d,Ch(n)),d.appendChild(o.doc.createTextNode(" ")),d.appendChild(n)):f.insertBefore(d,n),o.remove(r);else if(wh(n,r,!1))o.insertAfter(d,Ch(n)),o.remove(r);else{n=Ch(n);const g=l.cloneRange();g.setStartAfter(r),g.setEndAfter(n);const w=g.extractContents();s==="LI"&&f4(w,"LI")?(d=w.firstChild,o.insertAfter(w,n)):(o.insertAfter(w,n),o.insertAfter(d,n)),o.remove(r)}uu(e,d)},g4=e=>{ue(Vf(U.fromDom(e),Zn),t=>{const n=t.dom;n.nodeValue=ge(n.data)})},v4=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},b4=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),Ib=e=>{e.innerHTML='<br data-mce-bogus="1">'},Lb=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,Mb=(e,t)=>fe(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",y4=(e,t,n)=>{var r;const s=[];if(!n)return;let o=n;for(;o=o.firstChild;){if(e.isBlock(o))return;Ee(o)&&!t[o.nodeName.toLowerCase()]&&s.push(o)}let l=s.length;for(;l--;)o=s[l],(!o.hasChildNodes()||o.firstChild===o.lastChild&&((r=o.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||b4(e,o))&&e.remove(o)},zb=(e,t,n)=>ce(t)?e?n===1&&t.data.charAt(n-1)===ae?0:n:n===t.data.length-1&&t.data.charAt(n)===ae?t.data.length:n:n,C4=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,zb(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,zb(!1,e.endContainer,e.endOffset)),t},w4=e=>{let t=e;do ce(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},S4=(e,t,n)=>{const r=e.dom;x.from(n.style).map(r.parseStyle).each(d=>{const w={...If(U.fromDom(t)),...d};r.setStyles(t,w)});const s=x.from(n.class).map(d=>d.split(/\s+/)),o=x.from(t.className).map(d=>He(d.split(/\s+/),g=>g!==""));Nn(s,o,(d,g)=>{const w=He(g,E=>!kt(d,E)),C=[...d,...w];r.setAttrib(t,"class",C.join(" "))});const l=["style","class"],f=Yr(n,(d,g)=>!kt(l,g));r.setAttribs(t,f)},fu=(e,t)=>{if(fr(e).toLowerCase()===t.tagName.toLowerCase()){const r=Nc(e);S4(e,t,r)}},E4=(e,t,n,r,s)=>{var o,l;const f=e.dom,d=(o=yh(f,r))!==null&&o!==void 0?o:f.getRoot();let g=f.getParent(r,f.isBlock);if(!g||!Mb(f,g)){if(g=g||d,!g.hasChildNodes()){const P=f.create(t);return fu(e,P),g.appendChild(P),n.setStart(P,0),n.setEnd(P,0),P}let w=r;for(;w&&w.parentNode!==g;)w=w.parentNode;let C;for(;w&&!f.isBlock(w);)C=w,w=w.previousSibling;const E=(l=C==null?void 0:C.parentElement)===null||l===void 0?void 0:l.nodeName;if(C&&E&&e.schema.isValidChild(E,t.toLowerCase())){const P=C.parentNode,L=f.create(t);for(fu(e,L),P.insertBefore(L,C),w=C;w&&!f.isBlock(w);){const k=w.nextSibling;L.appendChild(w),w=k}n.setStart(r,s),n.setEnd(r,s)}}return r},_4=(e,t)=>{t.normalize();const n=t.lastChild;(!n||Ee(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},x4=(e,t)=>{const n=gO(e);return at(t)?!1:V(n)?kt(pe.explode(n),t.nodeName.toLowerCase()):n},xk={insert:(e,t)=>{let n,r,s,o,l=!1;const f=e.dom,d=e.schema,g=d.getNonEmptyElements(),w=e.selection.getRng(),C=fr(e),E=ye=>{let me=n;const ee=d.getTextInlineElements();let Z;ye||s==="TABLE"||s==="HR"?Z=f.create(ye||C):Z=H.cloneNode(!1);let Se=Z;if(pO(e)===!1)f.setAttrib(Z,"style",null),f.setAttrib(Z,"class",null);else do if(ee[me.nodeName]){if(Hr(me)||_r(me))continue;const Ne=me.cloneNode(!1);f.setAttrib(Ne,"id",""),Z.hasChildNodes()?(Ne.appendChild(Z.firstChild),Z.appendChild(Ne)):(Se=Ne,Z.appendChild(Ne))}while((me=me.parentNode)&&me!==j);return fu(e,Z),Ib(Se),Z},P=ye=>{const me=zb(ye,n,r);if(ce(n)&&(ye?me>0:me<n.data.length))return!1;if(n.parentNode===H&&l&&!ye||ye&&Ee(n)&&n===H.firstChild)return!0;if(Lb(n,"TABLE")||Lb(n,"HR"))return l&&!ye||!l&&ye;const ee=new sn(n,H);ce(n)&&(ye&&me===0?ee.prev():!ye&&me===n.data.length&&ee.next());let Z;for(;Z=ee.current();){if(Ee(Z)){if(!Z.getAttribute("data-mce-bogus")){const Se=Z.nodeName.toLowerCase();if(g[Se]&&Se!=="br")return!1}}else if(ce(Z)&&!Ua(Z.data))return!1;ye?ee.prev():ee.next()}return!0},L=()=>{let ye;return/^(H[1-6]|PRE|FIGURE)$/.test(s)&&G!=="HGROUP"?ye=E(C):ye=E(),x4(e,o)&&Mb(f,o)&&f.isEmpty(H)?ye=f.split(o,H):f.insertAfter(ye,H),uu(e,ye),ye};Nd(f,w).each(ye=>{w.setStart(ye.startContainer,ye.startOffset),w.setEnd(ye.endContainer,ye.endOffset)}),n=w.startContainer,r=w.startOffset;const k=!!(t&&t.shiftKey),B=!!(t&&t.ctrlKey);Ee(n)&&n.hasChildNodes()&&(l=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,l&&ce(n)?r=n.data.length:r=0);const j=yh(f,n);if(!j||v4(e,n))return;k||(n=E4(e,C,w,n,r));let H=f.getParent(n,f.isBlock)||f.getRoot();o=fe(H==null?void 0:H.parentNode)?f.getParent(H.parentNode,f.isBlock):null,s=H?H.nodeName.toUpperCase():"";const G=o?o.nodeName.toUpperCase():"";if(G==="LI"&&!B){const ye=o;H=ye,o=ye.parentNode,s=G}if(/^(LI|DT|DD)$/.test(s)&&Ee(o)&&f.isEmpty(H)){p4(e,E,o,H,C);return}if(H===e.getBody()||!Mb(f,H))return;const K=H.parentNode;let oe;if(Be(H))oe=Pn(H),f.isEmpty(H)&&Ib(H),fu(e,oe),uu(e,oe);else if(P(!1))oe=L();else if(P(!0)&&K)oe=K.insertBefore(E(),H),uu(e,Lb(H,"HR")?oe:H);else{const ye=C4(w).cloneRange();ye.setEndAfter(H);const me=ye.extractContents();g4(me),w4(me),oe=me.firstChild,f.insertAfter(me,H),y4(f,g,oe),_4(f,H),f.isEmpty(H)&&Ib(H),oe.normalize(),f.isEmpty(oe)?(f.remove(oe),L()):(fu(e,oe),uu(e,oe))}f.setAttrib(oe,"id",""),e.dispatch("NewBlock",{newBlock:oe})},fakeEventName:"insertParagraph"},T4=(e,t,n)=>{const r=new sn(t,n);let s;const o=e.getNonEmptyElements();for(;s=r.next();)if(o[s.nodeName.toLowerCase()]||ce(s)&&s.length>0)return!0;return!1},Tk=(e,t,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Hc(e,r)},k4=(e,t)=>{const n=e.selection,r=e.dom,s=n.getRng();let o,l=!1;Nd(r,s).each(P=>{s.setStart(P.startContainer,P.startOffset),s.setEnd(P.endContainer,P.endOffset)});let f=s.startOffset,d=s.startContainer;if(Ee(d)&&d.hasChildNodes()){const P=f>d.childNodes.length-1;d=d.childNodes[Math.min(f,d.childNodes.length-1)]||d,P&&ce(d)?f=d.data.length:f=0}let g=r.getParent(d,r.isBlock);const w=g&&g.parentNode?r.getParent(g.parentNode,r.isBlock):null,C=w?w.nodeName.toUpperCase():"",E=!!(t&&t.ctrlKey);C==="LI"&&!E&&(g=w),ce(d)&&f>=d.data.length&&(T4(e.schema,d,g||r.getRoot())||(o=r.create("br"),s.insertNode(o),s.setStartAfter(o),s.setEndAfter(o),l=!0)),o=r.create("br"),Kp(r,s,o),Tk(e,o,l),e.undoManager.add()},A4=(e,t)=>{const n=U.fromTag("br");tr(U.fromDom(t),n),e.undoManager.add()},D4=(e,t)=>{N4(e.getBody(),t)||Ts(U.fromDom(t),U.fromTag("br"));const n=U.fromTag("br");Ts(U.fromDom(t),n),Tk(e,n.dom,!1),e.undoManager.add()},R4=e=>Gt(e.getNode()),N4=(e,t)=>R4(re.after(t))?!0:rr(e,re.after(t)).map(n=>Gt(n.getNode())).getOr(!1),kk=e=>e&&e.nodeName==="A"&&"href"in e,O4=e=>e.fold(Ye,kk,kk,Ye),P4=e=>{const t=xe(oi,e),n=re.fromRangeStart(e.selection.getRng());return Us(t,e.getBody(),n).filter(O4)},$4=(e,t)=>{t.fold(ze,xe(A4,e),xe(D4,e),ze)},Ak={insert:(e,t)=>{const n=P4(e);n.isSome()?n.each(xe($4,e)):k4(e,t)},fakeEventName:"insertLineBreak"},Dk=(e,t)=>Fb(e).filter(n=>t.length>0&&wr(U.fromDom(n),t)).isSome(),B4=e=>Dk(e,hO(e)),F4=e=>Dk(e,mO(e)),Dr=Os.generate([{br:[]},{block:[]},{none:[]}]),I4=(e,t)=>F4(e),Rk=e=>(t,n)=>u4(t)===e,Nk=(e,t)=>(n,r)=>c4(n)===e.toUpperCase()===t,L4=e=>{const t=yh(e.dom,e.selection.getStart());return at(t)},du=e=>Nk("pre",e),M4=()=>Nk("summary",!0),Sh=e=>(t,n)=>fO(t)===e,z4=(e,t)=>B4(e),Eh=(e,t)=>t,U4=e=>{const t=fr(e),n=yh(e.dom,e.selection.getStart());return fe(n)&&e.schema.isValidChild(n.nodeName,t)},jr=(e,t)=>(n,r)=>fn(e,(o,l)=>o&&l(n,r),!0)?x.some(t):x.none(),W4=(e,t)=>$x([jr([I4],Dr.none()),jr([du(!0),L4],Dr.none()),jr([M4()],Dr.br()),jr([du(!0),Sh(!1),Eh],Dr.br()),jr([du(!0),Sh(!1)],Dr.block()),jr([du(!0),Sh(!0),Eh],Dr.block()),jr([du(!0),Sh(!0)],Dr.br()),jr([Rk(!0),Eh],Dr.br()),jr([Rk(!0)],Dr.block()),jr([z4],Dr.br()),jr([Eh],Dr.br()),jr([U4],Dr.block())],[e,!!(t&&t.shiftKey)]).getOr(Dr.none()),_h=(e,t,n)=>{t.selection.isCollapsed()||XI(t),!(fe(n)&&Bb(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),fe(n)&&$b(t,e.fakeEventName))},Ok=(e,t)=>{const n=()=>_h(Ak,e,t),r=()=>_h(xk,e,t),s=W4(e,t);switch(dO(e)){case"linebreak":s.fold(n,n,ze);break;case"block":s.fold(r,r,ze);break;case"invert":s.fold(r,n,ze);break;default:s.fold(n,r,ze);break}},H4=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),nW(e.undoManager),e.undoManager.transact(()=>{Ok(e,t)}))},j4=e=>{e.on("keydown",t=>{t.keyCode===Re.ENTER&&H4(e,t)})},V4=(e,t,n)=>{const r=vt.os.isMacOS()||vt.os.isiOS();au([{keyCode:Re.END,action:Xe(DT,e,!0)},{keyCode:Re.HOME,action:Xe(DT,e,!1)},...r?[]:[{keyCode:Re.HOME,action:Xe(fh,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Re.END,action:Xe(fh,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Re.END,action:Xe(FT,e,!0)},{keyCode:Re.HOME,action:Xe(FT,e,!1)},{keyCode:Re.END,action:Xe(uh,e,!0,t)},{keyCode:Re.HOME,action:Xe(uh,e,!1,t)}],n).each(s=>{n.preventDefault()})},q4=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||V4(e,t,n)})},G4=e=>{e.on("input",t=>{t.isComposing||kI(e)})},K4=Es(),X4=(e,t,n)=>{au([{keyCode:Re.PAGE_UP,action:Xe(uh,e,!1,t)},{keyCode:Re.PAGE_DOWN,action:Xe(uh,e,!0,t)}],n)},Pk=e=>e.stopImmediatePropagation(),$k=e=>e.keyCode===Re.PAGE_UP||e.keyCode===Re.PAGE_DOWN,Bk=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",Pk,!0):!n&&e.get()&&t.off("NodeChange",Pk),e.set(n)},Y4=(e,t)=>{if(K4.os.isMacOS())return;const n=yn(!1);e.on("keydown",r=>{$k(r)&&Bk(n,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||X4(e,t,r),$k(r)&&n.get()&&(Bk(n,e,!1),e.nodeChanged())})},Fk=(e,t)=>{const n=t.container(),r=t.offset();return ce(n)?(n.insertData(r,e),x.some(re(n,r+e.length))):gd(t).map(s=>{const o=U.fromText(e);return t.isAtEnd()?Ts(s,o):tr(s,o),re(o.dom,e.length)})},J4=xe(Fk,dn),Q4=xe(Fk," "),Z4=e=>t=>t.fold(n=>Er(e.dom,re.before(n)),n=>qn(n),n=>Fs(n),n=>rr(e.dom,re.after(n))),e6=(e,t)=>n=>wI(e,n)?J4(t):Q4(t),t6=e=>t=>(e.selection.setRng(t.toRange()),e.nodeChanged(),!0),n6=e=>{const t=re.fromRangeStart(e.selection.getRng()),n=U.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=xe(oi,e),s=re.fromRangeStart(e.selection.getRng());return Us(r,e.getBody(),s).bind(Z4(n)).map(o=>()=>e6(n,t)(o).each(t6(e)))}else return x.none()},r6=(e,t)=>{PT([{keyCode:Re.SPACEBAR,action:Xe(n6,e)}],t).each(n=>{t.preventDefault(),Bb(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),$b(e,"insertText",{data:" "}))})},s6=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||r6(e,t)})},o6=e=>EP(e)?[{keyCode:Re.TAB,action:Xe(YT,e,!0)},{keyCode:Re.TAB,shiftKey:!0,action:Xe(YT,e,!1)}]:[],a6=(e,t)=>{au([...o6(e)],t).each(n=>{t.preventDefault()})},i6=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||a6(e,t)})},l6=e=>{if(e.addShortcut("Meta+P","","mcePrint"),s4(e),zs(e))return yn(null);{const t=Z2(e);return XV(e),zq(e,t),i4(e,t),j4(e),s6(e),G4(e),i6(e),q4(e,t),Y4(e,t),t}};class c6{constructor(t){this.lastPath=[],this.editor=t;let n;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",s=>{const o=t.selection.getRng(),l={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};(s.type==="nodechange"||!Rg(l,n))&&t.dispatch("SelectionChange"),n=l}),t.on("contextmenu",()=>{t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const s=t.selection.getStart(!0);s&&Ed(t)&&!r.isSameElementPath(s)&&t.dom.isChildOf(s,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",s=>{!s.isDefaultPrevented()&&Ed(t)&&(t.selection.getNode().nodeName==="IMG"?Tr.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let r;if(this.editor.initialized&&n&&!VO(this.editor)&&!this.editor.mode.isReadOnly()){const s=this.editor.getBody();r=n.getStart(!0)||s,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,s))&&(r=s);const o=[];this.editor.dom.getParent(r,l=>l===s?!0:(o.push(l),!1)),this.editor.dispatch("NodeChange",{...t,element:r,parents:o})}}isSameElementPath(t){let n;const r=this.editor,s=va(r.dom.getParents(t,ht,r.getBody()));if(s.length===this.lastPath.length){for(n=s.length;n>=0&&s[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=s,!0}return this.lastPath=s,!1}}const Ik="x-tinymce/html",xh=ie(Ik),Ub="<!-- "+Ik+" -->",u6=e=>Ub+e,f6=e=>e.replace(Ub,""),Lk=e=>e.indexOf(Ub)!==-1,d6=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),h6=(e,t)=>{let n="<"+e;const r=Il(t,(s,o)=>o+'="'+Xo.encodeAllRaw(s)+'"');return r.length&&(n+=" "+r.join(" ")),n+">"},m6=(e,t,n)=>{const r=e.split(/\n\n/),s=h6(t,n),o="</"+t+">",l=mt(r,d=>d.split(/\n/).join("<br />")),f=d=>s+d+o;return l.length===1?l[0]:mt(l,f).join("")},Mk="%MCEPASTEBIN%",p6=(e,t)=>{const{dom:n,selection:r}=e,s=e.getBody();t.set(r.getRng());const o=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Mk);vt.browser.isFirefox()&&n.setStyle(o,"left",n.getStyle(s,"direction",!0)==="rtl"?65535:-65535),n.bind(o,"beforedeactivate focusin focusout",l=>{l.stopPropagation()}),o.focus(),r.select(o,!0)},g6=(e,t)=>{const n=e.dom;if(Wb(e)){let r;const s=t.get();for(;r=Wb(e);)n.remove(r),n.unbind(r);s&&e.selection.setRng(s)}t.set(null)},Wb=e=>e.dom.get("mcepastebin"),v6=e=>fe(e)&&e.id==="mcepastebin",b6=e=>{const t=e.dom,n=(l,f)=>{l.appendChild(f),t.remove(f,!0)},[r,...s]=He(e.getBody().childNodes,v6);ue(s,l=>{n(r,l)});const o=t.select("div[id=mcepastebin]",r);for(let l=o.length-1;l>=0;l--){const f=t.create("div");r.insertBefore(f,o[l]),n(f,o[l])}return r?r.innerHTML:""},zk=e=>e===Mk,y6=e=>{const t=yn(null);return{create:()=>p6(e,t),remove:()=>g6(e,t),getEl:()=>Wb(e),getHtml:()=>b6(e),getLastRng:t.get}},Uk=(e,t)=>(pe.each(t,n=>{O(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),C6=e=>{const t=Yo(),n=ml({},t);let r="";const s=t.getVoidElements(),o=pe.makeMap("script noscript style textarea video audio iframe object"," "),l=t.getBlockElements(),f=d=>{const g=d.name,w=d;if(g==="br"){r+=`
`;return}if(g!=="wbr"){if(s[g]&&(r+=" "),o[g]){r+=" ";return}if(d.type===3&&(r+=d.value),!(d.name in t.getVoidElements())){let C=d.firstChild;if(C)do f(C);while(C=C.next)}l[g]&&w.next&&(r+=`
`,g==="p"&&(r+=`
`))}};return e=Uk(e,[/<!\[[^\]]+\]>/g]),f(n.parse(e)),r},Wk=e=>(e=Uk(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,r,s)=>!r&&!s?" ":dn],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),w6=e=>{let t=0;return()=>e+t++},S6=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return pe.hasOwn(n,t)?"image/"+n[t]:"image/"+t},E6=(e,t)=>{const n=ml({sanitize:rg(e)},e.schema);n.addNodeFilter("meta",s=>{pe.each(s,o=>{o.remove()})});const r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return na({validate:!0},e.schema).serialize(r)},Hk=(e,t)=>({content:e,cancelled:t}),_6=(e,t,n)=>{const r=e.dom.create("div",{style:"display:none"},t),s=oB(e,r,n);return Hk(s.node.innerHTML,s.isDefaultPrevented())},x6=(e,t,n)=>{const r=sB(e,t,n),s=E6(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?_6(e,s,n):Hk(s,r.isDefaultPrevented())},T6=(e,t,n)=>x6(e,t,n),Hb=(e,t)=>(e.insertContent(t,{merge:lP(e),paste:!0}),!0),jb=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),k6=(e,t)=>jb(t)&&Xt(I0(e),n=>Yu(t.toLowerCase(),`.${n.toLowerCase()}`)),A6=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),D6=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),R6=(e,t,n)=>!e.selection.isCollapsed()&&jb(t)?D6(e,t,n):!1,N6=(e,t,n)=>k6(e,t)?A6(e,t,n):!1,O6=(e,t)=>{pe.each([R6,N6,Hb],n=>!n(e,t,Hb))},P6=(e,t,n)=>{n||!cP(e)?Hb(e,t):O6(e,t)},$6=w6("mceclip"),jk=(e,t,n,r)=>{const s=T6(e,t,n);s.cancelled||P6(e,s.content,r)},Th=(e,t,n)=>{const r=n||Lk(t);jk(e,f6(t),r,!1)},Vb=(e,t)=>{const n=e.dom.encode(t).replace(/\r\n/g,`
`),r=mC(n,fP(e)),s=m6(r,fr(e),Nc(e));jk(e,s,!1,!0)},Vk=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},la=(e,t)=>t in e&&e[t].length>0,qk=e=>la(e,"text/html")||la(e,"text/plain"),B6=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return fe(n)?e.dom.encode(n[1]):void 0},F6=(e,t,n,r)=>{const s=$6(),o=T0(e)&&fe(n.name),l=o?B6(e,n.name):s,f=o?n.name:void 0,d=t.create(s,n,r,l,f);return t.add(d),d},I6=(e,t)=>{Rv(t.uri).each(({data:n,type:r,base64Encoded:s})=>{const o=s?n:btoa(n),l=t.file,f=e.editorUpload.blobCache,d=f.getByData(o,r),g=d??F6(e,f,l,o);Th(e,`<img src="${g.blobUri()}">`,!1)})},L6=e=>e.type==="paste",M6=e=>Promise.all(mt(e,t=>i_(t).then(n=>({file:t,uri:n})))),z6=e=>{const t=I0(e);return n=>gn(n.type,"image/")&&Xt(t,r=>S6(r)===n.type)},U6=(e,t)=>{const n=t.items?Ir(Un(t.items),s=>s.kind==="file"?[s.getAsFile()]:[]):[],r=t.files?Un(t.files):[];return He(n.length>0?n:r,z6(e))},Gk=(e,t,n)=>{const r=L6(t)?t.clipboardData:t.dataTransfer;if(md(e)&&r){const s=U6(e,r);if(s.length>0)return t.preventDefault(),M6(s).then(o=>{n&&e.selection.setRng(n),ue(o,l=>{I6(e,l)})}),!0}return!1},W6=e=>{var t,n;return vt.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},H6=e=>Re.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,qb=(e,t,n,r)=>{let s=Wk(n);const o=la(t,xh())||Lk(n),l=!o&&d6(s),f=jb(s);(zk(s)||!s.length||l&&!f)&&(r=!0),(r||f)&&(la(t,"text/plain")&&l?s=t["text/plain"]:s=C6(s)),!zk(s)&&(r?Vb(e,s):Th(e,s,o))},j6=(e,t,n)=>{let r;const s=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",o=>{H6(o)&&!o.isDefaultPrevented()&&(r=o.shiftKey&&o.keyCode===86)}),e.on("paste",o=>{if(o.isDefaultPrevented()||W6(o))return;const l=n.get()==="text"||r;r=!1;const f=Vk(o.clipboardData);!qk(f)&&Gk(e,o,s())||(la(f,"text/html")?(o.preventDefault(),qb(e,f,f["text/html"],l)):la(f,"text/plain")&&la(f,"text/uri-list")?(o.preventDefault(),qb(e,f,f["text/plain"],l)):(t.create(),Tr.setEditorTimeout(e,()=>{const d=t.getHtml();t.remove(),qb(e,f,d,l)},0)))})},V6=e=>{const t=s=>gn(s,"webkit-fake-url"),n=s=>gn(s,"data:"),r=s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.paste)===!0};e.parser.addNodeFilter("img",(s,o,l)=>{if(!md(e)&&r(l))for(const f of s){const d=f.attr("src");V(d)&&!f.attr("data-mce-object")&&d!==vt.transparentSrc&&(t(d)||!dP(e)&&n(d))&&f.remove()}})},q6=(e,t,n)=>{j6(e,t,n),V6(e)},G6=(e,t)=>{t.get()==="text"?(t.set("html"),Lw(e,!1)):(t.set("text"),Lw(e,!0)),e.focus()},K6=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{G6(e,t)}),e.addCommand("mceInsertClipboardContent",(n,r)=>{r.html&&Th(e,r.html,r.internal),r.text&&Vb(e,r.text)})},X6=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(xh(),t),!0}catch{return!1}else return!1},Kk=(e,t,n,r)=>{X6(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},Xk=e=>(t,n)=>{const{dom:r,selection:s}=e,o=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),l=r.create("div",{contenteditable:"true"},t);r.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(l),r.add(e.getBody(),o);const f=s.getRng();l.focus();const d=r.createRng();d.selectNodeContents(l),s.setRng(d),Tr.setEditorTimeout(e,()=>{s.setRng(f),r.remove(o),n()},0)},Yk=e=>({html:u6(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Y6=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),Jk=e=>!e.selection.isCollapsed()||Y6(e),J6=e=>t=>{!t.isDefaultPrevented()&&Jk(e)&&Kk(t,Yk(e),Xk(e),()=>{if(vt.browser.isChromium()||vt.browser.isFirefox()){const n=e.selection.getRng();Tr.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Q6=e=>t=>{!t.isDefaultPrevented()&&Jk(e)&&Kk(t,Yk(e),Xk(e),ze)},Z6=e=>{e.on("cut",J6(e)),e.on("copy",Q6(e))},Qk=(e,t)=>{var n,r;return ni.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(r=t.clientY)!==null&&r!==void 0?r:0,e.getDoc())},e8=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},Zk=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},t8=e=>Xt(e.files,t=>/^image\//.test(t.type)),n8=(e,t,n,r)=>{const s=e.getParent(n,o=>Wa(t,o));if(s&&Je(r,"text/html")){const o=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!tt(o.querySelector(s.nodeName.toLowerCase()))}else return!1},r8=(e,t)=>{rP(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),md(e)||e.on("drop",n=>{const r=n.dataTransfer;r&&t8(r)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const r=Qk(e,n);if(at(r))return;const s=Vk(n.dataTransfer),o=la(s,xh());if((!qk(s)||e8(s))&&Gk(e,n,r))return;const l=s[xh()],f=l||s["text/html"]||s["text/plain"],d=n8(e.dom,e.schema,r.startContainer,s);t.get()&&!d||f&&(n.preventDefault(),Tr.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{l&&e.execCommand("Delete"),Zk(e,r);const g=Wk(f);s["text/html"]?Th(e,g,o):Vb(e,g)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{md(e)&&!t.get()&&(n.preventDefault(),Zk(e,Qk(e,n))),n.type==="dragend"&&t.set(!1)})},s8=e=>{const t=s=>o=>{s(e,o)},n=sP(e);Ke(n)&&e.on("PastePreProcess",t(n));const r=oP(e);Ke(r)&&e.on("PastePostProcess",t(r))},o8=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},a8=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,eA=e=>pe.trim(e).replace(a8,Sd).toLowerCase(),i8=(e,t,n)=>{const r=aP(e);if(n||r==="all"||!iP(e))return t;const s=r?r.split(/[, ]/):[];if(s&&r!=="none"){const o=e.dom,l=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(f,d,g,w)=>{const C=o.parseStyle(o.decode(g)),E={};for(let L=0;L<s.length;L++){const k=C[s[L]];let B=k,j=o.getStyle(l,s[L],!0);/color/.test(s[L])&&(B=eA(B),j=eA(j)),j!==B&&(E[s[L]]=k)}const P=o.serializeStyle(E,"span");return P?d+' style="'+P+'"'+w:d+w})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(o,l,f,d)=>l+' style="'+f+'"'+d),t},l8=e=>{(vt.browser.isChromium()||vt.browser.isSafari())&&o8(e,i8)},c8=e=>{const t=yn(!1),n=yn(uP(e)?"text":"html"),r=y6(e);l8(e),K6(e,n),s8(e),e.on("PreInit",()=>{Z6(e),r8(e,t),q6(e,r,n)})},u8=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},f8=e=>{e.parser.addNodeFilter("details",t=>{ue(t,n=>{n.attr("data-mce-open",n.attr("open")),n.attr("open","open")})}),e.serializer.addNodeFilter("details",t=>{ue(t,n=>{const r=n.attr("data-mce-open");n.attr("open",V(r)?r:null),n.attr("data-mce-open",null)})})},d8=e=>{u8(e),f8(e)},h8=Gt,tA=ce,m8=e=>At(e.dom),p8=e=>ur(e.dom),nA=e=>t=>bt(U.fromDom(e),t),g8=(e,t)=>io(U.fromDom(e),n=>p8(n)||nr(n),nA(t)).getOr(U.fromDom(t)).dom,rA=(e,t)=>io(U.fromDom(e),m8,nA(t)),sA=(e,t,n)=>{const r=new sn(e,t),s=n?r.next.bind(r):r.prev.bind(r);let o=e;for(let l=n?e:s();l&&!h8(l);l=s())Wr(l)&&(o=l);return o},v8=(e,t)=>{const r=re.fromRangeStart(e).getNode(),s=g8(r,t),o=sA(r,s,!1),l=sA(r,s,!0),f=document.createRange();return rA(o,s).fold(()=>{tA(o)?f.setStart(o,0):f.setStartBefore(o)},d=>f.setStartBefore(d.dom)),rA(l,s).fold(()=>{tA(l)?f.setEnd(l,l.data.length):f.setEndAfter(l)},d=>f.setEndAfter(d.dom)),f},b8=e=>{const t=v8(e.selection.getRng(),e.getBody());e.selection.setRng(mv(t))},y8=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),b8(e))})};var Cl;(function(e){e.Before="before",e.After="after"})(Cl||(Cl={}));const C8=(e,t)=>Math.abs(e.left-t),w8=(e,t)=>Math.abs(e.right-t),S8=(e,t)=>e>=t.top&&e<=t.bottom,E8=(e,t)=>e.top<t.bottom&&e.bottom>t.top,_8=(e,t)=>{const n=TN(e,t)/Math.min(e.height,t.height);return E8(e,t)&&n>.5},x8=(e,t)=>{const n=He(e,r=>S8(t,r));return xN(n).fold(()=>[[],e],r=>{const{pass:s,fail:o}=ga(e,l=>_8(l,r));return[s,o]})},T8=(e,t)=>({node:e.node,position:C8(e,t)<w8(e,t)?Cl.Before:Cl.After}),k8=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),Gb=(e,t,n)=>{const r=w=>Wr(w.node)?x.some(w):Ee(w.node)?Gb(Un(w.node.childNodes),t,n):x.none(),s=(w,C)=>{if(w.length>=2){const E=r(w[0]).getOr(w[0]),P=r(w[1]).getOr(w[1]);if(Math.abs(C(E,t,n)-C(P,t,n))<2){if(ce(E.node))return x.some(E);if(ce(P.node))return x.some(P)}}return x.none()},o=(w,C)=>{const E=Ys(w,(P,L)=>C(P,t,n)-C(L,t,n));return s(E,C).orThunk(()=>Qs(E,r))},[l,f]=x8(Gx(e),n),{pass:d,fail:g}=ga(f,w=>w.top<n);return o(l,k8).orThunk(()=>o(g,XC)).orThunk(()=>o(d,XC))},A8=(e,t,n,r)=>{const s=(o,l)=>{const f=g=>Ee(g)&&g.classList.contains("mce-drag-container"),d=He(o.dom.childNodes,ir(f));return l.fold(()=>Gb(d,n,r),g=>{const w=He(d,C=>C!==g.dom);return Gb(w,n,r)}).orThunk(()=>(bt(o,e)?x.none():Mi(o)).bind(w=>s(w,x.some(o))))};return s(t,x.none())},D8=(e,t,n)=>{const r=U.fromDom(e),s=lr(r),l=U.fromPoint(s,t,n).filter(f=>ts(r,f)).getOr(r);return A8(r,l,t,n)},oA=(e,t,n)=>D8(e,t,n).filter(r=>$c(r.node)).map(r=>T8(r,t)),aA=e=>{var t,n;const r=e.getBoundingClientRect(),s=e.ownerDocument,o=s.documentElement,l=s.defaultView;return{top:r.top+((t=l==null?void 0:l.scrollY)!==null&&t!==void 0?t:0)-o.clientTop,left:r.left+((n=l==null?void 0:l.scrollX)!==null&&n!==void 0?n:0)-o.clientLeft}},R8=e=>e.inline?aA(e.getBody()):{left:0,top:0},N8=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},O8=e=>{const t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},s={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:s},P8=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=aA(e.getContentAreaContainer()),r=O8(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},$8=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),B8=(e,t)=>$8(R8(e),N8(e),P8(e,t)),F8=(e,t,n)=>({...t,dataTransfer:null,type:e,...n}),I8=(e,t)=>{const n=bs("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:e,composedPath:n,initEvent:n,preventDefault:ze,stopImmediatePropagation:ze,stopPropagation:ze,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:n,initMouseEvent:n,getModifierState:n,dataTransfer:null,...t}},iA=e=>({target:e,srcElement:e}),L8=e=>t=>I8(e,iA(t)),Kb=e=>(t,n)=>F8(e,t,iA(n)),M8=Kb("dragstart"),z8=Kb("drop"),U8=L8("dragend"),lA=Kb("dragend"),kh=32,W8=100,Ah=8,Dh=16,cA=At,H8=RN(cA,ur),j8=(e,t,n)=>cA(n)&&n!==t&&e.isEditable(n.parentElement),V8=(e,t,n)=>at(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),q8=e=>{const t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},G8=(e,t,n,r)=>{const s=e.dom,o=t.cloneNode(!0);s.setStyles(o,{width:n,height:r}),s.setAttrib(o,"data-mce-selected",null);const l=s.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return s.setStyles(l,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),s.setStyles(o,{margin:0,boxSizing:"border-box"}),l.appendChild(o),l},K8=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},Rh=(e,t)=>n=>()=>{const r=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:r+t,behavior:"smooth"})},uA=Rh("left",-kh),fA=Rh("left",kh),dA=Rh("top",-kh),hA=Rh("top",kh),X8=(e,t,n,r,s,o,l,f,d,g,w,C)=>{let E=0,P=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>s&&(E=t.pageX+n-s),t.pageY+r>o&&(P=t.pageY+r-o),e.style.width=n-E+"px",e.style.height=r-P+"px";const L=d.clientHeight,k=d.clientWidth,B=l+d.getBoundingClientRect().top,j=f+d.getBoundingClientRect().left;w.on(H=>{H.intervalId.clear(),H.dragging&&C&&(l+Ah>=L?H.intervalId.set(hA(g)):l-Ah<=0?H.intervalId.set(dA(g)):f+Ah>=k?H.intervalId.set(fA(g)):f-Ah<=0?H.intervalId.set(uA(g)):B+Dh>=window.innerHeight?H.intervalId.set(hA(window)):B-Dh<=0?H.intervalId.set(dA(window)):j+Dh>=window.innerWidth?H.intervalId.set(fA(window)):j-Dh<=0&&H.intervalId.set(uA(window)))})},mA=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Y8=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);mA(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&te(U.fromDom(n))},J8=e=>e.button===0,Q8=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Z8=(e,t)=>n=>{if(J8(n)){const r=Qt(t.dom.getParents(n.target),H8).getOr(null);if(fe(r)&&j8(t.dom,t.getBody(),r)){const s=t.dom.getPos(r),o=t.getBody(),l=t.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?o.scrollWidth:l.offsetWidth)-2,maxY:(t.inline?o.scrollHeight:l.offsetHeight)-2,relX:n.pageX-s.x,relY:n.pageY-s.y,width:r.offsetWidth,height:r.offsetHeight,ghost:G8(t,r,r.offsetWidth,r.offsetHeight),intervalId:mN(W8)})}}},e5=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),oA(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),r=>{const s=e._selectionOverrides.showCaret(1,r.node,r.position===Cl.Before,!1);s?e.selection.setRng(s):e.selection.placeCaretAt(t,n)})},t5=(e,t)=>{const n=ld((s,o)=>e5(t,s,o),0);t.on("remove",n.cancel);const r=e;return s=>e.on(o=>{const l=Math.max(Math.abs(s.screenX-o.screenX),Math.abs(s.screenY-o.screenY));if(!o.dragging&&l>10){if(t.dispatch("dragstart",M8(s,o.element)).isDefaultPrevented())return;o.dragging=!0,t.focus()}if(o.dragging){const f=s.currentTarget===t.getDoc().documentElement,d=Q8(o,B8(t,s));K8(o.ghost,t.getBody()),X8(o.ghost,d,o.width,o.height,o.maxX,o.maxY,s.clientY,s.clientX,t.getContentAreaContainer(),t.getWin(),r,f),n.throttle(s.clientX,s.clientY)}})},n5=e=>{const t=e.getSel();if(fe(t)){const r=t.getRangeAt(0).startContainer;return ce(r)?r.parentNode:r}else return null},r5=(e,t)=>n=>{e.on(r=>{var s;if(r.intervalId.clear(),r.dragging){if(V8(t,n5(t.selection),r.element)){const o=q8(r.element),l=(s=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&s!==void 0?s:t.getBody();t.dispatch("drop",z8(n,l)).isDefaultPrevented()||t.undoManager.transact(()=>{Y8(t.dom,r.element),t.insertContent(t.dom.getOuterHTML(o)),t._selectionOverrides.hideFakeCaret()})}t.dispatch("dragend",lA(n,t.getBody()))}}),gA(e)},pA=(e,t,n)=>{e.on(r=>{if(r.intervalId.clear(),r.dragging){const s=n.fold(()=>U8(r.element),o=>lA(o,r.element));t.dispatch("dragend",s)}}),gA(e)},s5=(e,t)=>n=>pA(e,t,x.some(n)),gA=e=>{e.on(t=>{t.intervalId.clear(),mA(t.ghost)}),e.clear()},o5=e=>{const t=Jo(),n=Dt.DOM,r=document,s=Z8(t,e),o=t5(t,e),l=r5(t,e),f=s5(t,e);e.on("mousedown",s),e.on("mousemove",o),e.on("mouseup",l),n.bind(r,"mousemove",o),n.bind(r,"mouseup",f),e.on("remove",()=>{n.unbind(r,"mousemove",o),n.unbind(r,"mouseup",f)}),e.on("keydown",d=>{d.keyCode===Re.ESC&&pA(t,e,x.none())})},a5=e=>{const t=s=>{if(!s.isDefaultPrevented()){const o=s.dataTransfer;o&&(kt(o.types,"Files")||o.files.length>0)&&(s.preventDefault(),s.type==="drop"&&nh(e,"Dropped file type is not supported"))}},n=s=>{$d(e,s.target)&&t(s)},r=()=>{const s=Dt.DOM,o=e.dom,l=document,f=e.inline?e.getBody():e.getDoc(),d=["drop","dragover"];ue(d,g=>{s.bind(l,g,n),o.bind(f,g,t)}),e.on("remove",()=>{ue(d,g=>{s.unbind(l,g,n),o.unbind(f,g,t)})})};e.on("init",()=>{Tr.setEditorTimeout(e,r,0)})},i5=e=>{o5(e),GO(e)&&a5(e)},l5=e=>{const t=ld(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const r=eb(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},c5=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(zr(n)){const r=ai(e.getBody(),n),s=At(r)?r:n;e.selection.getNode()!==s&&tu(e,s).each(o=>e.selection.setRng(o))}})})},hu=At,vA=(e,t)=>ai(e.getBody(),t),u5=e=>{const t=e.selection,n=e.dom,r=e.getBody(),s=BP(e,r,n.isBlock,()=>ri(e)),o="sel-"+n.uniqueId(),l="data-mce-selected";let f;const d=me=>fe(me)&&n.hasClass(me,"mce-offscreen-selection"),g=me=>me!==r&&(hu(me)||zr(me))&&n.isChildOf(me,r)&&n.isEditable(me.parentNode),w=me=>{me&&t.setRng(me)},C=(me,ee,Z,Se=!0)=>e.dispatch("ShowCaret",{target:ee,direction:me,before:Z}).isDefaultPrevented()?null:(Se&&t.scrollIntoView(ee,me===-1),s.show(Z,ee)),E=me=>{me.hasAttribute("data-mce-caret")&&(Pn(me),t.scrollIntoView(me))},P=()=>{e.on("click",ee=>{n.isEditable(ee.target)||(ee.preventDefault(),e.focus())}),e.on("blur NewBlock",K),e.on("ResizeWindow FullscreenStateChanged",s.reposition),e.on("tap",ee=>{const Z=ee.target,Se=vA(e,Z);hu(Se)?(ee.preventDefault(),tu(e,Se).each(G)):g(Z)&&tu(e,Z).each(G)},!0),e.on("mousedown",ee=>{const Z=ee.target;if(Z!==r&&Z.nodeName!=="HTML"&&!n.isChildOf(Z,r)||!WH(e,ee.clientX,ee.clientY))return;K(),ye();const Se=vA(e,Z);hu(Se)?(ee.preventDefault(),tu(e,Se).each(G)):oA(r,ee.clientX,ee.clientY).each(Ne=>{ee.preventDefault();const Ie=C(1,Ne.node,Ne.position===Cl.Before,!1);w(Ie),Ee(Se)?Se.focus():e.getBody().focus()})}),e.on("keypress",ee=>{Re.modifierPressed(ee)||hu(t.getNode())&&ee.preventDefault()}),e.on("GetSelectionRange",ee=>{let Z=ee.range;if(f){if(!f.parentNode){f=null;return}Z=Z.cloneRange(),Z.selectNode(f),ee.range=Z}}),e.on("SetSelectionRange",ee=>{ee.range=B(ee.range);const Z=G(ee.range,ee.forward);Z&&(ee.range=Z)});const me=ee=>Ee(ee)&&ee.id==="mcepastebin";e.on("AfterSetSelectionRange",ee=>{const Z=ee.range,Se=Z.startContainer.parentElement;!k(Z)&&!me(Se)&&ye(),d(Se)||K()}),i5(e),l5(e),c5(e)},L=me=>rt(me)||jn(me)||it(me),k=me=>L(me.startContainer)||L(me.endContainer),B=me=>{const ee=e.schema.getVoidElements(),Z=n.createRng(),Se=me.startContainer,Ne=me.startOffset,Ie=me.endContainer,Ge=me.endOffset;return Je(ee,Se.nodeName.toLowerCase())?Ne===0?Z.setStartBefore(Se):Z.setStartAfter(Se):Z.setStart(Se,Ne),Je(ee,Ie.nodeName.toLowerCase())?Ge===0?Z.setEndBefore(Ie):Z.setEndAfter(Ie):Z.setEnd(Ie,Ge),Z},j=(me,ee)=>{const Z=U.fromDom(e.getBody()),Se=e.getDoc(),Ne=Lo(Z,"#"+o).getOrThunk(()=>{const nt=U.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Se);return Zt(nt,"id",o),rn(Z,nt),nt}),Ie=n.createRng();Ho(Ne),uo(Ne,[U.fromText(dn,Se),U.fromDom(ee),U.fromText(dn,Se)]),Ie.setStart(Ne.dom.firstChild,1),Ie.setEnd(Ne.dom.lastChild,0),zo(Ne,{top:n.getPos(me,e.getBody()).y+"px"}),sS(Ne);const Ge=t.getSel();return Ge&&(Ge.removeAllRanges(),Ge.addRange(Ie)),Ie},H=me=>{const ee=me.cloneNode(!0),Z=e.dispatch("ObjectSelected",{target:me,targetClone:ee});if(Z.isDefaultPrevented())return null;const Se=j(me,Z.targetClone),Ne=U.fromDom(me);return ue(Sn(U.fromDom(e.getBody()),`*[${l}]`),Ie=>{bt(Ne,Ie)||vn(Ie,l)}),n.getAttrib(me,l)||me.setAttribute(l,"1"),f=me,ye(),Se},G=(me,ee)=>{if(!me)return null;if(me.collapsed){if(!k(me)){const Ie=ee?1:-1,Ge=Lc(Ie,r,me),nt=Ge.getNode(!ee);if(fe(nt)){if($c(nt))return C(Ie,nt,ee?!Ge.isAtEnd():!1,!1);if(Ve(nt)&&At(nt.nextSibling)){const wt=n.createRng();return wt.setStart(nt,0),wt.setEnd(nt,0),wt}}const gt=Ge.getNode(ee);if(fe(gt)){if($c(gt))return C(Ie,gt,ee?!1:!Ge.isAtEnd(),!1);if(Ve(gt)&&At(gt.previousSibling)){const wt=n.createRng();return wt.setStart(gt,1),wt.setEnd(gt,1),wt}}}return null}let Z=me.startContainer,Se=me.startOffset;const Ne=me.endOffset;if(ce(Z)&&Se===0&&hu(Z.parentNode)&&(Z=Z.parentNode,Se=n.nodeIndex(Z),Z=Z.parentNode),!Ee(Z))return null;if(Ne===Se+1&&Z===me.endContainer){const Ie=Z.childNodes[Se];if(g(Ie))return H(Ie)}return null},K=()=>{f&&f.removeAttribute(l),Lo(U.fromDom(e.getBody()),"#"+o).each(Ut),f=null},oe=()=>{s.destroy(),f=null},ye=()=>{s.hide()};return zs(e)||P(),{showCaret:C,showBlockCaretContainer:E,hideFakeCaret:ye,destroy:oe}},f5=(e,t)=>{let n=t;for(let r=e.previousSibling;ce(r);r=r.previousSibling)n+=r.data.length;return n},bA=(e,t,n,r,s)=>{if(ce(n)&&(r<0||r>n.data.length))return[];const o=s&&ce(n)?[f5(n,r)]:[r];let l=n;for(;l!==t&&l.parentNode;)o.push(e.nodeIndex(l,s)),l=l.parentNode;return l===t?o.reverse():[]},Xb=(e,t,n,r,s,o,l=!1)=>{const f=bA(e,t,n,r,l),d=bA(e,t,s,o,l);return{start:f,end:d}},yA=(e,t)=>{const n=t.slice(),r=n.pop();return Mt(r)?fn(n,(o,l)=>o.bind(f=>x.from(f.childNodes[l])),x.some(e)).bind(o=>ce(o)&&(r<0||r>o.data.length)?x.none():x.some({node:o,offset:r})):x.none()},CA=(e,t)=>yA(e,t.start).bind(({node:n,offset:r})=>yA(e,t.end).map(({node:s,offset:o})=>{const l=document.createRange();return l.setStart(n,r),l.setEnd(s,o),l})),d5=(e,t,n,r=!1)=>Xb(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r),wl=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const r=t.parentNode;e.remove(t),wl(e,r,n)}},Nh=(e,t,n,r=!0)=>{const s=t.startContainer.parentNode,o=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(ce(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),ce(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),wl(e,s,n),s!==o&&wl(e,o,n))},Yb=(e,t)=>x.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),wA=(e,t,n)=>{const r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:b0(r).concat(e.blockPatterns),inlinePatterns:y0(r).concat(e.inlinePatterns)}},SA=(e,t,n,r)=>{const s=e.createRng();return s.setStart(t,0),s.setEnd(n,r),s.toString()},h5=e=>/^\s[^\s]/.test(e),EA=(e,t,n)=>{Wq(t,0,t).each(s=>{const o=s.container;JT(o,n.start.length,t).each(d=>{const g=e.createRng();g.setStart(o,0),g.setEnd(d.container,d.offset),Nh(e,g,w=>w===t)});const l=U.fromDom(o),f=Yi(l);h5(f)&&gc(l,f.slice(1))})},m5=(e,t)=>{const n=e.dom,r=t.pattern,s=CA(n.getRoot(),t.range).getOrDie("Unable to resolve path range"),o=(l,f)=>{const d=f.get(l);return $e(d)&&Rn(d).exists(g=>Je(g,"block"))};return Yb(e,s).each(l=>{r.type==="block-format"?o(r.format,e.formatter)&&e.undoManager.transact(()=>{EA(e.dom,l,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{EA(e.dom,l,r),e.execCommand(r.cmd,!1,r.value)})}),!0},p5=e=>Ys(e,(t,n)=>n.start.length-t.start.length),g5=(e,t)=>{const n=p5(e),r=t.replace(dn," ");return Qt(n,s=>t.indexOf(s.start)===0||r.indexOf(s.start)===0)},v5=(e,t,n,r)=>{var s;const o=e.dom,l=fr(e);if(!o.is(t,l))return[];const f=(s=t.textContent)!==null&&s!==void 0?s:"";return g5(n.blockPatterns,f).map(d=>pe.trim(f).length===d.start.length?[]:[{pattern:d,range:Xb(o,o.getRoot(),t,0,t,0,r)}]).getOr([])},b5=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();ue(t,r=>m5(e,r)),e.selection.moveToBookmark(n)},_A=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),Oh=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},xA=(e,t,n)=>{const r=CA(e.getRoot(),n).getOrDie("Unable to resolve path range"),s=r.startContainer,o=r.endContainer,l=r.endOffset===0?o:o.splitText(r.endOffset),f=r.startOffset===0?s:s.splitText(r.startOffset),d=f.parentNode,g=l.parentNode;return{prefix:t,end:g.insertBefore(_A(e,t+"-end"),l),start:d.insertBefore(_A(e,t+"-start"),f)}},TA=(e,t,n)=>{wl(e,e.get(t.prefix+"-end"),n),wl(e,e.get(t.prefix+"-start"),n)},Jb=e=>e.start.length===0,y5=e=>(t,n)=>{const s=t.data.substring(0,n),o=s.lastIndexOf(e.charAt(e.length-1)),l=s.lastIndexOf(e);return l!==-1?l+e.length:o!==-1?o+1:-1},kA=(e,t,n,r)=>{const s=t.start;return Sb(e,r.container,r.offset,y5(s),n).bind(l=>{var f,d;const g=(d=(f=n.textContent)===null||f===void 0?void 0:f.indexOf(s))!==null&&d!==void 0?d:-1;if(g!==-1&&l.offset>=g+s.length){const C=e.createRng();return C.setStart(l.container,l.offset-s.length),C.setEnd(l.container,l.offset),x.some(C)}else{const C=l.offset-s.length;return wb(l.container,C,n).map(E=>{const P=e.createRng();return P.setStart(E.container,E.offset),P.setEnd(l.container,l.offset),P}).filter(E=>E.toString()===s).orThunk(()=>kA(e,t,n,fs(l.container,0)))}})},C5=(e,t,n,r,s,o=!1)=>{if(t.start.length===0&&!o){const l=e.createRng();return l.setStart(n,r),l.setEnd(n,r),x.some(l)}return Cb(n,r,s).bind(l=>kA(e,t,s,l).bind(d=>{var g;if(o){if(d.endContainer===l.container&&d.endOffset===l.offset)return x.none();if(l.offset===0&&((g=d.endContainer.textContent)===null||g===void 0?void 0:g.length)===d.endOffset)return x.none()}return x.some(d)}))},w5=(e,t,n,r)=>{const s=e.dom,o=s.getRoot(),l=n.pattern,f=n.position.container,d=n.position.offset;return wb(f,d-n.pattern.end.length,t).bind(g=>{const w=Xb(s,o,g.container,g.offset,f,d,r);if(Jb(l))return x.some({matches:[{pattern:l,startRng:w,endRng:w}],position:g});{const C=Ph(e,n.remainingPatterns,g.container,g.offset,t,r),E=C.getOr({matches:[],position:g}),P=E.position;return C5(s,l,P.container,P.offset,t,C.isNone()).map(k=>{const B=d5(s,o,k,r);return{matches:E.matches.concat([{pattern:l,startRng:B,endRng:w}]),position:fs(k.startContainer,k.startOffset)}})}})},Ph=(e,t,n,r,s,o)=>{const l=e.dom;return Cb(n,r,l.getRoot()).bind(f=>{const d=SA(l,s,n,r);for(let g=0;g<t.length;g++){const w=t[g];if(!Yu(d,w.end))continue;const C=t.slice();C.splice(g,1);const E=w5(e,s,{pattern:w,remainingPatterns:C,position:f},o);if(E.isNone()&&r>0)return Ph(e,t,n,r-1,s,o);if(E.isSome())return E}return x.none()})},AA=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?ue(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},S5=(e,t,n,r)=>{const s=Oh(e.dom,n);Nh(e.dom,s,r),AA(e,t,s)},E5=(e,t,n,r,s)=>{const o=e.dom,l=Oh(o,r),f=Oh(o,n);Nh(o,f,s),Nh(o,l,s);const d={prefix:n.prefix,start:n.end,end:r.start},g=Oh(o,d);AA(e,t,g)},_5=(e,t)=>{const n=HC("mce_textpattern"),r=Jn(t,(s,o)=>{const l=xA(e,n+`_end${s.length}`,o.endRng);return s.concat([{...o,endMarker:l}])},[]);return Jn(r,(s,o)=>{const l=r.length-s.length-1,f=Jb(o.pattern)?o.endMarker:xA(e,n+`_start${l}`,o.startRng);return s.concat([{...o,startMarker:f}])},[])},x5=e=>Ys(e,(t,n)=>n.end.length-t.end.length),T5=(e,t)=>{const n=vr(e,r=>Xt(t,s=>r.pattern.start===s.pattern.start&&r.pattern.end===s.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},DA=(e,t,n,r,s,o)=>{const l=Ph(e,s.inlinePatterns,n,r,t,o).fold(()=>[],d=>d.matches),f=Ph(e,x5(s.inlinePatterns),n,r,t,o).fold(()=>[],d=>d.matches);return T5(l,f)},RA=(e,t)=>{if(t.length===0)return;const n=e.dom,r=e.selection.getBookmark(),s=_5(n,t);ue(s,o=>{const l=n.getParent(o.startMarker.start,n.isBlock),f=d=>d===l;Jb(o.pattern)?S5(e,o.pattern,o.endMarker,f):E5(e,o.pattern,o.startMarker,o.endMarker,f),TA(n,o.endMarker,f),TA(n,o.startMarker,f)}),e.selection.moveToBookmark(r)},k5=(e,t)=>{const n=e.selection.getRng();return Yb(e,n).map(r=>{var s;const o=Math.max(0,n.startOffset),l=wA(t,r,(s=r.textContent)!==null&&s!==void 0?s:""),f=DA(e,r,n.startContainer,o,l,!0),d=v5(e,r,l,!0);return d.length>0||f.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(Ds),RA(e,f),b5(e,d);const g=e.selection.getRng(),w=Cb(g.startContainer,g.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),w.each(C=>{const E=C.container;E.data.charAt(C.offset-1)===Ds&&(E.deleteData(C.offset-1,1),wl(e.dom,E.parentNode,P=>P===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},A5=(e,t)=>{const n=e.selection.getRng();Yb(e,n).map(r=>{const s=Math.max(0,n.startOffset-1),o=SA(e.dom,r,n.startContainer,s),l=wA(t,r,o),f=DA(e,r,n.startContainer,s,l,!1);f.length>0&&e.undoManager.transact(()=>{RA(e,f)})})},NA=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},D5=(e,t)=>NA(e,t,(n,r)=>n===r.keyCode&&!Re.modifierPressed(r)),R5=(e,t)=>NA(e,t,(n,r)=>n.charCodeAt(0)===r.charCode),N5=e=>{const t=[",",".",";",":","!","?"],n=[32],r=()=>tO(hP(e),mP(e)),s=()=>yP(e);e.on("keydown",l=>{if(l.keyCode===13&&!Re.modifierPressed(l)&&e.selection.isCollapsed()){const f=r();(f.inlinePatterns.length>0||f.blockPatterns.length>0||s())&&k5(e,f)&&l.preventDefault()}},!0);const o=()=>{if(e.selection.isCollapsed()){const l=r();(l.inlinePatterns.length>0||s())&&A5(e,l)}};e.on("keyup",l=>{D5(n,l)&&o()}),e.on("keypress",l=>{R5(t,l)&&Tr.setEditorTimeout(e,o)})},O5=e=>{N5(e)},P5=e=>{const t=pe.each,n=Re.BACKSPACE,r=Re.DELETE,s=e.dom,o=e.selection,l=e.parser,f=vt.browser,d=f.isFirefox(),g=f.isChromium()||f.isSafari(),w=vt.deviceType.isiPhone()||vt.deviceType.isiPad(),C=vt.os.isMacOS()||vt.os.isiOS(),E=(Ce,Fe)=>{try{e.getDoc().execCommand(Ce,!1,String(Fe))}catch{}},P=Ce=>Ce.isDefaultPrevented(),L=()=>{const Ce=Le=>{const we=s.create("body"),et=Le.cloneContents();return we.appendChild(et),o.serializer.serialize(we,{format:"html"})},Fe=Le=>{const we=Ce(Le),et=s.createRng();et.selectNode(e.getBody());const Ze=Ce(et);return we===Ze};e.on("keydown",Le=>{const we=Le.keyCode;if(!P(Le)&&(we===r||we===n)&&e.selection.isEditable()){const et=e.selection.isCollapsed(),Ze=e.getBody();if(et&&!s.isEmpty(Ze)||!et&&!Fe(e.selection.getRng()))return;Le.preventDefault(),e.setContent(""),Ze.firstChild&&s.isBlock(Ze.firstChild)?e.selection.setCursorLocation(Ze.firstChild,0):e.selection.setCursorLocation(Ze,0),e.nodeChanged()}})},k=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},B=()=>{e.inline||s.bind(e.getDoc(),"mousedown mouseup",Ce=>{let Fe;if(Ce.target===e.getDoc().documentElement)if(Fe=o.getRng(),e.getBody().focus(),Ce.type==="mousedown"){if(rt(Fe.startContainer))return;o.placeCaretAt(Ce.clientX,Ce.clientY)}else o.setRng(Fe)})},j=()=>{e.on("keydown",Ce=>{if(!P(Ce)&&Ce.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(o.isCollapsed()&&o.getRng().startOffset===0){const Fe=o.getNode(),Le=Fe.previousSibling;if(Fe.nodeName==="HR"){s.remove(Fe),Ce.preventDefault();return}Le&&Le.nodeName&&Le.nodeName.toLowerCase()==="hr"&&(s.remove(Le),Ce.preventDefault())}}})},H=()=>{Range.prototype.getClientRects||e.on("mousedown",Ce=>{if(!P(Ce)&&Ce.target.nodeName==="HTML"){const Fe=e.getBody();Fe.blur(),Tr.setEditorTimeout(e,()=>{Fe.focus()})}})},G=()=>{const Ce=B0(e);e.on("click",Fe=>{const Le=Fe.target;/^(IMG|HR)$/.test(Le.nodeName)&&s.isEditable(Le.parentNode)&&(Fe.preventDefault(),e.selection.select(Le),e.nodeChanged()),Le.nodeName==="A"&&s.hasClass(Le,Ce)&&Le.childNodes.length===0&&s.isEditable(Le.parentNode)&&(Fe.preventDefault(),o.select(Le))})},K=()=>{const Ce=()=>{const Le=s.getAttribs(o.getStart().cloneNode(!1));return()=>{const we=o.getStart();we!==e.getBody()&&(s.setAttrib(we,"style",null),t(Le,et=>{we.setAttributeNode(et.cloneNode(!0))}))}},Fe=()=>!o.isCollapsed()&&s.getParent(o.getStart(),s.isBlock)!==s.getParent(o.getEnd(),s.isBlock);e.on("keypress",Le=>{let we;return!P(Le)&&(Le.keyCode===8||Le.keyCode===46)&&Fe()?(we=Ce(),e.getDoc().execCommand("delete",!1),we(),Le.preventDefault(),!1):!0}),s.bind(e.getDoc(),"cut",Le=>{if(!P(Le)&&Fe()){const we=Ce();Tr.setEditorTimeout(e,()=>{we()})}})},oe=()=>{e.on("keydown",Ce=>{if(!P(Ce)&&Ce.keyCode===n&&o.isCollapsed()&&o.getRng().startOffset===0){const Fe=o.getNode().previousSibling;if(Fe&&Fe.nodeName&&Fe.nodeName.toLowerCase()==="table")return Ce.preventDefault(),!1}return!0})},ye=()=>{e.on("keydown",Ce=>{if(P(Ce)||Ce.keyCode!==Re.BACKSPACE)return;let Fe=o.getRng();const Le=Fe.startContainer,we=Fe.startOffset,et=s.getRoot();let Ze=Le;if(!(!Fe.collapsed||we!==0)){for(;Ze.parentNode&&Ze.parentNode.firstChild===Ze&&Ze.parentNode!==et;)Ze=Ze.parentNode;Ze.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Ze),Fe=s.createRng(),Fe.setStart(Le,0),Fe.setEnd(Le,0),o.setRng(Fe))}})},me=()=>{const Ce=()=>{E("StyleWithCSS",!1),E("enableInlineTableEditing",!1),N0(e)||E("enableObjectResizing",!1)};P0(e)||e.on("BeforeExecCommand mousedown",Ce)},ee=()=>{const Ce=()=>{t(s.select("a:not([data-mce-block])"),Fe=>{var Le;let we=Fe.parentNode;const et=s.getRoot();if((we==null?void 0:we.lastChild)===Fe){for(;we&&!s.isBlock(we);){if(((Le=we.parentNode)===null||Le===void 0?void 0:Le.lastChild)!==we||we===et)return;we=we.parentNode}s.add(we,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Fe=>{(Fe.type==="setcontent"||Fe.command==="mceInsertLink")&&Ce()})},Z=()=>{e.on("init",()=>{E("DefaultParagraphSeparator",fr(e))})},Se=Ce=>{const Fe=Ce.getBody(),Le=Ce.selection.getRng();return Le.startContainer===Le.endContainer&&Le.startContainer===Fe&&Le.startOffset===0&&Le.endOffset===Fe.childNodes.length},Ne=()=>{e.on("keyup focusin mouseup",Ce=>{!Re.modifierPressed(Ce)&&!Se(e)&&o.normalize()},!0)},Ie=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Ge=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},nt=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Ce=>{let Fe;Ce.target.nodeName==="HTML"&&(Fe=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Fe),e.selection.normalize(),e.nodeChanged())}))},gt=()=>{C&&e.on("keydown",Ce=>{Re.metaKeyPressed(Ce)&&!Ce.shiftKey&&(Ce.keyCode===37||Ce.keyCode===39)&&(Ce.preventDefault(),e.selection.getSel().modify("move",Ce.keyCode===37?"backward":"forward","lineboundary"))})},wt=()=>{e.on("click",Ce=>{let Fe=Ce.target;do if(Fe.tagName==="A"){Ce.preventDefault();return}while(Fe=Fe.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ht=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Ce=>{Ce.preventDefault()})})},_n=()=>{l.addNodeFilter("br",Ce=>{let Fe=Ce.length;for(;Fe--;)Ce[Fe].attr("class")==="Apple-interchange-newline"&&Ce[Fe].remove()})},an=ze,de=()=>{if(!d||e.removed)return!1;const Ce=e.selection.getSel();return!Ce||!Ce.rangeCount||Ce.rangeCount===0},De=()=>{g&&(B(),G(),Ht(),k(),w&&(Ge(),nt(),wt())),d&&(H(),me(),Ie(),gt())},lt=()=>{ye(),L(),vt.windowsPhone||Ne(),g&&(B(),G(),Z(),Ht(),oe(),_n(),w?(Ge(),nt(),wt()):k()),d&&(j(),H(),K(),me(),ee(),Ie(),gt(),oe())};return zs(e)?De():lt(),{refreshContentEditable:an,isHidden:de}},Qb=Dt.DOM,$5=(e,t)=>{const n=U.fromDom(e.getBody()),r=ac(Lr(n)),s=U.fromTag("style");Zt(s,"type","text/css"),rn(s,U.fromText(t)),rn(r,s),e.on("remove",()=>{Ut(s)})},B5=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,Zb=e=>Yr(e,t=>yt(t)===!1),OA=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return Zb({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:B5(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},PA=e=>{const t=e.options.get;return Zb({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},F5=e=>{const t=e.options.get;return{...OA(e),...PA(e),...Zb({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},I5=e=>{const t=ml(OA(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,r)=>{const s=e.dom,o="data-mce-"+r;let l=n.length;for(;l--;){const f=n[l];let d=f.attr(r);if(d&&!f.attr(o)){if(d.indexOf("data:")===0||d.indexOf("blob:")===0)continue;r==="style"?(d=s.serializeStyle(s.parseStyle(d),f.name),d.length||(d=null),f.attr(o,d),f.attr(r,d)):r==="tabindex"?(f.attr(o,d),f.attr(r,null)):f.attr(o,e.convertURL(d,r,f.name))}}}),t.addNodeFilter("script",n=>{let r=n.length;for(;r--;){const s=n[r],o=s.attr("type")||"no/type";o.indexOf("mce-")!==0&&s.attr("type","mce-"+o)}}),vP(e)&&t.addNodeFilter("#cdata",n=>{var r;let s=n.length;for(;s--;){const o=n[s];o.type=8,o.name="#comment",o.value="[CDATA["+e.dom.encode((r=o.value)!==null&&r!==void 0?r:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let r=n.length;const s=e.schema.getNonEmptyElements();for(;r--;){const o=n[r];o.isEmpty(s)&&o.getAll("br").length===0&&o.append(new Gn("br",1))}}),t},L5=e=>{const t=eP(e);t&&Tr.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},M5=e=>{const t=e.dom.getRoot();!e.inline&&(!Ed(e)||e.selection.getStart(!0)===t)&&qn(t).each(n=>{const r=n.getNode(),s=ss(r)?qn(r).getOr(n):n;e.selection.setRng(s.toRange())})},z5=e=>{e.bindPendingEventDelegates(),e.initialized=!0,J$(e),e.focus(!0),M5(e),e.nodeChanged({initial:!0});const t=QO(e);Ke(t)&&t.call(e,e),L5(e)},$A=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,U5=(e,t,n)=>{const r=[$A(e).loadAll(t)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(n)])},BA=e=>{const t=$A(e),n=R0(e),r=e.contentCSS,s=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},o=()=>{e.removed?s():e.on("remove",s)};if(e.contentStyles.length>0){let d="";pe.each(e.contentStyles,g=>{d+=g+`\r
`}),e.dom.addStyle(d)}const l=Promise.all(U5(e,r,n)).then(o).catch(o),f=kO(e);return f&&$5(e,f),l},W5=e=>{const t=e.getDoc(),n=e.getBody();X$(e),tP(e)||(t.body.spellcheck=!1,Qb.setAttrib(n,"spellcheck","false")),e.quirks=P5(e),Y$(e);const r=AO(e);r!==void 0&&(n.dir=r);const s=nP(e);s&&e.on("BeforeSetContent",o=>{pe.each(s,l=>{o.content=o.content.replace(l,f=>"<!--mce:protected "+escape(f)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",o=>{e.composing=o.type==="compositionstart"})},H5=e=>{zs(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},ey=e=>{e.removed!==!0&&(H5(e),z5(e))},FA=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(Qb.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=P0(e),e.readonly||(e.inline&&Qb.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=dj(e),e.schema=Yo(PA(e)),e.dom=Dt(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:EO(e),referrerPolicy:eg(e),onSetAttrib:l=>{e.dispatch("SetAttrib",l)}}),e.parser=I5(e),e.serializer=Y_(F5(e),e),e.selection=X_(e.dom,e.getWin(),e.serializer,e),e.annotator=Nw(e),e.formatter=fx(e),e.undoManager=hx(e),e._nodeChangeDispatcher=new c6(e),e._selectionOverrides=u5(e),LV(e),d8(e),qV(e),zs(e)||(y8(e),O5(e));const s=l6(e);BV(e,s),HV(e),kj(e),c8(e);const o=bW(e);W5(e),o.fold(()=>{BA(e).then(()=>ey(e))},l=>{e.setProgressState(!0),BA(e).then(()=>{l().then(f=>{e.setProgressState(!1),ey(e),j_(e)},f=>{e.notificationManager.open({type:"error",text:String(f)}),ey(e),j_(e)})})})},j5=ht,V5=(e,t,n)=>qi(e,t,j5,n),ty=Dt.DOM,q5=(e,t,n,r)=>{const s=U.fromTag("iframe");return r.each(o=>Zt(s,"tabindex",o)),xs(s,n),xs(s,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Cr(s,"tox-edit-area__iframe"),s},G5=e=>{let t=lO(e)+"<html><head>";E0(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=cO(e),r=uO(e),s=e.translate(YO(e));return _0(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+_0(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${s}"><br></body></html>`,t},K5=(e,t)=>{const n=e.translate("Rich Text Area"),r=Zr(U.fromDom(e.getElement()),"tabindex").bind(Oo),s=q5(e.id,n,iO(e),r).dom;s.onload=()=>{s.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=s,e.iframeHTML=G5(e),ty.add(t.iframeContainer,s)},X5=e=>{const t=e.iframeElement,n=V5(U.fromDom(t),"load",()=>{n.unbind(),e.contentDocument=t.contentDocument,FA(e)});if(vt.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close()}else t.srcdoc=e.iframeHTML},Y5=(e,t)=>{K5(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=ty.isHidden(t.editorContainer)),e.getElement().style.display="none",ty.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,X5(e)},IA=Dt.DOM,J5=(e,t,n)=>{const r=gl.get(n),s=gl.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=pe.trim(n),r&&pe.inArray(t,n)===-1){if(e.plugins[n])return;try{const o=r(e,s)||{};e.plugins[n]=o,Ke(o.init)&&(o.init(e,s),t.push(n))}catch(o){ZH(e,n,o)}}},Q5=e=>e.replace(/^\-/,""),Z5=e=>{const t=[];ue(hd(e),n=>{J5(e,t,Q5(n))})},e7=e=>{const t=pe.trim(k0(e)),n=e.ui.registry.getAll().icons,r={...th.get("default").icons,...th.get(t).icons};Nt(r,(s,o)=>{Je(n,o)||e.ui.registry.addIcon(o,s)})},t7=e=>{const t=rl(e);if(V(t)){const n=ui.get(t);e.theme=n(e,ui.urls[t])||{},Ke(e.theme.init)&&e.theme.init(e,ui.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},n7=e=>{const t=tg(e),n=pl.get(t);e.model=n(e,pl.urls[t])},r7=e=>{const t=e.theme.renderUI;return t?t():MA(e)},s7=e=>{const t=e.getElement(),r=rl(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},LA=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),o7=e=>{const t=IA.create("div");return IA.insertAfter(t,e),LA(t,t)},MA=e=>{const t=e.getElement();return e.inline?LA(null):o7(t)},a7=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,V(rl(e))?r7(e):Ke(rl(e))?s7(e):MA(e)},i7=(e,t)=>{const n={show:x.from(t.show).getOr(ze),hide:x.from(t.hide).getOr(ze),isEnabled:x.from(t.isEnabled).getOr(ht),setEnabled:r=>{e.mode.isReadOnly()||x.from(t.setEnabled).each(s=>s(r))}};e.ui={...e.ui,...n}},l7=async e=>{e.dispatch("ScriptsLoaded"),e7(e),t7(e),n7(e),Z5(e);const t=await a7(e);i7(e,x.from(t.api).getOr({})),e.editorContainer=t.editorContainer,rj(e),e.inline?FA(e):Y5(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},fi=Dt.DOM,zA=e=>e.charAt(0)==="-",c7=(e,t)=>{const n=A0(t),r=_O(t);if(!as.hasCode(n)&&n!=="en"){const s=br(r)?r:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(s).catch(()=>{YH(t,s,n)})}},u7=(e,t)=>{const n=rl(e);if(V(n)&&!zA(n)&&!Je(ui.urls,n)){const r=PO(e),s=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${t}.js`;ui.load(n,s).catch(()=>{JH(e,s,n)})}},f7=(e,t)=>{const n=tg(e);if(n!=="plugin"&&!Je(pl.urls,n)){const r=$O(e),s=V(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${t}.js`;pl.load(n,s).catch(()=>{QH(e,s,n)})}},d7=e=>x.from(bO(e)).filter(br).map(t=>({url:t,name:x.none()})),UA=(e,t,n)=>x.from(t).filter(r=>br(r)&&!th.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${n}.js`,name:x.some(r)})),h7=(e,t,n)=>{const r=UA(t,"default",n),s=d7(t).orThunk(()=>UA(t,k0(t),""));ue($i([r,s]),o=>{e.add(o.url).catch(()=>{XH(t,o.url,o.name.getOrUndefined())})})},m7=(e,t)=>{const n=(r,s)=>{gl.load(r,s).catch(()=>{KH(e,s,r)})};Nt(qO(e),(r,s)=>{n(s,r),e.options.set("plugins",hd(e).concat(s))}),ue(hd(e),r=>{r=pe.trim(r),r&&!gl.urls[r]&&!zA(r)&&n(r,`plugins/${r}/plugin${t}.js`)})},p7=e=>{const t=rl(e);return!V(t)||fe(ui.get(t))},g7=e=>{const t=tg(e);return fe(pl.get(t))},v7=(e,t)=>{const n=vo.ScriptLoader,r=()=>{!e.removed&&p7(e)&&g7(e)&&l7(e)};u7(e,t),f7(e,t),c7(n,e),h7(n,e,t),m7(e,t),n.loadQueue().then(r,r)},b7=(e,t)=>SC.forElement(e,{contentCssCors:$0(t),referrerPolicy:eg(t)}),y7=e=>{const t=e.id;as.setCode(A0(e));const n=()=>{fi.unbind(window,"ready",n),e.render()};if(!ja.Event.domLoaded){fi.bind(window,"ready",n);return}if(!e.getElement())return;const r=U.fromDom(e.getElement()),s=Ql(r);e.on("remove",()=>{zu(r.dom.attributes,l=>vn(r,l.name)),xs(r,s)}),e.ui.styleSheetLoader=b7(r,e),ng(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const o=e.getElement().form||fi.getParent(t,"form");o&&(e.formElement=o,zO(e)&&!mc(e.getElement())&&(fi.insertAfter(fi.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=l=>{e.dispatch(l.type,l)},fi.bind(o,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),UO(e)&&!o.submit.nodeType&&!o.submit.length&&!o._mceOldSubmit&&(o._mceOldSubmit=o.submit,o.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),o._mceOldSubmit(o)))),e.windowManager=rx(e),e.notificationManager=nx(e),SP(e)&&e.on("GetContent",l=>{l.save&&(l.content=fi.encode(l.content))}),WO(e)&&e.on("submit",()=>{e.initialized&&e.save()}),HO(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),v7(e,e.suffix)},C7=(e,t)=>({sections:ie(e),options:ie(t)}),WA=Es().deviceType,HA=WA.isPhone(),w7=WA.isTablet(),mu=e=>{if(at(e))return[];{const t=$e(e)?e:e.split(/[ ,]/),n=mt(t,ws);return He(n,br)}},S7=(e,t)=>{const n=Rm(t,(r,s)=>kt(e,s));return C7(n.t,n.f)},E7=(e,t,n={})=>{const r=e.sections(),s=Bt(r,t).getOr({});return pe.extend({},n,s)},ny=(e,t)=>Je(e.sections(),t),_7=(e,t)=>ny(e,t)?e.sections()[t]:{},x7=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Bt(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),T7=(e,t)=>{var n;const r=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?pe.extend({},e.external_plugins,r):r},k7=(e,t)=>[...mu(e),...mu(t)],A7=(e,t,n,r)=>e&&ny(t,"mobile")?r:n,D7=(e,t,n,r)=>{const s=mu(n.forced_plugins),o=mu(r.plugins),l=_7(t,"mobile"),f=l.plugins?mu(l.plugins):o,d=A7(e,t,o,f),g=k7(s,d);return pe.extend(r,{forced_plugins:s,plugins:g})},R7=(e,t)=>e&&ny(t,"mobile"),N7=(e,t,n,r,s)=>{var o;const l=e?{mobile:x7((o=s.mobile)!==null&&o!==void 0?o:{},t)}:{},f=S7(["mobile"],ph(l,s)),d=pe.extend(n,r,f.options(),R7(e,f)?E7(f,"mobile"):{},{external_plugins:T7(r,f.options())});return D7(e,f,r,d)},O7=(e,t)=>N7(HA||w7,HA,t,e,t),P7=(e,t)=>HW(e,t),$7=e=>{const t=(r,s)=>{e.formatter.toggle(r,s),e.nodeChanged()},n=r=>()=>{ue("left,center,right,justify".split(","),s=>{r!==s&&e.formatter.remove("align"+s)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},B7=e=>{const t=n=>()=>{const r=e.selection,s=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Xt(s,o=>fe(e.formatter.matchNode(o,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},F7=e=>{$7(e),B7(e)},I7=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let r;try{n.execCommand(t)}catch{r=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(r=!0),r||!n.queryCommandSupported(t)){let s=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(vt.os.isMacOS()||vt.os.isiOS())&&(s=s.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:s,type:"error"})}}})},L7=(e,t,n)=>{const r=U.fromDom(e.getRoot());return qc(r,re.fromRangeStart(t))?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Gc(r,re.fromRangeEnd(t))?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},M7=e=>{if(typeof e!="string"){const t=pe.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},z7=(e,t)=>{const n=e.selection,r=e.dom;return/^ | $/.test(t)?L7(r,n.getRng(),t):t},$h=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:r}=M7(t);zv(e,{...r,content:z7(e,n),format:"html",set:!1,selection:!0}).each(s=>{const o=UW(e,s.content,r);Uv(e,o,s),e.addVisual()})}},U7=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,r)=>{$h(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,r)=>{$h(e,e.dom.encode(r))},insertHTML:(t,n,r)=>{$h(e,r)},mceInsertContent:(t,n,r)=>{$h(e,r)},mceSetContent:(t,n,r)=>{e.setContent(r)},mceReplaceContent:(t,n,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},W7={"font-size":"size","font-family":"face"},H7=Jl("font"),j7=(e,t,n)=>{const r=o=>Hi(o,e).orThunk(()=>H7(o)?Bt(W7,e).bind(l=>Zr(o,l)):x.none()),s=o=>bt(U.fromDom(t),o);return bv(U.fromDom(n),o=>r(o),s)},V7=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),q7=(e,t)=>x.from(Dt.DOM.getStyle(t,e,!0)),jA=e=>(t,n)=>x.from(n).map(U.fromDom).filter(On).bind(r=>j7(e,t,r.dom).or(q7(e,r.dom))).getOr(""),G7=jA("font-size"),K7=Jt(V7,jA("font-family")),X7=e=>qn(e.getBody()).bind(t=>{const n=t.container();return x.from(ce(n)?n.parentNode:n)}),Y7=e=>x.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?x.none():x.from(e.selection.getStart(!0))}),J7=(e,t)=>Y7(e).orThunk(xe(X7,e)).map(U.fromDom).filter(On).bind(t),ry=(e,t)=>J7(e,qt(x.some,t)),VA=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const r=CP(e),s=wP(e);return s.length>0?s[n-1]||t:r[n-1]||t}else return t}else return t},Q7=e=>{const t=e.split(/\s*,\s*/);return mt(t,n=>n.indexOf(" ")!==-1&&!(gn(n,'"')||gn(n,"'"))?`'${n}'`:n).join(",")},Z7=(e,t)=>{const n=VA(e,t);e.formatter.toggle("fontname",{value:Q7(n)}),e.nodeChanged()},eG=e=>ry(e,t=>K7(e.getBody(),t.dom)).getOr(""),tG=(e,t)=>{e.formatter.toggle("fontsize",{value:VA(e,t)}),e.nodeChanged()},nG=e=>ry(e,t=>G7(e.getBody(),t.dom)).getOr(""),rG=e=>ry(e,t=>{const n=U.fromDom(e.getBody()),r=bv(t,o=>Hi(o,"line-height"),xe(bt,n)),s=()=>{const o=parseFloat(Mr(t,"line-height")),l=parseFloat(Mr(t,"font-size"));return String(o/l)};return r.getOrThunk(s)}).getOr(""),sG=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},oG=e=>{const t=(n,r)=>{e.formatter.toggle(n,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,r,s)=>{t(n,{value:s})},BackColor:(n,r,s)=>{t("hilitecolor",{value:s})},FontName:(n,r,s)=>{Z7(e,s)},FontSize:(n,r,s)=>{tG(e,s)},LineHeight:(n,r,s)=>{sG(e,s)},Lang:(n,r,s)=>{var o;t(n,{value:s.code,customValue:(o=s.customCode)!==null&&o!==void 0?o:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,r,s)=>{t(V(s)?s:"p")},mceToggleFormat:(n,r,s)=>{t(s)}})},aG=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>eG(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>nG(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>rG(e))},iG=e=>{oG(e),aG(e)},lG=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},cG=e=>{e.editorCommands.addCommands({Indent:()=>{OV(e)},Outdent:()=>{gT(e)}}),e.editorCommands.addCommands({Outdent:()=>dT(e)},"state")},uG=e=>{const t=(n,r,s)=>{const o=V(s)?{href:s}:s,l=e.dom.getParent(e.selection.getNode(),"a");be(o)&&V(o.href)&&(o.href=o.href.replace(/ /g,"%20"),(!l||!o.href)&&e.formatter.remove("link"),o.href&&e.formatter.apply("link",o,l))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")},mceInsertLink:t,createLink:t})},fG=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const r=n.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const s=e.selection.getBookmark();e.dom.split(r,n),e.selection.moveToBookmark(s)}}}})},dG=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&(t==="insertunorderedlist"&&n.tagName==="UL"||t==="insertorderedlist"&&n.tagName==="OL")}},"state")},hG=e=>{fG(e),dG(e)},mG=e=>{e.editorCommands.addCommands({insertParagraph:()=>{_h(xk,e)},mceInsertNewLine:(t,n,r)=>{Ok(e,r)},InsertLineBreak:(t,n,r)=>{_h(Ak,e)}})},pG=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,r)=>{let s=0;e.dom.getParent(e.selection.getNode(),o=>Ee(o)&&s++===r?(e.selection.select(o),!1):!0,e.getBody())},mceSelectNode:(t,n,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),ur);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},gG=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,r)=>{const s=r??e.selection.getNode();if(s!==e.getBody()){const o=e.selection.getBookmark();e.dom.remove(s,!0),e.selection.moveToBookmark(o)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,r)=>{RF(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},vG=e=>{F7(e),I7(e),lG(e),pG(e),U7(e),uG(e),cG(e),mG(e),hG(e),iG(e),gG(e)},bG=["toggleview"],qA=e=>kt(bG,e.toLowerCase());class GA{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,r,s){const o=this.editor,l=t.toLowerCase(),f=s==null?void 0:s.skip_focus;if(o.removed||(l!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(l)&&!f?o.focus():cF(o)),o.dispatch("BeforeExecCommand",{command:t,ui:n,value:r}).isDefaultPrevented()))return!1;const g=this.commands.exec[l];return Ke(g)?(g(l,n,r),o.dispatch("ExecCommand",{command:t,ui:n,value:r}),!0):!1}queryCommandState(t){if(!qA(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),r=this.commands.state[n];return Ke(r)?r(n):!1}queryCommandValue(t){if(!qA(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),r=this.commands.value[n];return Ke(r)?r(n):""}addCommands(t,n="exec"){const r=this.commands;Nt(t,(s,o)=>{ue(o.toLowerCase().split(","),l=>{r[n][l]=s})})}addCommand(t,n,r){const s=t.toLowerCase();this.commands.exec[s]=(o,l,f)=>n.call(r??this.editor,l,f)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,r){this.commands.state[t.toLowerCase()]=()=>n.call(r??this.editor)}addQueryValueHandler(t,n,r){this.commands.value[t.toLowerCase()]=()=>n.call(r??this.editor)}}const di="data-mce-contenteditable",yG=(e,t,n)=>{nc(e,t)&&!n?Fo(e,t):n&&Cr(e,t)},sy=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},Bh=(e,t)=>{e.dom.contentEditable=t?"true":"false"},CG=e=>{ue(Sn(e,'*[contenteditable="true"]'),t=>{Zt(t,di,"true"),Bh(t,!1)})},wG=e=>{ue(Sn(e,`*[${di}="true"]`),t=>{vn(t,di),Bh(t,!0)})},SG=e=>{x.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},EG=e=>{e.selection.setRng(e.selection.getRng())},_G=(e,t)=>{const n=U.fromDom(e.getBody());yG(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),SG(e),e.readonly=!0,Bh(n,!1),CG(n)):(e.readonly=!1,Bh(n,!0),wG(n),sy(e,"StyleWithCSS",!1),sy(e,"enableInlineTableEditing",!1),sy(e,"enableObjectResizing",!1),AF(e)&&e.focus(),EG(e),e.nodeChanged())},hi=e=>e.readonly,KA=e=>{e.parser.addAttributeFilter("contenteditable",t=>{hi(e)&&ue(t,n=>{n.attr(di,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(di,t=>{hi(e)&&ue(t,n=>{n.attr("contenteditable",n.attr(di))})}),e.serializer.addTempAttr(di)},xG=e=>{e.serializer?KA(e):e.on("PreInit",()=>{KA(e)})},TG=e=>e.type==="click",kG=["copy"],AG=e=>kt(kG,e.type),DG=(e,t)=>lo(t,"a",r=>bt(r,U.fromDom(e.getBody()))).bind(r=>Zr(r,"href")),RG=(e,t)=>{if(TG(t)&&!Re.metaKeyPressed(t)){const n=U.fromDom(t.target);DG(e,n).each(r=>{if(t.preventDefault(),/^#/.test(r)){const s=e.dom.select(`${r},[name="${Xu(r,"#")}"]`);s.length&&e.selection.scrollIntoView(s[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else AG(t)&&e.dispatch(t.type,t)},NG=e=>{e.on("ShowCaret",t=>{hi(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{hi(e)&&t.preventDefault()})},OG=pe.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class oy{constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ye}static isNative(t){return!!OG[t.toLowerCase()]}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const r=t.toLowerCase(),s=Lp(r,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(s);const o=this.bindings[r];if(o)for(let l=0,f=o.length;l<f;l++){const d=o[l];if(!d.removed){if(d.once&&this.off(r,d.func),s.isImmediatePropagationStopped())return s;if(d.func.call(this.scope,s)===!1)return s.preventDefault(),s}}return s}on(t,n,r,s){if(n===!1&&(n=Ye),n){const o={func:n,removed:!1};s&&pe.extend(o,s);const l=t.toLowerCase().split(" ");let f=l.length;for(;f--;){const d=l[f];let g=this.bindings[d];g||(g=[],this.toggleEvent(d,!0)),r?g=[o,...g]:g=[...g,o],this.bindings[d]=g}}return this}off(t,n){if(t){const r=t.toLowerCase().split(" ");let s=r.length;for(;s--;){const o=r[s];let l=this.bindings[o];if(!o)return Nt(this.bindings,(f,d)=>{this.toggleEvent(d,!1),delete this.bindings[d]}),this;if(l){if(!n)l.length=0;else{const f=ga(l,d=>d.func===n);l=f.fail,this.bindings[o]=l,ue(f.pass,d=>{d.removed=!0})}l.length||(this.toggleEvent(t,!1),delete this.bindings[o])}}}else Nt(this.bindings,(r,s)=>{this.toggleEvent(s,!1)}),this.bindings={};return this}once(t,n,r){return this.on(t,n,r,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const pu=e=>(e._eventDispatcher||(e._eventDispatcher=new oy({scope:e,toggleEvent:(t,n)=>{oy.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),ay={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Lp(e.toLowerCase(),t??{},r);const s=pu(r).dispatch(e,t);if(n!==!1&&r.parent){let o=r.parent();for(;o&&!s.isPropagationStopped();)o.dispatch(e,s,!1),o=o.parent?o.parent():void 0}return s},on(e,t,n){return pu(this).on(e,t,n)},off(e,t){return pu(this).off(e,t)},once(e,t){return pu(this).once(e,t)},hasEventListeners(e){return pu(this).has(e)}},Fh=Dt.DOM;let mi;const Ih=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=O0(e);return n?(e.eventRoot||(e.eventRoot=Fh.select(n)[0]),e.eventRoot):e.getBody()},PG=e=>!e.hidden&&!hi(e),XA=(e,t,n)=>{PG(e)?e.dispatch(t,n):hi(e)&&RG(e,n)},YA=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=Ih(e,t);if(O0(e)){if(mi||(mi={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||mi&&(Nt(mi,(s,o)=>{e.dom.unbind(Ih(e,o))}),mi=null)})),mi[t])return;const r=s=>{const o=s.target,l=e.editorManager.get();let f=l.length;for(;f--;){const d=l[f].getBody();(d===o||Fh.isChildOf(o,d))&&XA(l[f],t,s)}};mi[t]=r,Fh.bind(n,t,r)}else{const r=s=>{XA(e,t,s)};Fh.bind(n,t,r),e.delegates[t]=r}},JA={...ay,bindPendingEventDelegates(){const e=this;pe.each(e._pendingNativeEvents,t=>{YA(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?YA(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(Ih(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Nt(e.delegates,(r,s)=>{e.dom.unbind(Ih(e,s),s,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},$G=e=>V(e)?{value:e.split(/[ ,]/),valid:!0}:ft(e,V)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},BG=e=>{const t=(()=>{switch(e){case"array":return $e;case"boolean":return ut;case"function":return Ke;case"number":return Mt;case"object":return be;case"string":return V;case"string[]":return $G;case"object[]":return n=>ft(n,be);case"regexp":return n=>O(n,RegExp);default:return ht}})();return n=>iy(n,t,`The value must be a ${e}.`)},FG=e=>V(e.processor),QA=(e,t)=>{const n=no(t.message)?"":`. ${t.message}`;return e+n},ZA=e=>e.valid,iy=(e,t,n="")=>{const r=t(e);return ut(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},IG=(e,t,n)=>{if(!yt(t)){const r=iy(t,n);if(ZA(r))return r.value;console.error(QA(`Invalid default value passed for the "${e}" option`,r))}},LG=(e,t)=>{const n={},r={},s=(C,E,P)=>{const L=iy(E,P);return ZA(L)?(r[C]=L.value,!0):(console.warn(QA(`Invalid value passed for the ${C} option`,L)),!1)},o=(C,E)=>{const P=FG(E)?BG(E.processor):E.processor,L=IG(C,E.default,P);n[C]={...E,default:L,processor:P},Bt(r,C).orThunk(()=>Bt(t,C)).each(B=>s(C,B,P))},l=C=>Je(n,C);return{register:o,isRegistered:l,get:C=>Bt(r,C).orThunk(()=>Bt(n,C).map(E=>E.default)).getOrUndefined(),set:(C,E)=>{if(l(C)){const P=n[C];return P.immutable?(console.error(`"${C}" is an immutable option and cannot be updated`),!1):s(C,E,P.processor)}else return console.warn(`"${C}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:C=>{const E=l(C);return E&&delete r[C],E},isSet:C=>Je(r,C)}},MG=["design","readonly"],e1=(e,t,n,r)=>{const s=n[t.get()],o=n[r];try{o.activate()}catch(l){console.error(`problem while activating editor mode ${r}:`,l);return}s.deactivate(),s.editorReadOnly!==o.editorReadOnly&&_G(e,o.editorReadOnly),t.set(r),q$(e,r)},zG=(e,t,n,r)=>{if(r!==n.get()){if(!Je(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?e1(e,n,t,r):e.on("init",()=>e1(e,n,t,r))}},UG=(e,t,n)=>{if(kt(MG,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},WG=e=>{const t=yn("design"),n=yn({design:{activate:ze,deactivate:ze,editorReadOnly:!1},readonly:{activate:ze,deactivate:ze,editorReadOnly:!0}});return xG(e),NG(e),{isReadOnly:()=>hi(e),set:r=>zG(e,n.get(),t,r),get:()=>t.get(),register:(r,s)=>{n.set(UG(n.get(),r,s))}}},ly=pe.each,cy=pe.explode,HG={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},t1=pe.makeMap("alt,ctrl,shift,meta,access"),jG=e=>e in t1,VG=e=>{const t={},n=vt.os.isMacOS()||vt.os.isiOS();ly(cy(e.toLowerCase(),"+"),o=>{jG(o)?t[o]=!0:/^[0-9]{2,}$/.test(o)?t.keyCode=parseInt(o,10):(t.charCode=o.charCodeAt(0),t.keyCode=HG[o]||o.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let s;for(s in t1)t[s]?r.push(s):t[s]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class n1{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",r=>{(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&(ly(n.shortcuts,s=>{n.matchShortcut(r,s)&&(n.pendingPatterns=s.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(s))}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,r,s){const o=this,l=o.normalizeCommandFunc(r);return ly(cy(pe.trim(t)),f=>{const d=o.createShortcut(f,n,l,s);o.shortcuts[d.id]=d}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,r=t;return typeof r=="string"?()=>{n.editor.execCommand(r,!1,null)}:pe.isArray(r)?()=>{n.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,n,r,s){const o=pe.map(cy(t,">"),VG);return o[o.length-1]=pe.extend(o[o.length-1],{func:r,scope:s||this.editor}),pe.extend(o[0],{desc:this.editor.translate(n),subpatterns:o.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const qG=()=>{const e={},t={},n={},r={},s={},o={},l={},f={},d=(w,C)=>(E,P)=>{w[E.toLowerCase()]={...P,type:C}},g=(w,C)=>r[w.toLowerCase()]=C;return{addButton:d(e,"button"),addGroupToolbarButton:d(e,"grouptoolbarbutton"),addToggleButton:d(e,"togglebutton"),addMenuButton:d(e,"menubutton"),addSplitButton:d(e,"splitbutton"),addMenuItem:d(t,"menuitem"),addNestedMenuItem:d(t,"nestedmenuitem"),addToggleMenuItem:d(t,"togglemenuitem"),addAutocompleter:d(n,"autocompleter"),addContextMenu:d(s,"contextmenu"),addContextToolbar:d(o,"contexttoolbar"),addContextForm:d(o,"contextform"),addSidebar:d(l,"sidebar"),addView:d(f,"views"),addIcon:g,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:n,contextMenus:s,contextToolbars:o,sidebars:l,views:f})}},GG=()=>{const e=qG();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},pi=Dt.DOM,r1=pe.extend,KG=pe.each;class Lh{constructor(t,n,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,r1(this,JA);const s=this;this.id=t,this.hidden=!1;const o=O7(r.defaultOptions,n);this.options=LG(s,o),aO(s);const l=this.options.get;l("deprecation_warnings")&&DH(n,o);const f=l("suffix");f&&(r.suffix=f),this.suffix=r.suffix;const d=l("base_url");d&&r._setBaseUrl(d),this.baseUri=r.baseURI;const g=eg(s);g&&(vo.ScriptLoader._setReferrerPolicy(g),Dt.DOM.styleSheetLoader._setReferrerPolicy(g));const w=$0(s);fe(w)&&Dt.DOM.styleSheetLoader._setContentCssCors(w),Fn.languageLoad=l("language_load"),Fn.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new us(E0(s),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=ng(s),this.hasVisual=KO(s),this.shortcuts=new n1(this),this.editorCommands=new GA(this),vG(this);const C=l("cache_suffix");C&&(vt.cacheSuffix=C.replace(/^[\?\&]+/,"")),this.ui={registry:GG(),styleSheetLoader:void 0,show:ze,hide:ze,setEnabled:ze,isEnabled:ht},this.mode=WG(s),r.dispatch("SetupEditor",{editor:this});const E=JO(s);Ke(E)&&E.call(s,s)}render(){y7(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return ri(this)}translate(t){return as.translate(t)}getParam(t,n,r){const s=this.options;return s.isRegistered(t)||(fe(r)?s.register(t,{processor:r,default:n}):s.register(t,{processor:ht,default:n})),!s.isSet(t)&&!yt(n)?n:s.get(t)}hasPlugin(t,n){return kt(hd(this),t)?n?gl.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,r){this.editorCommands.addCommand(t,n,r)}addQueryStateHandler(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)}addQueryValueHandler(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)}addShortcut(t,n,r,s){this.shortcuts.add(t,n,r,s)}execCommand(t,n,r,s){return this.editorCommands.execCommand(t,n,r,s)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(pi.show(t.getContainer()),pi.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(pi.hide(t.getContainer()),pi.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,r=n.getElement();if(n.removed)return"";if(r){const s={...t,load:!0},o=mc(r)?r.value:r.innerHTML,l=n.setContent(o,s);return s.no_events||n.dispatch("LoadContent",{...s,element:r}),l}else return""}save(t={}){const n=this;let r=n.getElement();if(!r||!n.initialized||n.removed)return"";const s={...t,save:!0,element:r};let o=n.getContent(s);const l={...s,content:o};if(l.no_events||n.dispatch("SaveContent",l),l.format==="raw"&&n.dispatch("RawSaveContent",l),o=l.content,mc(r))r.value=o;else{(t.is_removing||!n.inline)&&(r.innerHTML=o);const f=pi.getParent(n.id,"form");f&&KG(f.elements,d=>d.name===n.id?(d.value=o,!1):!0)}return l.element=s.element=r=null,l.set_dirty!==!1&&n.setDirty(!1),o}setContent(t,n){return Xv(this,t,n)}getContent(t){return gH(this,t)}insertContent(t,n){n&&(t=r1({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?Xv(this,this.startContent,{format:"raw"}):Xv(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||pi.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=pi.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const r=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:r==null?void 0:r.body)!==null&&n!==void 0?n:null}convertURL(t,n,r){const s=this,o=s.options.get,l=ZO(s);return Ke(l)?l.call(s,t,r,!0,n):!o("convert_urls")||r==="link"||be(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:o("relative_urls")?s.documentBaseURI.toRelative(t):(t=s.documentBaseURI.toAbsolute(t,o("remove_script_host")),t)}addVisual(t){P7(this,t)}remove(){PH(this)}destroy(t){$H(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Sl=Dt.DOM,Mh=pe.each;let s1=!1,zh,Kn=[];const Uh=e=>{const t=e.type;Mh(ca.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},o1=e=>{if(e!==s1){const t=Dt.DOM;e?(t.bind(window,"resize",Uh),t.bind(window,"scroll",Uh)):(t.unbind(window,"resize",Uh),t.unbind(window,"scroll",Uh)),s1=e}},a1=e=>{const t=Kn;return Kn=He(Kn,n=>e!==n),ca.activeEditor===e&&(ca.activeEditor=Kn.length>0?Kn[0]:null),ca.focusedEditor===e&&(ca.focusedEditor=null),t.length!==Kn.length},XG=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(a1(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},YG=document.compatMode!=="CSS1Compat",ca={...ay,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.1",releaseDate:"2023-03-29",i18n:as,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",r=us.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const s=window.tinymce||window.tinyMCEPreInit;if(s)t=s.base||s.baseURL,n=s.suffix;else{const o=document.getElementsByTagName("script");for(let l=0;l<o.length;l++){const f=o[l].src||"";if(f==="")continue;const d=f.substring(f.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){d.indexOf(".min")!==-1&&(n=".min"),t=f.substring(0,f.lastIndexOf("/"));break}}if(!t&&document.currentScript){const l=document.currentScript.src;l.indexOf(".min")!==-1&&(n=".min"),t=l.substring(0,l.lastIndexOf("/"))}}e.baseURL=new us(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new us(e.baseURL),e.suffix=n,CF(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Nt(r,(s,o)=>{Fn.PluginManager.urls[o]=s})},init(e){const t=this;let n;const r=pe.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),s=(w,C)=>w.inline&&C.tagName.toLowerCase()in r,o=w=>{let C=w.id;return C||(C=Bt(w,"name").filter(E=>!Sl.get(E)).getOrThunk(Sl.uniqueId),w.setAttribute("id",C)),C},l=w=>{const C=e[w];if(C)return C.apply(t,[])},f=w=>vt.browser.isIE()||vt.browser.isEdge()?(rh("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):YG?(rh("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):V(w.selector)?Sl.select(w.selector):fe(w.target)?[w.target]:[];let d=w=>{n=w};const g=()=>{let w=0;const C=[];let E;const P=(L,k,B)=>{const j=new Lh(L,k,t);C.push(j),j.on("init",()=>{++w===E.length&&d(C)}),j.targetElm=j.targetElm||B,j.render()};Sl.unbind(window,"ready",g),l("onpageload"),E=_i(f(e)),pe.each(E,L=>{XG(t.get(L.id))}),E=pe.grep(E,L=>!t.get(L.id)),E.length===0?d([]):Mh(E,L=>{s(e,L)?rh("Could not initialize inline editor on invalid inline target element",L):P(o(L),e,L)})};return Sl.bind(window,"ready",g),new Promise(w=>{n?w(n):d=C=>{w(C)}})},get(e){return arguments.length===0?Kn.slice(0):V(e)?Qt(Kn,t=>t.id===e).getOr(null):Mt(e)&&Kn[e]?Kn[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&Kn.push(e),o1(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),zh||(zh=r=>{const s=t.dispatch("BeforeUnload");if(s.returnValue)return r.preventDefault(),r.returnValue=s.returnValue,s.returnValue},window.addEventListener("beforeunload",zh))),e},createEditor(e,t){return this.add(new Lh(e,t,this))},remove(e){const t=this;let n;if(!e){for(let r=Kn.length-1;r>=0;r--)t.remove(Kn[r]);return}if(V(e)){Mh(Sl.select(e),r=>{n=t.get(r.id),n&&t.remove(n)});return}return n=e,tt(t.get(n.id))?null:(a1(n)&&t.dispatch("RemoveEditor",{editor:n}),Kn.length===0&&window.removeEventListener("beforeunload",zh),n.remove(),o1(Kn.length>0),n)},execCommand(e,t,n){var r;const s=this,o=be(n)?(r=n.id)!==null&&r!==void 0?r:n.index:n;switch(e){case"mceAddEditor":{if(!s.get(o)){const l=n.options;new Lh(o,l,s).render()}return!0}case"mceRemoveEditor":{const l=s.get(o);return l&&l.remove(),!0}case"mceToggleEditor":{const l=s.get(o);return l?(l.isHidden()?l.show():l.hide(),!0):(s.execCommand("mceAddEditor",!1,n),!0)}}return s.activeEditor?s.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{Mh(Kn,e=>{e.save()})},addI18n:(e,t)=>{as.add(e,t)},translate:e=>as.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new us(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new us(this.baseURL)}};ca.setup();const JG=(()=>{const e=Jo(),t=o=>({items:o,types:Wn(o),getType:l=>Bt(o,l).getOrUndefined()}),n=o=>{e.set(o)},r=()=>e.get().getOrUndefined(),s=e.clear;return{FakeClipboardItem:t,write:n,read:r,clear:s}})(),i1=Math.min,El=Math.max,Wh=Math.round,l1=(e,t,n)=>{let r=t.x,s=t.y;const o=e.w,l=e.h,f=t.w,d=t.h,g=(n||"").split("");return g[0]==="b"&&(s+=d),g[1]==="r"&&(r+=f),g[0]==="c"&&(s+=Wh(d/2)),g[1]==="c"&&(r+=Wh(f/2)),g[3]==="b"&&(s-=l),g[4]==="r"&&(r-=o),g[3]==="c"&&(s-=Wh(l/2)),g[4]==="c"&&(r-=Wh(o/2)),_l(r,s,o,l)},QG=(e,t,n,r)=>{for(let s=0;s<r.length;s++){const o=l1(e,t,r[s]);if(o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[s]}return null},ZG=(e,t,n)=>_l(e.x-t,e.y-n,e.w+t*2,e.h+n*2),e9=(e,t)=>{const n=El(e.x,t.x),r=El(e.y,t.y),s=i1(e.x+e.w,t.x+t.w),o=i1(e.y+e.h,t.y+t.h);return s-n<0||o-r<0?null:_l(n,r,s-n,o-r)},t9=(e,t,n)=>{let r=e.x,s=e.y,o=e.x+e.w,l=e.y+e.h;const f=t.x+t.w,d=t.y+t.h,g=El(0,t.x-r),w=El(0,t.y-s),C=El(0,o-f),E=El(0,l-d);return r+=g,s+=w,n&&(o+=g,l+=w,r-=C,s-=E),o-=C,l-=E,_l(r,s,o-r,l-s)},_l=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),n9={inflate:ZG,relativePosition:l1,findBestRelativePosition:QG,intersect:e9,clamp:t9,create:_l,fromClientRect:e=>_l(e.left,e.top,e.width,e.height)},r9=(e,t,n=1e3)=>{let r=!1,s=null;const o=g=>(...w)=>{r||(r=!0,s!==null&&(clearTimeout(s),s=null),g.apply(null,w))},l=o(e),f=o(t);return{start:(...g)=>{!r&&s===null&&(s=setTimeout(()=>f.apply(null,g),n))},resolve:l,reject:f}},s9=(()=>{const e={},t={};return{load:(o,l)=>{const f=`Script at URL "${l}" failed to load`,d=`Script at URL "${l}" did not call \`tinymce.Resource.add('${o}', data)\` within 1 second`;if(e[o]!==void 0)return e[o];{const g=new Promise((w,C)=>{const E=r9(w,C);t[o]=E.resolve,vo.ScriptLoader.loadScript(l).then(()=>E.start(d),()=>E.reject(f))});return e[o]=g,g}},add:(o,l)=>{t[o]!==void 0&&(t[o](l),delete t[o]),e[o]=Promise.resolve(l)},unload:o=>{delete e[o]}}})(),o9=()=>(()=>{let e={},t=[];const n={getItem:r=>{const s=e[r];return s||null},setItem:(r,s)=>{t.push(r),e[r]=String(s)},key:r=>t[r],removeItem:r=>{t=t.filter(s=>s===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let gu;try{const e="__storage_test__";gu=window.localStorage,gu.setItem(e,e),gu.removeItem(e)}catch{gu=o9()}var a9=gu;const i9={geom:{Rect:n9},util:{Delay:Tr,Tools:pe,VK:Re,URI:us,EventDispatcher:oy,Observable:ay,I18n:as,LocalStorage:a9,ImageUploader:fj},dom:{EventUtils:ja,TreeWalker:sn,TextSeeker:Ga,DOMUtils:Dt,ScriptLoader:vo,RangeUtils:ni,Serializer:Y_,StyleSheetLoader:wC,ControlSelection:zw,BookmarkManager:Uc,Selection:X_,Event:ja.Event},html:{Styles:Ip,Entities:Xo,Node:Gn,Schema:Yo,DomParser:ml,Writer:_S,Serializer:na},Env:vt,AddOnManager:Fn,Annotator:Nw,Formatter:fx,UndoManager:hx,EditorCommands:GA,WindowManager:rx,NotificationManager:nx,EditorObservable:JA,Shortcuts:n1,Editor:Lh,FocusManager:cS,EditorManager:ca,DOM:Dt.DOM,ScriptLoader:vo.ScriptLoader,PluginManager:gl,ThemeManager:ui,ModelManager:pl,IconManager:th,Resource:s9,FakeClipboard:JG,trim:pe.trim,isArray:pe.isArray,is:pe.is,toArray:pe.toArray,makeMap:pe.makeMap,each:pe.each,map:pe.map,grep:pe.grep,inArray:pe.inArray,extend:pe.extend,walk:pe.walk,resolve:pe.resolve,explode:pe.explode,_addCacheSuffix:pe._addCacheSuffix},c1=pe.extend(ca,i9),l9=e=>{try{a.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(c1),l9(c1)})()})(_X);$(document).on("click",".select-component",function(a){a.preventDefault(),$(this).closest("div.component-div").find("input[name='web_component[]']").val(),$(this).hasClass("selected")?($(this).removeClass("selected"),$(this).closest("div.component-div").removeClass("bg-success").addClass("bg-light"),$(this).closest("div.component-div").find("input[type=checkbox]").removeAttr("checked")):($(this).closest("div.component-div").addClass("bg-success").removeClass("bg-light"),$(this).addClass("selected"),$(this).closest("div.component-div").find("input[type=checkbox]").attr("checked",!0))});window.componentRenderElement=function(a){let i=`<input type='hidden' name='component' value='${a.current_component}' />`;$("#component-render").find("div").remove(),$("#component-render").find('input[name="component"]').remove(),$("#component-render").append(i),$("#component-render").append(a.view),window.setupTinyMce(),$("#component-render").find("select").length&&$.each($("#component-render").find("select"),function(c,u){window.ajaxReinitalize(u)})};$(document).on("click",".clone-component",function(a){a.preventDefault();let i=$(this).closest("div.clone_element"),c=$(i).clone();$(c).removeClass("clone_element"),$(c).find(".clone-component").addClass("d-none"),$(c).find(".remove-clone-component").removeClass("d-none"),$(i).parent("div").append(c)});$(document).on("click",".remove-clone-component",function(a){a.preventDefault(),$(this).closest("div.row").fadeOut("fast").remove()});$(".mansonry-design-component-preview-wrapper").length&&new EX(".mansonry-design-component-preview");$(".component-position-save").length&&$(document).on("click",".component-position-save",function(a){a.preventDefault();let i=$(this).closest("tr").find("select"),c=$(i).find(":selected"),u=[];$.each(c,function(h,m){u.push($(m).val())}),$.ajax({method:"POST",url:$(i).attr("data-action"),data:{widgets:u},success:function(h){handleOKResponse(h)},error:function(h){handleBadResponse(h)}})});$(document).on("click",".clone_accordian_component",function(a){a.preventDefault();let i=$(this).closest("div.first_accordian"),c=$(i).clone();$(c).removeClass("first_accordian"),$(c).find(".tox-tinymce").remove(),$(c).find("textarea").fadeIn("fast").attr("id","tinyID_"+Math.random().toString(36).slice(-8)),$(i).parent("div").append(c),$(c).find(".clone_accordian_component").addClass("d-none"),$(c).find(".remove_accordian_component").removeClass("d-none"),window.setupTinyMce()});$(document).on("click",".remove_accordian_component",function(a){a.preventDefault(),$(this).closest("div.row").fadeOut("fast").remove()});$(document).on("blur",".component-name-change",function(a){a.preventDefault();let i=this,c={name:$(this).val(),active_component_status:$(this).closest("div").find('input[name="active_component_status"]').is(":checked")?1:0};$(this).attr("disabled",!0),$.ajax({method:"POST",data:c,url:$(this).attr("data-action"),success:function(u){handleOKResponse(u),$(i).attr("disabled",!1)},error:function(u){handleBadResponse(u),$(i).attr("disabled",!1)}})});$(document).on("click",'input[name="active_component_status"]',function(a){let i=this,c={name:$(this).closest("div.row").find(".component-name-change").val(),active_component_status:$(this).is(":checked")?1:0};$(this).attr("disabled",!0),$.ajax({method:"POST",data:c,url:$(this).closest("div.row").find(".component-name-change").attr("data-action"),success:function(u){handleOKResponse(u),$(i).attr("disabled",!1)},error:function(u){handleBadResponse(u),$(i).attr("disabled",!1)}})});$(document).on("change",".component_card_media_type",function(a){let i=$(this).find(":selected").val(),c=$(this).closest("div.row");i||($(c).find(".component_card_image_selector").addClass("d-none"),$(c).find(".component_card_video_selector").addClass("d-none")),console.log("selected vlue: ",i),console.log("clsoest element: ",c),i=="video"&&($(c).find(".component_card_video_selector").removeClass("d-none"),$(c).find(".component_card_image_selector").addClass("d-none")),i=="image"&&($(c).find(".component_card_image_selector").removeClass("d-none"),$(c).find(".component_card_video_selector").addClass("d-none"))});$(document).on("change",".project-list-type-selector",function(a){a.preventDefault();let i=$(this).find(":selected").val();$("."+i).length&&($(".type_selector_div").fadeOut("fast",function(){$(this).addClass("d-none")}),$("."+i).fadeIn("fast",function(){$(this).removeClass("d-none")}))});window.componentContactPreview=function(a){let i=$(a).attr("name")+"_preview",c=$(".contact-preview-sample-area").find("."+i);$(c).is("div")&&$(c).empty().html($(a).val()),($(c).is("input")||$(c).is("textarea"))&&$(c).attr("placeholder",$(a).val()),$(c).is("button")&&$(c).text($(a).val())};var hm,nR,Gr,Gs,ku,Py;class xX{constructor(i,c=null){Vh(this,hm);Vh(this,Gr);Vh(this,ku);this.container=$(i),c!==null&&(this.options=c),this.component=$(i).data("modal"),$r(this,hm,nR).call(this)}fetchAndUpdate(i,c="componentView",u={}){let h=this;return $r(this,Gr,Gs).call(this,!0),$r(this,ku,Py).call(this,c,u).then(function(m){var p;i.html(m),$r(p=h,Gr,Gs).call(p,!1)})}fetchAndUpdateView(i,c="componentView",u={}){console.log("elm: ",i)}selectComponent(i){$r(this,Gr,Gs).call(this,!0);let c=this;$r(this,ku,Py).call(this,$(i).data("url")).then(function(u){var h;$(c.container).find(".component-builder-loader").html(u.params.view),$(c.container).find("button.action-button").length&&$(c.container).find('input[name="_source-option-id"]').length&&$(c.container).find("button.action-button").html("Save Component"),$r(h=c,Gr,Gs).call(h,!1)})}saveNewComponent(){$r(this,Gr,Gs).call(this,!0);let i=this,c=$(this.container).find(".component_field");const u=new FormData;let h=$(this.container).find('input[name="_component_name"]').val();$.each(c,function(m,p){$(p).val()?$(p).is(":checkbox")?(console.log($(p)),$(p).is(":checked")&&u.append($(p).attr("name"),$(p).val())):($(p).is("textarea")&&$(p).hasClass("tiny-mce")&&(console.log("ddd",tinyMCE.get($(p).attr("id")).getContent()),u.append($(p).attr("name"),tinyMCE.get($(p).attr("id")).getContent())),u.append($(p).attr("name"),$(p).val())):u.append($(p).attr("name"),$(p).text())}),axios.post("/admin/components/common/build-save/"+h,u).then(function(m){let p=m.data;window.handleOKResponse(p)}).catch(function(m){var p;$r(p=i,Gr,Gs).call(p,!1),window.handleBadResponse(m.data)})}updateComponent(){$r(this,Gr,Gs).call(this,!0);let i=this,c=$(this.container).find(".component_field");const u=new FormData;let h=$(this.container).find('input[name="_source-option-id"]').val();$.each(c,function(m,p){$(p).val()?$(p).is(":checkbox")?$(p).is(":checked")&&u.append($(p).attr("name"),$(p).val()):($(p).is("textarea")&&$(p).hasClass("tiny-mce")&&(console.log("dd",tinyMCE.get($(p).attr("id")).getContent()),u.append($(p).attr("name"),tinyMCE.get($(p).attr("id")).getContent())),u.append($(p).attr("name"),$(p).val())):u.append($(p).attr("name"),$(p).html())}),console.log("hello wolrd"),axios.post("/admin/components/common/build-update/"+h,u).then(function(m){let p=m.data;window.handleOKResponse(p)}).catch(function(m){var v;$r(v=i,Gr,Gs).call(v,!1);let p=m.data;window.handleBadResponse(p)})}removeComponent(i){$r(this,Gr,Gs).call(this,!0);let c=$(i).attr("data-component-id"),u=$(this.container).find('input[name="_source-option-id"]').val();axios.post("/admin/components/common/delete-component/"+u+"/"+c).then(function(h){let m=h.data;window.handleOKResponse(m)})}}hm=new WeakSet,nR=function(){this.fetchAndUpdateView(this.container)},Gr=new WeakSet,Gs=function(i){i?($("input,select,textarea,button").prop("disabled",!0),$("#componentBuilder__main .loader-element").removeClass("d-none")):($("#componentBuilder__main .loader-element").removeClass("d-none"),$("input,select,textarea,button").prop("disabled",!1))},ku=new WeakSet,Py=function(i="",c="componentView",u={}){return axios.get(i,{params:u}).then(function(h){if(h.status===200)return h.data})};$("#commonComponentBuilder").length&&(window.CB=new xX($("#commonComponentBuilder")));$("select[name='intro_video']").length&&$(document).on("change",'select[name="intro_video"]',function(a){a.preventDefault();let i=$(this).find(":selected").val();if(i==""){$(".intro_video_type").addClass("d-none");return}console.log("current_ value",i),$(".intro_video_type").find(".video_type").addClass("d-none"),$("."+i).removeClass("d-none"),$(".intro_video_type").removeClass("d-none")});$("select[name='permission']").length&&$(document).on("change",'select[name="permission"]',function(a){let i=$(this).find(":selected").val();$(".organisation").addClass("d-none"),$(".student").addClass("d-none"),$(".teacher").addClass("d-none"),i=="organisation"&&($(".organisation").removeClass("d-none"),$(".student").removeClass("d-none"),$(".teacher").removeClass("d-none")),i=="teacher"&&$(".teacher").removeClass("d-none"),i=="student"&&$(".student").removeClass("d-none")});$(".lession_video_type").length&&$(document).on("click",".lession_video_type",function(a){let i=$(this).is(":checked"),c=$(this).attr("name");c=="enable_vimeo_video"&&(i==!0?$(".lession_vimeo_link").removeClass("d-none"):$(".lession_vimeo_link").addClass("d-none")),c=="enable_youtube_video"&&(i==!0?$(".lession_youtube_link").removeClass("d-none"):$(".lession_youtube_link").addClass("d-none")),c=="enable_preview"&&(i==!0?$(".preview_link").removeClass("d-none"):$(".preview_link").addClass("d-none"))});$(document).on("change","select.lession-course-selection",function(a){$(this).find(":selected").val();let c=$(this).attr("data-action")+"/"+$(this).find(":selected").val();$(this).attr("data-chapter")&&(c+="/"+$(this).attr("data-chapter"));let u=$("<select>");u.addClass("form-control","chapter-ajax"),u.attr("name","chapter"),$(this).find(".remove-after-click").remove().trigger("change"),$.ajax({type:"get",url:c,success:function(h){h.count_filtered>=1&&($.each(h.results,function(m,p){let v=$("<option>");v.attr("value",p.id),v.text(p.text),u.append(v)}),$(".chapter-group").find("select").remove(),$(".chapter-group").find("span").remove(),$(".chapter-group").append(u),window.ajaxReinitalize(u))}})});$(document).on("change",".order_status_update",function(a){a.preventDefault();let i=$(this).find(":selected").val();$(".order_status_options").addClass("d-none"),$("."+i).length>=1&&$("."+i).removeClass("d-none");let c=$(this).closest("form").attr("data-action");$(this).closest("form").attr("action",c+"/status"),$(this).closest("form").trigger("submit")});$("div.order_status_options").on("change",":input",function(a){a.preventDefault();let i=$(this).closest("form").attr("data-action");$(this).closest("form").attr("action",i+"/status"),$(this).closest("form").trigger("submit")});$(document).on("focusout",'textarea[name="order_note"]',function(a){let i=$(this).closest("form").attr("data-action");$(this).closest("form").attr("action",i+"/note"),$(this).closest("form").trigger("submit")});window.orderLogAPI=function(){let a=$(".log-tbody"),i="";$.ajax({method:"GET",url:$(a).attr("data-action"),success:function(c){$.each(c,function(u,h){i+=`
                    <tr>
                        <td>
                            ${h.type}
                        </td>
                        <td>
                            ${h.admin_user_id}
                        </td>
                        <td>
                            ${h.message}
                        </td>
                        <td>
                            ${h.date}
                        </td>
                    </tr>
                `}),console.log("items; ",i),$(a).empty().html(i)}})};$(".datatable-sortable-component").sortable({handle:".sortable-handle",update:function(a,i){let c={};$(this).find("[data-sort-id]").each(function(h,m){c[$(m).attr("data-sort-id")]=h});let u=$(this).closest(".component-parent").attr("data-action");$.ajax({method:"POST",url:u,data:c,headers:{"X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content")},success:function(h){handleOKResponse(h)},error:function(h){}})}});$(".datatable-lister-sortable").length&&($("table.datatable-lister-sortable>tbody").sortable({handle:".sortable-handle",start:function(a,i){let c=i.item.attr("data-sort-id");var u=i.item.closest("tbody");if(u.length){var h=u.find("[data-parent-id='"+c+"']");i.item.data("child-trs",h)}},sort:function(a,i){var c=i.item.data("child-trs");c&&c.length&&c.insertAfter(i.placeholder)},update:function(a,i){let c={};$(this).find("[data-sort-id]").each(function(h,m){c[$(m).attr("data-sort-id")]=h});let u=$(this).closest("table").attr("data-action");$.ajax({method:"POST",url:u,data:c,headers:{"X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content")},success:function(h){handleOKResponse(h)},error:function(h){}})}}),$("table.datatable-lister-sortable").sortable({handle:".child-sortable-handle",connectWith:".parent",items:"tr.children",update:function(a,i){let c={},u=i.item[0];$(this).find("[data-child-sort]").each(function(m,p){c[$(p).attr("data-child-sort")]=m}),$(this).find('tr[data-sort-id="'+$(u).attr("data-parent-id")+'"]');let h=$(this).closest("table").attr("data-action");h+="/"+$(u).attr("data-parent-id"),$.ajax({method:"POST",url:h,data:c,headers:{"X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content")},success:function(m){handleOKResponse(m)},error:function(m){}})}}));$(document).on("change","#same_as_billing",function(a){$(this).is(":checked")==!0?$(".delivery_address_field").fadeOut("fast"):$(".delivery_address_field").fadeIn("fast")});$(document).on("change",".update_application_media",function(a){a.preventDefault();let i=$(this).find(":selected").val();console.log("value : ",i),i&&$.ajax({method:$(this).attr("data-method"),url:$(this).attr("data-action"),data:{status:i},success:function(c){window.handleOKResponse(c)},error:function(c){window.handleBADResponse(c)}})});$(function(){if($.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(".ajax-append").each(function(){$(this).append(`<input type='hidden' name='_token' value='${$("meta[name=csrf-token]").attr("content")}' />`)}),$(".loader-wrapper").fadeOut("slow",function(){setTimeout(function(){$(this).remove()},100)}),$(".tap-top").on("click",function(){return $("html, body").animate({scrollTop:0},600),!1}),$(window).on("scroll",function(){$(this).scrollTop()>600?$(".tap-top").fadeIn():$(".tap-top").fadeOut()}),$(".chat-menu-icons .toogle-bar").on("click",function(){$(".chat-menu").toggleClass("show")}),$(".mobile-title svg").on("click",function(){$(".header-mega").toggleClass("d-block")}),$(".onhover-dropdown").on("click",function(){$(this).children(".onhover-show-div").toggleClass("active")}),$("#flip-btn").on("click",function(){$(".flip-card-inner").addClass("flipped")}),$("#flip-back").on("click",function(){$(".flip-card-inner").removeClass("flipped")}),$(".toggle-menu").on("click",function(){$(".landing-menu").toggleClass("open")}),$(".menu-back").on("click",function(){$(".landing-menu").toggleClass("open")}),$(".md-sidebar-toggle").on("click",function(){$(".md-sidebar-aside").toggleClass("open")}),$(".color-selector ul li ").on("click",function(M){$(".color-selector ul li").removeClass("active"),$(this).addClass("active")}),$(document).on("click",function(M){var Q=$(".outside");!Q.is(M.target)&&Q.has(M.target).length===0&&($(".menu-to-be-close").removeClass("d-block"),$(".menu-to-be-close").css("display","none"))}),$(".page-wrapper").hasClass("horizontal-wrapper")&&($(".sidebar-list").hover(function(){$(this).addClass("hoverd")},function(){$(this).removeClass("hoverd")}),$(window).on("scroll",function(){$(this).scrollTop()<600&&$(".sidebar-list").removeClass("hoverd")})),$(".show-hide").show(),$(".show-hide span").addClass("show"),$(".show-hide span").on("click",function(){$(this).hasClass("show")?($(".show-password").attr("type","text"),$(this).removeClass("show")):($(".show-password").attr("type","password"),$(this).addClass("show"))}),$('form button[type="submit"]').on("click",function(){$(".show-hide span").addClass("show"),$(".show-hide").parent().find('input[name="login[password]"]').attr("type","password")}),$(".bg-center").parent().addClass("b-center"),$(".bg-img-cover").parent().addClass("bg-size"),$(".bg-img-cover").each(function(){var M=$(this),Q=M.attr("src"),X=M.parent();X.css({"background-image":"url("+Q+")","background-size":"cover","background-position":"center",display:"block"}),M.hide()}),$(".mega-menu-container").css("display","none"),$(".header-search").on("click",function(){$(".search-full").addClass("open")}),$(".close-search").on("click",function(){$(".search-full").removeClass("open"),$("body").removeClass("offcanvas")}),$(".mobile-toggle").on("click",function(){$(".nav-menus").toggleClass("open")}),$(".bookmark-search").on("click",function(){$(".form-control-search").toggleClass("open")}),$(".filter-toggle").on("click",function(){$(".product-sidebar").toggleClass("open")}),$(".toggle-data").on("click",function(){$(".product-wrapper").toggleClass("sidebaron")}),$(".mobile-search").on("click",function(){$(".form-control").toggleClass("open")}),$(".form-control-search input").keyup(function(M){M.target.value?$(".page-wrapper").addClass("offcanvas-bookmark"):$(".page-wrapper").removeClass("offcanvas-bookmark")}),$(".search-full input").keyup(function(M){console.log(M.target.value),M.target.value?$("body").addClass("offcanvas"):$("body").removeClass("offcanvas")}),$(document).on("keydown",function(M){M.ctrlKey}),$(".toggle-nav").on("click",function(){$("#sidebar-links .nav-menu").css("left","0px")}),$(".mobile-back").on("click",function(){$("#sidebar-links .nav-menu").css("left","-410px")}),$(".page-wrapper").attr("class","page-wrapper "+localStorage.getItem("page-wrapper")),localStorage.getItem("page-wrapper")===null&&$(".page-wrapper").addClass("compact-wrapper"),$("#pageWrapper").hasClass("compact-wrapper"))$(".sidebar-title").append('<div class="according-menu"><i class="fa fa-angle-right"></i></div>'),$(".sidebar-title").on("click",function(){$(".sidebar-title").removeClass("active").find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-right"></i></div>'),$(".sidebar-submenu, .menu-content").slideUp("normal"),$(".menu-content").slideUp("normal"),$(this).next().is(":hidden")==!0?($(this).addClass("active"),$(this).find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-down"></i></div>'),$(this).next().slideDown("normal")):$(this).find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-right"></i></div>')}),$(".sidebar-submenu, .menu-content").hide(),$(".submenu-title").append('<div class="according-menu"><i class="fa fa-angle-right"></i></div>'),$(".submenu-title").on("click",function(){$(".submenu-title").removeClass("active").find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-right"></i></div>'),$(".submenu-content").slideUp("normal"),$(this).next().is(":hidden")==!0?($(this).addClass("active"),$(this).find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-down"></i></div>'),$(this).next().slideDown("normal")):$(this).find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-right"></i></div>')}),$(".submenu-content").hide();else if($("#pageWrapper").hasClass("horizontal-wrapper"))$(window).on("load",function(){$(document).load($(window).bind("resize",M));function M(){window.matchMedia("(max-width: 991px)").matches&&($("#pageWrapper").removeClass("horizontal-wrapper").addClass("compact-wrapper"),$(".page-body-wrapper").removeClass("horizontal-menu").addClass("sidebar-icon"),$(".submenu-title").append('<div class="according-menu"><i class="fa fa-angle-right"></i></div>'),$(".submenu-title").on("click",function(){$(".submenu-title").removeClass("active"),$(".submenu-title").find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-right"></i></div>'),$(".submenu-content").slideUp("normal"),$(this).next().is(":hidden")==!0?($(this).addClass("active"),$(this).find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-down"></i></div>'),$(this).next().slideDown("normal")):$(this).find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-right"></i></div>')}),$(".submenu-content").hide(),$(".sidebar-title").append('<div class="according-menu"><i class="fa fa-angle-right"></i></div>'),$(".sidebar-title").on("click",function(){$(".sidebar-title").removeClass("active"),$(".sidebar-title").find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-right"></i></div>'),$(".sidebar-submenu, .menu-content").slideUp("normal"),$(this).next().is(":hidden")==!0?($(this).addClass("active"),$(this).find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-down"></i></div>'),$(this).next().slideDown("normal")):$(this).find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-right"></i></div>')}),$(".sidebar-submenu, .menu-content").hide())}});else if($("#pageWrapper").hasClass("compact-sidebar")){var a=$(window).width();a>992&&$('<div class="bg-overlay1"></div>').appendTo($("body")),$(".sidebar-title").on("click",function(){$(".sidebar-title").removeClass("active"),$(".bg-overlay1").removeClass("active"),$(".sidebar-submenu").removeClass("close-submenu").slideUp("normal"),$(".sidebar-submenu, .menu-content").slideUp("normal"),$(".menu-content").slideUp("normal"),$(this).next().is(":hidden")==!0&&($(this).addClass("active"),$(this).next().slideDown("normal"),$(".bg-overlay1").addClass("active"),$(".bg-overlay1").on("click",function(){$(".sidebar-submenu, .menu-content").slideUp("normal"),$(this).removeClass("active")})),a<"992"&&$(".bg-overlay").addClass("active")}),$(".sidebar-submenu, .menu-content").hide(),$(".submenu-title").append('<div class="according-menu"><i class="fa fa-angle-right"></i></div>'),$(".submenu-title").on("click",function(){$(".submenu-title").removeClass("active").find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-right"></i></div>'),$(".submenu-content").slideUp("normal"),$(this).next().is(":hidden")==!0?($(this).addClass("active"),$(this).find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-down"></i></div>'),$(this).next().slideDown("normal")):$(this).find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-right"></i></div>')}),$(".submenu-content").hide(),$(".sidebar-wrapper nav").find("a").removeClass("active"),$(".sidebar-wrapper nav").find("li").removeClass("active");var i=window.location.pathname;$(".sidebar-wrapper nav ul>li a").filter(function(){var M=$(this).attr("href");if(M&&i.indexOf(M)!=-1)return $(this).parents().children("a").addClass("active"),$(this).parents().parents().children(".nav-sub-childmenu").css("display","block"),$(this).addClass("active"),$(this).parent().parent().parent().children("a").find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-down"></i></div>'),!1})}var c=$(".sidebar-wrapper"),u=$(".page-header"),h=$(".toggle-sidebar");h.on("click",function(){c.toggleClass("close_icon"),u.toggleClass("close_icon"),$(window).trigger("overlay")}),$(window).on("overlay",function(){var M=$(".bg-overlay"),Q=c.hasClass("close_icon");$(window).width()<=991&&!Q&&M.length===0&&$('<div class="bg-overlay active"></div>').appendTo($("body")),Q&&M.length>0&&M.remove()}),$(".sidebar-wrapper .back-btn").on("click",function(M){$(".page-header").toggleClass("close_icon"),$(".sidebar-wrapper").toggleClass("close_icon"),$(window).trigger("overlay")}),$("body").on("click",".bg-overlay",function(){u.addClass("close_icon"),c.addClass("close_icon"),$(this).remove()});var m=$(".body-part");m.on("click",function(){h.attr("checked",!1),c.addClass("close_icon"),u.addClass("close_icon")});var p=$(window),v=p.width();(function(M){v<=1385&&(h.attr("checked",!1),c.addClass("close_icon"),u.addClass("close_icon"))})(jQuery);var y=$("#sidebar-menu"),S="500px",T=-500,A=function(){return $(".sidebar-wrapper").innerWidth()},I=A();if(I>="1660")var F=-3e3;else if(I>="1440")var F=-3600;else var F=-4200;if($("#left-arrow").addClass("disabled"),$("#right-arrow").on("click",function(){var M=parseInt(y.css("marginLeft"));M>=F&&($("#left-arrow").removeClass("disabled"),y.stop(!1,!0).animate({marginLeft:"-="+S},{duration:400}),M==F&&$(this).addClass("disabled"))}),$("#left-arrow").on("click",function(){var M=parseInt(y.css("marginLeft"));M<0&&(y.stop(!1,!0).animate({marginLeft:"+="+S},{duration:400}),$("#right-arrow").removeClass("disabled"),$("#left-arrow").removeClass("disabled"),M>=T&&$(this).addClass("disabled"))}),$("#pageWrapper").hasClass("compact-wrapper")){$(".sidebar-wrapper nav #sidebar-menu .simplebar-wrapper .simplebar-content-wrapper .simplebar-content").find("a").removeClass("active"),$(".sidebar-wrapper nav #sidebar-menu .simplebar-wrapper .simplebar-content-wrapper .simplebar-content").find("li").removeClass("active");var i=window.location.pathname;$(".sidebar-wrapper nav #sidebar-menu ul .simplebar-mask li a").filter(function(){var Q=$(this).attr("href");if(Q&&i.indexOf(Q)!=-1)return $(this).parents().children("a").addClass("active"),$(this).parents().parents().children("ul").css("display","block"),$(this).addClass("active"),$(this).parent().parent().parent().children("a").find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-down"></i></div>'),$(this).parent().parent().parent().parent().parent().children("a").find("div").replaceWith('<div class="according-menu"><i class="fa fa-angle-down"></i></div>'),!1})}$(".left-header .mega-menu .nav-link").on("click",function(M){M.stopPropagation(),$(this).parent().children(".mega-menu-container").toggleClass("show")}),$(".left-header .level-menu .nav-link").on("click",function(M){M.stopPropagation(),$(this).parent().children(".header-level-menu").toggleClass("show")}),$(document).on("click",function(){$(".mega-menu-container").removeClass("show"),$(".header-level-menu").removeClass("show")}),$(window).scroll(function(){var M=$(window).scrollTop();M>=50&&($(".mega-menu-container").removeClass("show"),$(".header-level-menu").removeClass("show"))}),$(".left-header .level-menu .nav-link").on("click",function(){$(".mega-menu-container").hasClass("show")&&$(".mega-menu-container").removeClass("show")}),$(".left-header .mega-menu .nav-link").on("click",function(){$(".header-level-menu").hasClass("show")&&$(".header-level-menu").removeClass("show")}),$(document).ready(function(){$(".outside").on("click",function(){$(this).find(".menu-to-be-close").slideToggle("fast")})}),$(document).on("click",function(M){var Q=$(".outside");Q!==M.target&&!Q.has(M.target).length&&$(".menu-to-be-close").slideUp("fast")}),$(".left-header .link-section > div").on("click",function(M){$(window).width()<=1199&&($(".left-header .link-section > div").removeClass("active"),$(this).toggleClass("active"),$(this).parent().children("ul").toggleClass("d-block").slideToggle())}),$(window).width()<=1199&&($(".left-header .link-section").children("ul").css("display","none"),$(this).parent().children("ul").toggleClass("d-block").slideToggle()),$(".simplebar-wrapper .simplebar-content-wrapper").length&&$(".simplebar-wrapper .simplebar-content-wrapper")&&$("#pageWrapper").hasClass("compact-wrapper")&&$(".simplebar-wrapper .simplebar-content-wrapper").animate({scrollTop:$(".simplebar-wrapper .simplebar-content-wrapper a.active").offset().top-400},1e3),$(window).resize(function(){var M=p.width();M<=1400?(h.attr("checked",!1),c.addClass("close_icon"),u.addClass("close_icon")):(h.attr("checked",!0),c.removeClass("close_icon"),u.removeClass("close_icon"))}),$("body").keydown(function(M){M.keyCode==27&&($(".search-full input").val(""),$(".form-control-search input").val(""),$(".page-wrapper").removeClass("offcanvas-bookmark"),$(".search-full").removeClass("open"),$(".search-form .form-control-search").removeClass("open"),$("body").removeClass("offcanvas"))}),$(".mode").on("click",function(){$(".mode i").toggleClass("fa-moon-o").toggleClass("fa-lightbulb-o"),$("body").toggleClass("dark-only"),$(this).attr("data-attr"),localStorage.setItem("body","dark-only")}),$(document).on("click",".button-click",function(M){M.preventDefault(),window.location.href=$(this).data("href")})});$(document).on("click",".data-confirm",function(a){a.preventDefault();let i=$(this).data("confirm"),c=this;Swal.fire({title:"Are You Sure ?",text:i??"Once deleted, you will not be able to recover !",showConfirmButton:!0,showCloseButton:!0,showCancelButton:!0}).then(u=>{if(u.isConfirmed===!0&&($(c).data("action")&&$.ajax({method:$(c).data("method"),url:$(c).data("action"),data:$(c).data("values"),success:function(h){handleOKResponse(h)},error:function(h){handleBadResponse(h)}}),$(c).attr("href")&&!$(c).attr("href")!="")){let h={location:$(c).attr("href")};redirect(h)}})});window.handleOKResponse=function(a){if(a.status==200&&(messageBox(a.state,a.msg),a.callback!==null||a.callback!=="")){let i=window[a.callback];typeof i=="function"&&i(a.params)}};window.handleBadResponse=function(a){clearAllErrors(),a.status==422&&handle422Case(a.responseJSON)};window.handle422Case=function(a){messageBox(!1,a.msg?a.msg:a.message),$.each(a.errors,function(i,c){let u=$(`input[name="${i}"]`),h=$(u).closest("div.form-group");if(h.length){let m=`<div class='text-danger ajax-response-error'>${c}</div>`;h.append(m)}})};window.redirect=function(a){(typeof a.location<"u"||a.location!==null)&&(window.location.href=a.location)};window.reload=function(){window.location.reload()};window.clearAllErrors=function(){$(".ajax-response-error").remove()};window.messageBox=function(a,i,c=null){!c&&a==!1?c="<i class='fa fa-warning'></i>":!c&&a==!0&&(c="<i class='fa fa-check-square'></i>"),$.notify(`${c}<strong>${i}</strong>`,{type:a?"success":"danger",allow_dismiss:!0,showProgressbar:!0,timer:100,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"}})}});export default TX();
